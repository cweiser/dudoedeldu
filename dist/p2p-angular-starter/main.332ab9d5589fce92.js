(self.webpackChunkp2p_angular_starter=self.webpackChunkp2p_angular_starter||[]).push([[179],{511:(Te,z,Z)=>{"use strict";function B(e){return"function"==typeof e}function E(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const S=E(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function _(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class v{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(B(r))try{r()}catch(i){t=i instanceof S?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{m(i)}catch(s){t=t??[],s instanceof S?t=[...t,...s.errors]:t.push(s)}}if(t)throw new S(t)}}add(t){var n;if(t&&t!==this)if(this.closed)m(t);else{if(t instanceof v){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&_(n,t)}remove(t){const{_finalizers:n}=this;n&&_(n,t),t instanceof v&&t._removeParent(this)}}v.EMPTY=(()=>{const e=new v;return e.closed=!0,e})();const M=v.EMPTY;function x(e){return e instanceof v||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function m(e){B(e)?e():e.unsubscribe()}const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},N={setTimeout(e,t,...n){const{delegate:r}=N;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=N;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function C(e){N.setTimeout(()=>{const{onUnhandledError:t}=I;if(!t)throw e;t(e)})}function P(){}const V=D("C",void 0,void 0);function D(e,t,n){return{kind:e,value:t,error:n}}let b=null;function A(e){if(I.useDeprecatedSynchronousErrorHandling){const t=!b;if(t&&(b={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=b;if(b=null,n)throw r}}else e()}class R extends v{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,x(t)&&t.add(this)):this.destination=oe}static create(t,n,r){return new F(t,n,r)}next(t){this.isStopped?ie(function q(e){return D("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ie(function U(e){return D("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ie(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const H=Function.prototype.bind;function ee(e,t){return H.call(e,t)}class k{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){$(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){$(r)}else $(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){$(n)}}}class F extends R{constructor(t,n,r){let o;if(super(),B(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&I.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&ee(t.next,i),error:t.error&&ee(t.error,i),complete:t.complete&&ee(t.complete,i)}):o=t}this.destination=new k(o)}}function $(e){I.useDeprecatedSynchronousErrorHandling?function L(e){I.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=e)}(e):C(e)}function ie(e,t){const{onStoppedNotification:n}=I;n&&N.setTimeout(()=>n(e,t))}const oe={closed:!0,next:P,error:function Q(e){throw e},complete:P},re="function"==typeof Symbol&&Symbol.observable||"@@observable";function de(e){return e}let et=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function qe(e){return e&&e instanceof R||function on(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}(e)&&x(e)}(n)?n:new F(n,r,o);return A(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=vn(r))((o,i)=>{const s=new F({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[re](){return this}pipe(...n){return function he(e){return 0===e.length?de:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=vn(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function vn(e){var t;return null!==(t=e??I.Promise)&&void 0!==t?t:Promise}const He=E(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nt=(()=>{class e extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new xt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new He}next(n){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){A(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?M:(this.currentObservers=null,i.push(n),new v(()=>{this.currentObservers=null,_(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new et;return n.source=this,n}}return e.create=(t,n)=>new xt(t,n),e})();class xt extends Nt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:M}}function Ft(e){return t=>{if(function sn(e){return B(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Rt(e,t,n,r,o){return new an(e,t,n,r,o)}class an extends R{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function bt(e,t){return Ft((n,r)=>{let o=0;n.subscribe(Rt(r,i=>{r.next(e.call(t,i,o++))}))})}function Wt(e){return this instanceof Wt?(this.v=e,this):new Wt(e)}function gs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ne(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}(a,c,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Xp=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function eg(e){return B(e?.then)}function tg(e){return B(e[re])}function ng(e){return Symbol.asyncIterator&&B(e?.[Symbol.asyncIterator])}function rg(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const og=function pS(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ig(e){return B(e?.[og])}function sg(e){return function Qr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(w){return function(T){return Promise.resolve(T).then(w,p)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(w,T){r[w]&&(o[w]=function(j){return new Promise(function(J,te){i.push([w,j,J,te])>1||c(w,j)})},T&&(o[w]=T(o[w])))}function c(w,T){try{!function l(w){w.value instanceof Wt?Promise.resolve(w.value.v).then(d,p):y(i[0][2],w)}(r[w](T))}catch(j){y(i[0][3],j)}}function d(w){c("next",w)}function p(w){c("throw",w)}function y(w,T){w(T),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Wt(n.read());if(o)return yield Wt(void 0);yield yield Wt(r)}}finally{n.releaseLock()}})}function ag(e){return B(e?.getReader)}function er(e){if(e instanceof et)return e;if(null!=e){if(tg(e))return function gS(e){return new et(t=>{const n=e[re]();if(B(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Xp(e))return function mS(e){return new et(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(eg(e))return function yS(e){return new et(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,C)})}(e);if(ng(e))return cg(e);if(ig(e))return function vS(e){return new et(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(ag(e))return function wS(e){return cg(sg(e))}(e)}throw rg(e)}function cg(e){return new et(t=>{(function _S(e,t){var n,r,o,i;return function O(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{l(r.next(d))}catch(p){s(p)}}function c(d){try{l(r.throw(d))}catch(p){s(p)}}function l(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=gs(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function eo(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function lg(e,t,n=1/0){return B(t)?lg((r,o)=>bt((i,s)=>t(r,i,o,s))(er(e(r,o))),n):("number"==typeof t&&(n=t),Ft((r,o)=>function DS(e,t,n,r,o,i,s,a){const c=[];let l=0,d=0,p=!1;const y=()=>{p&&!c.length&&!l&&t.complete()},w=j=>l<r?T(j):c.push(j),T=j=>{i&&t.next(j),l++;let J=!1;er(n(j,d++)).subscribe(Rt(t,te=>{o?.(te),i?w(te):t.next(te)},()=>{J=!0},void 0,()=>{if(J)try{for(l--;c.length&&l<r;){const te=c.shift();s?eo(t,s,()=>T(te)):T(te)}y()}catch(te){t.error(te)}}))};return e.subscribe(Rt(t,w,()=>{p=!0,y()})),()=>{a?.()}}(r,o,e,n)))}const ug=new et(e=>e.complete());function hu(e){return e[e.length-1]}function dg(e){return function ES(e){return e&&B(e.schedule)}(hu(e))?e.pop():void 0}function fg(e,t=0){return Ft((n,r)=>{n.subscribe(Rt(r,o=>eo(r,e,()=>r.next(o),t),()=>eo(r,e,()=>r.complete(),t),o=>eo(r,e,()=>r.error(o),t)))})}function hg(e,t=0){return Ft((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function pg(e,t){if(!e)throw new Error("Iterable cannot be null");return new et(n=>{eo(n,t,()=>{const r=e[Symbol.asyncIterator]();eo(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function pu(e,t){return t?function kS(e,t){if(null!=e){if(tg(e))return function MS(e,t){return er(e).pipe(hg(t),fg(t))}(e,t);if(Xp(e))return function TS(e,t){return new et(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(eg(e))return function AS(e,t){return er(e).pipe(hg(t),fg(t))}(e,t);if(ng(e))return pg(e,t);if(ig(e))return function NS(e,t){return new et(n=>{let r;return eo(n,t,()=>{r=e[og](),eo(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>B(r?.return)&&r.return()})}(e,t);if(ag(e))return function RS(e,t){return pg(sg(e),t)}(e,t)}throw rg(e)}(e,t):er(e)}function OS(...e){const t=dg(e),n=function IS(e,t){return"number"==typeof hu(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?er(r[0]):function CS(e=1/0){return lg(de,e)}(n)(pu(r,t)):ug}class xS extends Nt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function gg(e={}){const{connector:t=(()=>new Nt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,l=0,d=!1,p=!1;const y=()=>{a?.unsubscribe(),a=void 0},w=()=>{y(),s=c=void 0,d=p=!1},T=()=>{const j=s;w(),j?.unsubscribe()};return Ft((j,J)=>{l++,!p&&!d&&y();const te=c=c??t();J.add(()=>{l--,0===l&&!p&&!d&&(a=gu(T,o))}),te.subscribe(J),!s&&l>0&&(s=new F({next:X=>te.next(X),error:X=>{p=!0,y(),a=gu(w,n,X),te.error(X)},complete:()=>{d=!0,y(),a=gu(w,r),te.complete()}}),er(j).subscribe(s))})(i)}}function gu(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new F({next:()=>{r.unsubscribe(),e()}});return er(t(...n)).subscribe(r)}function VS(e,t){return e===t}function We(e){for(let t in e)if(e[t]===We)return t;throw Error("Could not find renamed property on target object.")}function Pa(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function It(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(It).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function mu(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const BS=We({__forward_ref__:We});function tt(e){return e.__forward_ref__=tt,e.toString=function(){return It(this())},e}function De(e){return yu(e)?e():e}function yu(e){return"function"==typeof e&&e.hasOwnProperty(BS)&&e.__forward_ref__===tt}function vu(e){return e&&!!e.\u0275providers}class ce extends Error{constructor(t,n){super(function La(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ze(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function be(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function wu(e,t){throw new ce(-201,!1)}function Nn(e,t){null==e&&function ve(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ze(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Er(e){return{providers:e.providers||[],imports:e.imports||[]}}function Va(e){return yg(e,ja)||yg(e,vg)}function yg(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ba(e){return e&&(e.hasOwnProperty(_u)||e.hasOwnProperty(qS))?e[_u]:null}const ja=We({\u0275prov:We}),_u=We({\u0275inj:We}),vg=We({ngInjectableDef:We}),qS=We({ngInjectorDef:We});var xe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xe||{});let Du;function cn(e){const t=Du;return Du=e,t}function _g(e,t,n){const r=Va(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&xe.Optional?null:void 0!==t?t:void wu(It(e))}const nt=globalThis;class ye{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ze({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ms={},Iu="__NG_DI_FLAG__",Ua="ngTempTokenPath",ZS=/\n/gm,Cg="__source";let Jo;function to(e){const t=Jo;return Jo=e,t}function JS(e,t=xe.Default){if(void 0===Jo)throw new ce(-203,!1);return null===Jo?_g(e,void 0,t):Jo.get(e,t&xe.Optional?null:void 0,t)}function Le(e,t=xe.Default){return(function wg(){return Du}()||JS)(De(e),t)}function Ke(e,t=xe.Default){return Le(e,Ha(t))}function Ha(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Mu(e){const t=[];for(let n=0;n<e.length;n++){const r=De(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ce(900,!1);let o,i=xe.Default;for(let s=0;s<r.length;s++){const a=r[s],c=XS(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}t.push(Le(o,i))}else t.push(Le(r))}return t}function XS(e){return e[Iu]}function Sr(e){return{toString:e}.toString()}var $a=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}($a||{}),Vn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Vn||{});const tr={},Ue=[],Ga=We({\u0275cmp:We}),Au=We({\u0275dir:We}),Tu=We({\u0275pipe:We}),Eg=We({\u0275mod:We}),Ir=We({\u0275fac:We}),vs=We({__NG_ELEMENT_ID__:We}),Sg=We({__NG_ENV_ID__:We});function Ig(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function Nu(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{const i=o,s=n[++r];Ag(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Mg(e){return 3===e||4===e||6===e}function Ag(e){return 64===e.charCodeAt(0)}function ws(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Tg(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Tg(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const Ng="ng-template";function nI(e,t,n){let r=0,o=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&o){const s=e[r++];if(n&&"class"===i&&-1!==Ig(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function Rg(e){return 4===e.type&&e.value!==Ng}function rI(e,t,n){return t===(4!==e.type||n?e.value:Ng)}function oI(e,t,n){let r=4;const o=e.attrs||[],i=function aI(e){for(let t=0;t<e.length;t++)if(Mg(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!rI(e,c,n)||""===c&&1===t.length){if(Bn(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!nI(e.attrs,l,n)){if(Bn(r))return!1;s=!0}continue}const p=iI(8&r?"class":c,o,Rg(e),n);if(-1===p){if(Bn(r))return!1;s=!0;continue}if(""!==l){let y;y=p>i?"":o[p+1].toLowerCase();const w=8&r?y:null;if(w&&-1!==Ig(w,l,0)||2&r&&l!==y){if(Bn(r))return!1;s=!0}}}}else{if(!s&&!Bn(r)&&!Bn(c))return!1;if(s&&Bn(c))continue;s=!1,r=c|1&r}}return Bn(r)||s}function Bn(e){return 0==(1&e)}function iI(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function cI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function kg(e,t,n=!1){for(let r=0;r<t.length;r++)if(oI(e,t[r],n))return!0;return!1}function Og(e,t){return e?":not("+t.trim()+")":t}function uI(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Bn(s)&&(t+=Og(i,o),o=""),r=s,i=i||!Bn(r);n++}return""!==o&&(t+=Og(i,o)),t}function xg(e){return Sr(()=>{const t=Pg(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$a.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Vn.Emulated,styles:e.styles||Ue,_:null,schemas:e.schemas||null,tView:null,id:""};Lg(n);const r=e.dependencies;return n.directiveDefs=za(r,!1),n.pipeDefs=za(r,!0),n.id=function vI(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function pI(e){return Ve(e)||Pt(e)}function gI(e){return null!==e}function no(e){return Sr(()=>({type:e.type,bootstrap:e.bootstrap||Ue,declarations:e.declarations||Ue,imports:e.imports||Ue,exports:e.exports||Ue,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Fg(e,t){if(null==e)return tr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function Se(e){return Sr(()=>{const t=Pg(e);return Lg(t),t})}function Ve(e){return e[Ga]||null}function Pt(e){return e[Au]||null}function Yt(e){return e[Tu]||null}function Pg(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||tr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ue,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fg(e.inputs,t),outputs:Fg(e.outputs)}}function Lg(e){e.features?.forEach(t=>t(e))}function za(e,t){if(!e)return null;const n=t?Yt:pI;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(gI)}const ht=0,ue=1,Ae=2,lt=3,jn=4,Ds=5,Ut=6,Xo=7,vt=8,ro=9,ei=10,Ee=11,Cs=12,Vg=13,ti=14,wt=15,bs=16,ni=17,nr=18,Es=19,Bg=20,oo=21,Mr=22,Ss=23,Is=24,ke=25,Ru=1,jg=2,rr=7,ri=9,Lt=11;function un(e){return Array.isArray(e)&&"object"==typeof e[Ru]}function Zt(e){return Array.isArray(e)&&!0===e[Ru]}function ku(e){return 0!=(4&e.flags)}function Ao(e){return e.componentOffset>-1}function Wa(e){return 1==(1&e.flags)}function Un(e){return!!e.template}function Ou(e){return 0!=(512&e[Ae])}function To(e,t){return e.hasOwnProperty(Ir)?e[Ir]:null}let Vt=null,Ya=!1;function Rn(e){const t=Vt;return Vt=e,t}const $g={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function zg(e){if(!As(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Yg(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Wg(e){e.dirty=!0,function qg(e){if(void 0===e.liveConsumerNode)return;const t=Ya;Ya=!0;try{for(const n of e.liveConsumerNode)n.dirty||Wg(n)}finally{Ya=t}}(e),e.consumerMarkedDirty?.(e)}function Fu(e){return e&&(e.nextProducerIndex=0),Rn(e)}function Pu(e,t){if(Rn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(As(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Za(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Yg(e){oi(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(zg(n),r!==n.version))return!0}return!1}function Zg(e){if(oi(e),As(e))for(let t=0;t<e.producerNode.length;t++)Za(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Za(e,t){if(function Kg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),oi(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Za(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];oi(o),o.producerIndexOfThis[r]=t}}function As(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function oi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Jg=null;const nm=()=>{},RI=(()=>({...$g,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:nm}))();class kI{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ar(){return rm}function rm(e){return e.type.prototype.ngOnChanges&&(e.setInput=xI),OI}function OI(){const e=im(this),t=e?.current;if(t){const n=e.previous;if(n===tr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function xI(e,t,n,r){const o=this.declaredInputs[n],i=im(e)||function FI(e,t){return e[om]=t}(e,{previous:tr,current:null}),s=i.current||(i.current={}),a=i.previous,c=a[o];s[o]=new kI(c&&c.currentValue,t,a===tr),e[r]=t}Ar.ngInherit=!0;const om="__ngSimpleChanges__";function im(e){return e[om]||null}const or=function(e,t,n){};function rt(e){for(;Array.isArray(e);)e=e[ht];return e}function dn(e,t){return rt(t[e.index])}function cm(e,t){return e.data[t]}function Dn(e,t){const n=t[e];return un(n)?n:n[ht]}function so(e,t){return null==t?null:e[t]}function lm(e){e[ni]=0}function UI(e){1024&e[Ae]||(e[Ae]|=1024,dm(e,1))}function um(e){1024&e[Ae]&&(e[Ae]&=-1025,dm(e,-1))}function dm(e,t){let n=e[lt];if(null===n)return;n[Ds]+=t;let r=n;for(n=n[lt];null!==n&&(1===t&&1===r[Ds]||-1===t&&0===r[Ds]);)n[Ds]+=t,r=n,n=n[lt]}const we={lFrame:Cm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pm(){return we.bindingsEnabled}function ne(){return we.lFrame.lView}function Be(){return we.lFrame.tView}function Bt(){let e=gm();for(;null!==e&&64===e.type;)e=e.parent;return e}function gm(){return we.lFrame.currentTNode}function ir(e,t){const n=we.lFrame;n.currentTNode=e,n.isParent=t}function Uu(){return we.lFrame.isParent}function t1(e,t){const n=we.lFrame;n.bindingIndex=n.bindingRootIndex=e,$u(t)}function $u(e){we.lFrame.currentDirectiveIndex=e}function wm(){return we.lFrame.currentQueryIndex}function zu(e){we.lFrame.currentQueryIndex=e}function r1(e){const t=e[ue];return 2===t.type?t.declTNode:1===t.type?e[Ut]:null}function _m(e,t,n){if(n&xe.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&xe.Host||(o=r1(i),null===o||(i=i[ti],10&o.type))););if(null===o)return!1;t=o,e=i}const r=we.lFrame=Dm();return r.currentTNode=t,r.lView=e,!0}function qu(e){const t=Dm(),n=e[ue];we.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Dm(){const e=we.lFrame,t=null===e?null:e.child;return null===t?Cm(e):t}function Cm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function bm(){const e=we.lFrame;return we.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Em=bm;function Wu(){const e=bm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Kt(){return we.lFrame.selectedIndex}function No(e){we.lFrame.selectedIndex=e}let Im=!0;function Ka(){return Im}function ao(e){Im=e}function Ja(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=d&&(e.destroyHooks??=[]).push(n,d)}}function Xa(e,t,n){Mm(e,t,3,n)}function ec(e,t,n,r){(3&e[Ae])===n&&Mm(e,t,n,r)}function Yu(e,t){let n=e[Ae];(3&n)===t&&(n&=8191,n+=1,e[Ae]=n)}function Mm(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[ni]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[ni]+=65536),(a<i||-1==i)&&(d1(e,n,t,c),e[ni]=(4294901760&e[ni])+c+2),c++}function Am(e,t){or(4,e,t);const n=Rn(null);try{t.call(e)}finally{Rn(n),or(5,e,t)}}function d1(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];o?e[Ae]>>13<e[ni]>>16&&(3&e[Ae])===t&&(e[Ae]+=8192,Am(a,i)):Am(a,i)}const ci=-1;class Ns{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Qu(e){return e!==ci}function Rs(e){return 32767&e}function ks(e,t){let n=function g1(e){return e>>16}(e),r=t;for(;n>0;)r=r[ti],n--;return r}let Ku=!0;function tc(e){const t=Ku;return Ku=e,t}const Tm=255,Nm=5;let m1=0;const sr={};function nc(e,t){const n=Rm(e,t);if(-1!==n)return n;const r=t[ue];r.firstCreatePass&&(e.injectorIndex=t.length,Ju(r.data,e),Ju(t,null),Ju(r.blueprint,null));const o=rc(e,t),i=e.injectorIndex;if(Qu(o)){const s=Rs(o),a=ks(o,t),c=a[ue].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function Ju(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Rm(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function rc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Vm(o),null===r)return ci;if(n++,o=o[ti],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ci}function Xu(e,t,n){!function y1(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(vs)&&(r=n[vs]),null==r&&(r=n[vs]=m1++);const o=r&Tm;t.data[e+(o>>Nm)]|=1<<o}(e,t,n)}function km(e,t,n){if(n&xe.Optional||void 0!==e)return e;wu()}function Om(e,t,n,r){if(n&xe.Optional&&void 0===r&&(r=null),!(n&(xe.Self|xe.Host))){const o=e[ro],i=cn(void 0);try{return o?o.get(t,r,n&xe.Optional):_g(t,r,n&xe.Optional)}finally{cn(i)}}return km(r,0,n)}function xm(e,t,n,r=xe.Default,o){if(null!==e){if(2048&t[Ae]&&!(r&xe.Self)){const s=function b1(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[Ae]&&!(512&s[Ae]);){const a=Fm(i,s,n,r|xe.Self,sr);if(a!==sr)return a;let c=i.parent;if(!c){const l=s[Bg];if(l){const d=l.get(n,sr,r);if(d!==sr)return d}c=Vm(s),s=s[ti]}i=c}return o}(e,t,n,r,sr);if(s!==sr)return s}const i=Fm(e,t,n,r,sr);if(i!==sr)return i}return Om(t,n,r,o)}function Fm(e,t,n,r,o){const i=function _1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(vs)?e[vs]:void 0;return"number"==typeof t?t>=0?t&Tm:C1:t}(n);if("function"==typeof i){if(!_m(t,e,r))return r&xe.Host?km(o,0,r):Om(t,n,r,o);try{let s;if(s=i(r),null!=s||r&xe.Optional)return s;wu()}finally{Em()}}else if("number"==typeof i){let s=null,a=Rm(e,t),c=ci,l=r&xe.Host?t[wt][Ut]:null;for((-1===a||r&xe.SkipSelf)&&(c=-1===a?rc(e,t):t[a+8],c!==ci&&Lm(r,!1)?(s=t[ue],a=Rs(c),t=ks(c,t)):a=-1);-1!==a;){const d=t[ue];if(Pm(i,a,d.data)){const p=w1(a,t,n,s,r,l);if(p!==sr)return p}c=t[a+8],c!==ci&&Lm(r,t[ue].data[a+8]===l)&&Pm(i,a,t)?(s=d,a=Rs(c),t=ks(c,t)):a=-1}}return o}function w1(e,t,n,r,o,i){const s=t[ue],a=s.data[e+8],d=oc(a,s,n,null==r?Ao(a)&&Ku:r!=s&&0!=(3&a.type),o&xe.Host&&i===a);return null!==d?Ro(t,s,d,a):sr}function oc(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,c=e.directiveStart,d=i>>20,y=o?a+d:e.directiveEnd;for(let w=r?a:a+d;w<y;w++){const T=s[w];if(w<c&&n===T||w>=c&&T.type===n)return w}if(o){const w=s[c];if(w&&Un(w)&&w.type===n)return c}return null}function Ro(e,t,n,r){let o=e[n];const i=t.data;if(function f1(e){return e instanceof Ns}(o)){const s=o;s.resolving&&function jS(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ce(-200,`Circular dependency in DI detected for ${e}${n}`)}(ze(i[n]));const a=tc(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?cn(s.injectImpl):null;_m(e,r,xe.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function u1(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=rm(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==l&&cn(l),tc(a),s.resolving=!1,Em()}}return o}function Pm(e,t,n){return!!(n[t+(e>>Nm)]&1<<e)}function Lm(e,t){return!(e&xe.Self||e&xe.Host&&t)}class Jt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return xm(this._tNode,this._lView,t,Ha(r),n)}}function C1(){return new Jt(Bt(),ne())}function ed(e){return yu(e)?()=>{const t=ed(De(e));return t&&t()}:To(e)}function Vm(e){const t=e[ue],n=t.type;return 2===n?t.declTNode:1===n?e[Ut]:null}function pi(e,t){e.forEach(n=>Array.isArray(n)?pi(n,t):t(n))}function jm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ic(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Cn(e,t,n){let r=gi(e,t);return r>=0?e[1|r]=n:(r=~r,function N1(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function rd(e,t){const n=gi(e,t);if(n>=0)return e[1|n]}function gi(e,t){return function Um(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}function dc(e){return 128==(128&e.flags)}var co=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(co||{});const ud=new Map;let eM=0;const fd="__ngContext__";function $t(e,t){un(t)?(e[fd]=t[Es],function nM(e){ud.set(e[Es],e)}(t)):e[fd]=t}let hd;function pd(e,t){return hd(e,t)}function Vs(e){const t=e[lt];return Zt(t)?t[lt]:t}function ay(e){return ly(e[Cs])}function cy(e){return ly(e[jn])}function ly(e){for(;null!==e&&!Zt(e);)e=e[jn];return e}function vi(e,t,n,r,o){if(null!=r){let i,s=!1;Zt(r)?i=r:un(r)&&(s=!0,r=r[ht]);const a=rt(r);0===e&&null!==n?null==o?hy(t,n,a):ko(t,n,a,o||null,!0):1===e&&null!==n?ko(t,n,a,o||null,!0):2===e?function vc(e,t,n){const r=mc(e,t);r&&function DM(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function EM(e,t,n,r,o){const i=n[rr];i!==rt(n)&&vi(t,e,r,i,o);for(let a=Lt;a<n.length;a++){const c=n[a];js(c[ue],c,e,t,r,i)}}(t,e,i,n,o)}}function pc(e,t,n){return e.createElement(t,n)}function dy(e,t){const n=e[ri],r=n.indexOf(t);um(t),n.splice(r,1)}function gc(e,t){if(e.length<=Lt)return;const n=Lt+t,r=e[n];if(r){const o=r[bs];null!==o&&o!==e&&dy(o,r),t>0&&(e[n-1][jn]=r[jn]);const i=ic(e,Lt+t);!function hM(e,t){js(e,t,t[Ee],2,null,null),t[ht]=null,t[Ut]=null}(r[ue],r);const s=i[nr];null!==s&&s.detachView(i[ue]),r[lt]=null,r[jn]=null,r[Ae]&=-129}return r}function md(e,t){if(!(256&t[Ae])){const n=t[Ee];t[Ss]&&Zg(t[Ss]),t[Is]&&Zg(t[Is]),n.destroyNode&&js(e,t,n,3,null,null),function mM(e){let t=e[Cs];if(!t)return yd(e[ue],e);for(;t;){let n=null;if(un(t))n=t[Cs];else{const r=t[Lt];r&&(n=r)}if(!n){for(;t&&!t[jn]&&t!==e;)un(t)&&yd(t[ue],t),t=t[lt];null===t&&(t=e),un(t)&&yd(t[ue],t),n=t&&t[jn]}t=n}}(t)}}function yd(e,t){if(!(256&t[Ae])){t[Ae]&=-129,t[Ae]|=256,function _M(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ns)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];or(4,a,c);try{c.call(a)}finally{or(5,a,c)}}else{or(4,o,i);try{i.call(o)}finally{or(5,o,i)}}}}}(e,t),function wM(e,t){const n=e.cleanup,r=t[Xo];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[Xo]=null);const o=t[oo];if(null!==o){t[oo]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[ue].type&&t[Ee].destroy();const n=t[bs];if(null!==n&&Zt(t[lt])){n!==t[lt]&&dy(n,t);const r=t[nr];null!==r&&r.detachView(e)}!function rM(e){ud.delete(e[Es])}(t)}}function vd(e,t,n){return function fy(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[ht];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===Vn.None||i===Vn.Emulated)return null}return dn(r,n)}}(e,t.parent,n)}function ko(e,t,n,r,o){e.insertBefore(t,n,r,o)}function hy(e,t,n){e.appendChild(t,n)}function py(e,t,n,r,o){null!==r?ko(e,t,n,r,o):hy(e,t,n)}function mc(e,t){return e.parentNode(t)}let wd,bd,yy=function my(e,t,n){return 40&e.type?dn(e,n):null};function yc(e,t,n,r){const o=vd(e,r,t),i=t[Ee],a=function gy(e,t,n){return yy(e,t,n)}(r.parent||t[Ut],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)py(i,o,n[c],a,!1);else py(i,o,n,a,!1);void 0!==wd&&wd(i,r,t,n,o)}function Bs(e,t){if(null!==t){const n=t.type;if(3&n)return dn(t,e);if(4&n)return _d(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Bs(e,r);{const o=e[t.index];return Zt(o)?_d(-1,o):rt(o)}}if(32&n)return pd(t,e)()||rt(e[t.index]);{const r=wy(e,t);return null!==r?Array.isArray(r)?r[0]:Bs(Vs(e[wt]),r):Bs(e,t.next)}}return null}function wy(e,t){return null!==t?e[wt][Ut].projection[t.projection]:null}function _d(e,t){const n=Lt+e+1;if(n<t.length){const r=t[n],o=r[ue].firstChild;if(null!==o)return Bs(r,o)}return t[rr]}function Dd(e,t,n,r,o,i,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&$t(rt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Dd(e,t,n.child,r,o,i,!1),vi(t,e,o,a,i);else if(32&c){const l=pd(n,r);let d;for(;d=l();)vi(t,e,o,d,i);vi(t,e,o,a,i)}else 16&c?Dy(e,t,r,n,o,i):vi(t,e,o,a,i);n=s?n.projectionNext:n.next}}function js(e,t,n,r,o,i){Dd(n,r,e.firstChild,t,o,i,!1)}function Dy(e,t,n,r,o,i){const s=n[wt],c=s[Ut].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)vi(t,e,o,c[l],i);else{let l=c;const d=s[lt];dc(r)&&(l.flags|=128),Dd(e,t,l,d,o,i,!0)}}function Cy(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function by(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&Nu(e,t,r),null!==o&&Cy(e,t,o),null!==i&&function IM(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}class My{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Cc=new ye("ENVIRONMENT_INITIALIZER"),Py=new ye("INJECTOR",-1),Ly=new ye("INJECTOR_DEF_TYPES");class Td{get(t,n=ms){if(n===ms){const r=new Error(`NullInjectorError: No provider for ${It(t)}!`);throw r.name="NullInjectorError",r}return n}}function eA(...e){return{\u0275providers:By(0,e),\u0275fromNgModule:!0}}function By(e,...t){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return pi(t,s=>{const a=s;bc(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&jy(o,i),n}function jy(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Nd(o,i=>{t(i,r)})}}function bc(e,t,n,r){if(!(e=De(e)))return!1;let o=null,i=Ba(e);const s=!i&&Ve(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const c=e.ngModule;if(i=Ba(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)bc(l,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let l;r.add(o);try{pi(i.imports,d=>{bc(d,t,n,r)&&(l||=[],l.push(d))})}finally{}void 0!==l&&jy(l,t)}if(!a){const l=To(o)||(()=>new o);t({provide:o,useFactory:l,deps:Ue},o),t({provide:Ly,useValue:o,multi:!0},o),t({provide:Cc,useValue:()=>Le(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const l=e;Nd(c,d=>{t(d,l)})}}}return o!==e&&void 0!==e.providers}function Nd(e,t){for(let n of e)vu(n)&&(n=n.\u0275providers),Array.isArray(n)?Nd(n,t):t(n)}const tA=We({provide:String,useValue:We});function Rd(e){return null!==e&&"object"==typeof e&&tA in e}function Oo(e){return"function"==typeof e}const kd=new ye("Set Injector scope."),Ec={},rA={};let Od;function Sc(){return void 0===Od&&(Od=new Td),Od}class kr{}class Ci extends kr{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fd(t,s=>this.processProvider(s)),this.records.set(Py,bi(void 0,this)),o.has("environment")&&this.records.set(kr,bi(void 0,this));const i=this.records.get(kd);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ly.multi,Ue,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=to(this),r=cn(void 0);try{return t()}finally{to(n),cn(r)}}get(t,n=ms,r=xe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Sg))return t[Sg](this);r=Ha(r);const i=to(this),s=cn(void 0);try{if(!(r&xe.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function cA(e){return"function"==typeof e||"object"==typeof e&&e instanceof ye}(t)&&Va(t);c=l&&this.injectableDefInScope(l)?bi(xd(t),Ec):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&xe.Self?Sc():this.parent).get(t,n=r&xe.Optional&&n===ms?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ua]=a[Ua]||[]).unshift(It(t)),i)throw a;return function eI(e,t,n,r){const o=e[Ua];throw t[Cg]&&o.unshift(t[Cg]),e.message=function tI(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=It(t);if(Array.isArray(t))o=t.map(It).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):It(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(ZS,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Ua]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{cn(s),to(i)}}resolveInjectorInitializers(){const t=to(this),n=cn(void 0);try{const o=this.get(Cc.multi,Ue,xe.Self);for(const i of o)i()}finally{to(t),cn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(It(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(t){let n=Oo(t=De(t))?t:De(t&&t.provide);const r=function iA(e){return Rd(e)?bi(void 0,e.useValue):bi($y(e),Ec)}(t);if(Oo(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=bi(void 0,Ec,!0),o.factory=()=>Mu(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ec&&(n.value=rA,n.value=n.factory()),"object"==typeof n.value&&n.value&&function aA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=De(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function xd(e){const t=Va(e),n=null!==t?t.factory:To(e);if(null!==n)return n;if(e instanceof ye)throw new ce(204,!1);if(e instanceof Function)return function oA(e){const t=e.length;if(t>0)throw function Fs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new ce(204,!1);const n=function zS(e){return e&&(e[ja]||e[vg])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ce(204,!1)}function $y(e,t,n){let r;if(Oo(e)){const o=De(e);return To(o)||xd(o)}if(Rd(e))r=()=>De(e.useValue);else if(function Hy(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Mu(e.deps||[]));else if(function Uy(e){return!(!e||!e.useExisting)}(e))r=()=>Le(De(e.useExisting));else{const o=De(e&&(e.useClass||e.provide));if(!function sA(e){return!!e.deps}(e))return To(o)||xd(o);r=()=>new o(...Mu(e.deps))}return r}function bi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Fd(e,t){for(const n of e)Array.isArray(n)?Fd(n,t):n&&vu(n)?Fd(n.\u0275providers,t):t(n)}const Ic=new ye("AppId",{providedIn:"root",factory:()=>lA}),lA="ng",Gy=new ye("Platform Initializer"),Ei=new ye("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zy=new ye("CSP nonce",{providedIn:"root",factory:()=>function _i(){if(void 0!==bd)return bd;if(typeof document<"u")return document;throw new ce(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qy=(e,t,n)=>null;function $d(e,t,n=!1){return qy(e,t,n)}class wA{}class Zy{}class DA{resolveComponentFactory(t){throw function _A(e){const t=Error(`No component factory found for ${It(e)}.`);return t.ngComponent=e,t}(t)}}let kc=(()=>{class e{static{this.NULL=new DA}}return e})();function CA(){return Mi(Bt(),ne())}function Mi(e,t){return new Hn(dn(e,t))}let Hn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=CA}}return e})();function bA(e){return e instanceof Hn?e.nativeElement:e}class Ky{}let xo=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function EA(){const e=ne(),n=Dn(Bt().index,e);return(un(n)?n:e)[Ee]}()}}return e})(),SA=(()=>{class e{static{this.\u0275prov=Ze({token:e,providedIn:"root",factory:()=>null})}}return e})();class Oc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const IA=new Oc("16.2.12"),qd={};function tv(e,t=null,n=null,r){const o=nv(e,t,n,r);return o.resolveInjectorInitializers(),o}function nv(e,t=null,n=null,r,o=new Set){const i=[n||Ue,eA(e)];return r=r||("object"==typeof e?void 0:It(e)),new Ci(i,t||Sc(),r||null,o)}let $n=(()=>{class e{static{this.THROW_IF_NOT_FOUND=ms}static{this.NULL=new Td}static create(n,r){if(Array.isArray(n))return tv({name:""},r,n,"");{const o=n.name??"";return tv({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=Ze({token:e,providedIn:"any",factory:()=>Le(Py)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Yd(e){return e.ngOriginalError}class Or{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Yd(t);for(;n&&Yd(n);)n=Yd(n);return n||null}}function Qd(e){return t=>{setTimeout(e,void 0,t)}}const Gt=class OA extends Nt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=Qd(i),o&&(o=Qd(o)),s&&(s=Qd(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof v&&t.add(a),a}};function ov(...e){}class pt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gt(!1),this.onMicrotaskEmpty=new Gt(!1),this.onStable=new Gt(!1),this.onError=new Gt(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function xA(){const e="function"==typeof nt.requestAnimationFrame;let t=nt[e?"requestAnimationFrame":"setTimeout"],n=nt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function LA(e){const t=()=>{!function PA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(nt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Jd(e),e.isCheckStableRunning=!0,Kd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Jd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(function BA(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(o,i,s,a);try{return iv(e),n.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),sv(e)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return iv(e),n.invoke(o,i,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),sv(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Jd(e),Kd(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new ce(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,FA,ov,ov);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const FA={};function Kd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Jd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function iv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sv(e){e._nesting--,Kd(e)}class VA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gt,this.onMicrotaskEmpty=new Gt,this.onStable=new Gt,this.onError=new Gt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const av=new ye("",{providedIn:"root",factory:cv});function cv(){const e=Ke(pt);let t=!0;return OS(new et(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new et(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{pt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(gg()))}let Xd=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ze({token:e,providedIn:"root",factory:()=>new e})}}return e})();function qs(e){for(;e;){e[Ae]|=64;const t=Vs(e);if(Ou(e)&&!t)return e;e=t}return null}const hv=new ye("",{providedIn:"root",factory:()=>!1});let Fc=null;function yv(e,t){return e[t]??_v()}function vv(e,t){const n=_v();n.producerNode?.length&&(e[t]=Fc,n.lView=e,Fc=wv())}const ZA={...$g,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{qs(e.lView)},lView:null};function wv(){return Object.create(ZA)}function _v(){return Fc??=wv(),Fc}const Ie={};function ef(e){Dv(Be(),ne(),Kt()+e,!1)}function Dv(e,t,n,r){if(!r)if(3==(3&t[Ae])){const i=e.preOrderCheckHooks;null!==i&&Xa(t,i,n)}else{const i=e.preOrderHooks;null!==i&&ec(t,i,0,n)}No(n)}function se(e,t=xe.Default){const n=ne();return null===n?Le(e,t):xm(Bt(),n,De(e),t)}function Pc(e,t,n,r,o,i,s,a,c,l,d){const p=t.blueprint.slice();return p[ht]=o,p[Ae]=140|r,(null!==l||e&&2048&e[Ae])&&(p[Ae]|=2048),lm(p),p[lt]=p[ti]=e,p[vt]=n,p[ei]=s||e&&e[ei],p[Ee]=a||e&&e[Ee],p[ro]=c||e&&e[ro]||null,p[Ut]=i,p[Es]=function tM(){return eM++}(),p[Mr]=d,p[Bg]=l,p[wt]=2==t.type?e[wt]:p,p}function Ni(e,t,n,r,o){let i=e.data[t];if(null===i)i=function tf(e,t,n,r,o){const i=gm(),s=Uu(),c=e.data[t]=function oT(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return function si(){return null!==we.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(e,t,n,r,o),function e1(){return we.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function Ts(){const e=we.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return ir(i,!0),i}function Ws(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Cv(e,t,n,r,o){const i=yv(t,Ss),s=Kt(),a=2&r;try{No(-1),a&&t.length>ke&&Dv(e,t,ke,!1),or(a?2:0,o);const l=a?i:null,d=Fu(l);try{null!==l&&(l.dirty=!1),n(r,o)}finally{Pu(l,d)}}finally{a&&null===t[Ss]&&vv(t,Ss),No(s),or(a?3:1,o)}}function nf(e,t,n){if(ku(t)){const r=Rn(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Rn(r)}}}function bv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=sf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function sf(e,t,n,r,o,i,s,a,c,l,d){const p=ke+r,y=p+o,w=function JA(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ie);return n}(p,y),T="function"==typeof l?l():l;return w[ue]={type:e,blueprint:w,template:n,queries:null,viewQuery:a,declTNode:t,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:T,incompleteFirstPass:!1,ssrId:d}}let Ev=e=>null;function Sv(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const i=e[o];null===r?Iv(n,t,o,i):r.hasOwnProperty(o)&&Iv(n,t,r[o],i)}return n}function Iv(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Mv(e,t,n,r,o,i){for(let l=0;l<r.length;l++)Xu(nc(n,t),e,r[l].type);!function mT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const d=r[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Ws(e,t,r.length,null);for(let l=0;l<r.length;l++){const d=r[l];n.mergedAttrs=ws(n.mergedAttrs,d.hostAttrs),yT(e,n,t,c,d),gT(c,d,o),null!==d.contentQueries&&(n.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=64);const p=d.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function iT(e,t,n){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let c=null,l=null;for(let d=t.directiveStart;d<o;d++){const p=i[d],y=n?n.get(p):null,T=y?y.outputs:null;c=Sv(p.inputs,d,c,y?y.inputs:null),l=Sv(p.outputs,d,l,T);const j=null===c||null===s||Rg(t)?null:_T(c,d,s);a.push(j)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,i)}function Av(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function n1(){return we.lFrame.currentDirectiveIndex}();try{No(i);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];$u(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&fT(c,l)}}finally{No(-1),$u(s)}}function fT(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function cf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function gT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Un(t)&&(n[""]=e)}}function yT(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=To(o.type)),s=new Ns(i,Un(o),se);e.blueprint[r]=s,n[r]=s,function lT(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function uT(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(e,t,r,Ws(e,n,o.hostVars,Ie),o)}function wT(e,t,n,r,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)Tv(r,n,s[a++],s[a++],s[a++])}function Tv(e,t,n,r,o){const i=Rn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(o=s[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{Rn(i)}}function _T(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(i,s[a+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Rv(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const s=e.data[i];zu(n[r]),s.contentQueries(2,t[i],i)}}}function Lc(e,t){return e[Cs]?e[Vg][jn]=t:e[Cs]=t,e[Vg]=t,t}function uf(e,t,n){zu(0);const r=Rn(null);try{t(e,n)}finally{Rn(r)}}function kv(e){return e[Xo]||(e[Xo]=[])}function Ov(e){return e.cleanup||(e.cleanup=[])}function Fv(e,t){const n=e[ro],r=n?n.get(Or,null):null;r&&r.handleError(t)}function df(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++];Tv(e.data[s],t[s],r,a,o)}}function DT(e,t){const n=Dn(t,e),r=n[ue];!function CT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[ht];null!==o&&null===n[Mr]&&(n[Mr]=$d(o,n[ro])),ff(r,n,n[vt])}function ff(e,t,n){qu(t);try{const r=e.viewQuery;null!==r&&uf(1,r,n);const o=e.template;null!==o&&Cv(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rv(e,t),e.staticViewQueries&&uf(2,e.viewQuery,n);const i=e.components;null!==i&&function bT(e,t){for(let n=0;n<t.length;n++)DT(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ae]&=-5,Wu()}}let Pv=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const i=typeof Zone>"u"?null:Zone.current,s=function NI(e,t,n){const r=Object.create(RI);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const o=s=>{r.cleanupFn=s};return r.ref={notify:()=>Wg(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Yg(r))return;r.hasRun=!0;const s=Fu(r);try{r.cleanupFn(),r.cleanupFn=nm,r.fn(o)}finally{Pu(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,i)},o);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ze({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Vc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=mu(o,a):2==i&&(r=mu(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Ys(e,t,n,r,o=!1){for(;null!==n;){const i=t[n.index];null!==i&&r.push(rt(i)),Zt(i)&&Lv(i,r);const s=n.type;if(8&s)Ys(e,t,n.child,r);else if(32&s){const a=pd(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=wy(t,n);if(Array.isArray(a))r.push(...a);else{const c=Vs(t[wt]);Ys(c[ue],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Lv(e,t){for(let n=Lt;n<e.length;n++){const r=e[n],o=r[ue].firstChild;null!==o&&Ys(r[ue],r,o,t)}e[rr]!==e[ht]&&t.push(e[rr])}function Bc(e,t,n,r=!0){const o=t[ei],i=o.rendererFactory,s=o.afterRenderEventManager;i.begin?.(),s?.begin();try{Vv(e,t,e.template,n)}catch(c){throw r&&Fv(t,c),c}finally{i.end?.(),o.effectManager?.flush(),s?.end()}}function Vv(e,t,n,r){const o=t[Ae];if(256!=(256&o)){t[ei].effectManager?.flush(),qu(t);try{lm(t),function ym(e){return we.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Cv(e,t,n,2,r);const s=3==(3&o);if(s){const l=e.preOrderCheckHooks;null!==l&&Xa(t,l,null)}else{const l=e.preOrderHooks;null!==l&&ec(t,l,0,null),Yu(t,0)}if(function IT(e){for(let t=ay(e);null!==t;t=cy(t)){if(!t[jg])continue;const n=t[ri];for(let r=0;r<n.length;r++){UI(n[r])}}}(t),Bv(t,2),null!==e.contentQueries&&Rv(e,t),s){const l=e.contentCheckHooks;null!==l&&Xa(t,l)}else{const l=e.contentHooks;null!==l&&ec(t,l,1),Yu(t,1)}!function KA(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=yv(t,Is);try{for(let o=0;o<n.length;o++){const i=n[o];if(i<0)No(~i);else{const s=i,a=n[++o],c=n[++o];t1(a,s),r.dirty=!1;const l=Fu(r);try{c(2,t[s])}finally{Pu(r,l)}}}}finally{null===t[Is]&&vv(t,Is),No(-1)}}(e,t);const a=e.components;null!==a&&Uv(t,a,0);const c=e.viewQuery;if(null!==c&&uf(2,c,r),s){const l=e.viewCheckHooks;null!==l&&Xa(t,l)}else{const l=e.viewHooks;null!==l&&ec(t,l,2),Yu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ae]&=-73,um(t)}finally{Wu()}}}function Bv(e,t){for(let n=ay(e);null!==n;n=cy(n))for(let r=Lt;r<n.length;r++)jv(n[r],t)}function MT(e,t,n){jv(Dn(t,e),n)}function jv(e,t){if(!function BI(e){return 128==(128&e[Ae])}(e))return;const n=e[ue],r=e[Ae];if(80&r&&0===t||1024&r||2===t)Vv(n,e,n.template,e[vt]);else if(e[Ds]>0){Bv(e,1);const o=n.components;null!==o&&Uv(e,o,1)}}function Uv(e,t,n){for(let r=0;r<t.length;r++)MT(e,t[r],n)}class Zs{get rootNodes(){const t=this._lView,n=t[ue];return Ys(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vt]}set context(t){this._lView[vt]=t}get destroyed(){return 256==(256&this._lView[Ae])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[lt];if(Zt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(gc(t,r),ic(n,r))}this._attachedToViewContainer=!1}md(this._lView[ue],this._lView)}onDestroy(t){!function fm(e,t){if(256==(256&e[Ae]))throw new ce(911,!1);null===e[oo]&&(e[oo]=[]),e[oo].push(t)}(this._lView,t)}markForCheck(){qs(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ae]&=-129}reattach(){this._lView[Ae]|=128}detectChanges(){Bc(this._lView[ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gM(e,t){js(e,t,t[Ee],2,null,null)}(this._lView[ue],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=t}}class AT extends Zs{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Bc(t[ue],t,t[vt],!1)}checkNoChanges(){}get context(){return null}}class Hv extends kc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ve(t);return new Qs(n,this.ngModule)}}function $v(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class NT{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ha(r);const o=this.injector.get(t,qd,r);return o!==qd||n===qd?o:this.parentInjector.get(t,n,r)}}class Qs extends Zy{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=$v(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return $v(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function dI(e){return e.map(uI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=(o=o||this.ngModule)instanceof kr?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new NT(t,i):t,a=s.get(Ky,null);if(null===a)throw new ce(407,!1);const p={rendererFactory:a,sanitizer:s.get(SA,null),effectManager:s.get(Pv,null),afterRenderEventManager:s.get(Xd,null)},y=a.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",T=r?function XA(e,t,n,r){const i=r.get(hv,!1)||n===Vn.ShadowDom,s=e.selectRootElement(t,i);return function eT(e){Ev(e)}(s),s}(y,r,this.componentDef.encapsulation,s):pc(y,w,function TT(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(w)),te=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let X=null;null!==T&&(X=$d(T,s,!0));const pe=sf(0,null,null,1,0,null,null,null,null,null,null),_e=Pc(null,pe,null,te,null,null,p,y,s,null,X);let Oe,yn;qu(_e);try{const Zr=this.componentDef;let ps,Jp=null;Zr.findHostDirectiveDefs?(ps=[],Jp=new Map,Zr.findHostDirectiveDefs(Zr,ps,Jp),ps.push(Zr)):ps=[Zr];const nU=function kT(e,t){const n=e[ue],r=ke;return e[r]=t,Ni(n,r,2,"#host",null)}(_e,T),rU=function OT(e,t,n,r,o,i,s){const a=o[ue];!function xT(e,t,n,r){for(const o of e)t.mergedAttrs=ws(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Vc(t,t.mergedAttrs,!0),null!==n&&by(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=$d(t,o[ro]));const l=i.rendererFactory.createRenderer(t,n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const p=Pc(o,bv(n),null,d,o[e.index],e,i,l,null,null,c);return a.firstCreatePass&&cf(a,e,r.length-1),Lc(o,p),o[e.index]=p}(nU,T,Zr,ps,_e,p,y);yn=cm(pe,ke),T&&function PT(e,t,n,r){if(r)Nu(e,n,["ng-version",IA.full]);else{const{attrs:o,classes:i}=function fI(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Bn(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Nu(e,n,o),i&&i.length>0&&Cy(e,n,i.join(" "))}}(y,Zr,T,r),void 0!==n&&function LT(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(yn,this.ngContentSelectors,n),Oe=function FT(e,t,n,r,o,i){const s=Bt(),a=o[ue],c=dn(s,o);Mv(a,o,s,n,null,r);for(let d=0;d<n.length;d++)$t(Ro(o,a,s.directiveStart+d,s),o);Av(a,o,s),c&&$t(c,o);const l=Ro(o,a,s.directiveStart+s.componentOffset,s);if(e[vt]=o[vt]=l,null!==i)for(const d of i)d(l,t);return nf(a,s,e),l}(rU,Zr,ps,Jp,_e,[VT]),ff(pe,_e,null)}finally{Wu()}return new RT(this.componentType,Oe,Mi(yn,_e),_e,yn)}}class RT extends wA{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new AT(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;df(i[ue],i,o,t,n),this.previousInputValues.set(t,n),qs(Dn(this._tNode.index,i))}}get injector(){return new Jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function VT(){const e=Bt();Ja(ne()[ue],e)}function Ye(e){let t=function Gv(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Un(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ce(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=jc(e.inputs),s.inputTransforms=jc(e.inputTransforms),s.declaredInputs=jc(e.declaredInputs),s.outputs=jc(e.outputs);const a=o.hostBindings;a&&HT(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&jT(e,c),l&&UT(e,l),Pa(e.inputs,o.inputs),Pa(e.declaredInputs,o.declaredInputs),Pa(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Pa(s.inputTransforms,o.inputTransforms)),Un(o)&&o.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Ye&&(n=!1)}}t=Object.getPrototypeOf(t)}!function BT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=ws(o.hostAttrs,n=ws(n,o.hostAttrs))}}(r)}function jc(e){return e===tr?{}:e===Ue?[]:e}function jT(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function UT(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function HT(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function zt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function qc(e,t,n){const r=ne();return zt(r,function ai(){return we.lFrame.bindingIndex++}(),t)&&function bn(e,t,n,r,o,i,s,a){const c=dn(t,n);let d,l=t.inputs;!a&&null!=l&&(d=l[r])?(df(e,n,d,r,o),Ao(t)&&function aT(e,t){const n=Dn(t,e);16&n[Ae]||(n[Ae]|=64)}(n,t.index)):3&t.type&&(r=function sT(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=s?s(o,t.value||"",r):o,i.setProperty(c,r,o))}(Be(),function ft(){const e=we.lFrame;return cm(e.tView,e.selectedIndex)}(),r,e,t,r[Ee],n,!1),qc}function wf(e,t,n,r,o){const s=o?"class":"style";df(e,n,t.inputs[s],s,r)}function Lr(e,t,n,r){const o=ne(),i=Be(),s=ke+e,a=o[Ee],c=i.firstCreatePass?function _N(e,t,n,r,o,i){const s=t.consts,c=Ni(t,e,2,r,so(s,o));return function af(e,t,n,r){if(pm()){const o=null===r?null:{"":-1},i=function hT(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(kg(t,s.selectors,!1))if(r||(r=[]),Un(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),cf(e,t,a.length)}else r.unshift(s),cf(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(e,n);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&Mv(e,t,n,s,o,a),o&&function pT(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new ce(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=ws(n.mergedAttrs,n.attrs)}(t,n,c,so(s,i)),null!==c.attrs&&Vc(c,c.attrs,!1),null!==c.mergedAttrs&&Vc(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,i,o,t,n,r):i.data[s],l=cw(i,o,c,a,t,e);o[s]=l;const d=Wa(c);return ir(c,!0),by(a,l,c),32!=(32&c.flags)&&Ka()&&yc(i,o,l,c),0===function $I(){return we.lFrame.elementDepthCount}()&&$t(l,o),function GI(){we.lFrame.elementDepthCount++}(),d&&(function rf(e,t,n){pm()&&(function dT(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;Ao(n)&&function vT(e,t,n){const r=dn(t,e),o=bv(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Lc(e,Pc(e,o,null,s,r,t,null,e[ei].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||nc(n,t),$t(r,t);const s=n.initialInputs;for(let a=o;a<i;a++){const c=e.data[a],l=Ro(t,e,a,n);$t(l,t),null!==s&&wT(0,a-o,l,c,0,s),Un(c)&&(Dn(n.index,t)[vt]=Ro(t,e,a,n))}}(e,t,n,dn(n,t)),64==(64&n.flags)&&Av(e,t,n))}(i,o,c),nf(i,c,o)),null!==r&&function of(e,t,n=dn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}(o,c),Lr}function uo(){let e=Bt();Uu()?function Hu(){we.lFrame.isParent=!1}():(e=e.parent,ir(e,!1));const t=e;(function qI(e){return we.skipHydrationRootTNode===e})(t)&&function QI(){we.skipHydrationRootTNode=null}(),function zI(){we.lFrame.elementDepthCount--}();const n=Be();return n.firstCreatePass&&(Ja(n,e),ku(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function h1(e){return 0!=(8&e.flags)}(t)&&wf(n,t,ne(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function p1(e){return 0!=(16&e.flags)}(t)&&wf(n,t,ne(),t.stylesWithoutHost,!1),uo}function _f(e,t,n,r){return Lr(e,t,n,r),uo(),_f}let cw=(e,t,n,r,o,i)=>(ao(!0),pc(r,o,function Sm(){return we.lFrame.currentNamespace}()));function Wc(e){return!!e&&"function"==typeof e.then}function dw(e){return!!e&&"function"==typeof e.subscribe}function En(e,t,n,r){const o=ne(),i=Be(),s=Bt();return function hw(e,t,n,r,o,i,s){const a=Wa(r),l=e.firstCreatePass&&Ov(e),d=t[vt],p=kv(t);let y=!0;if(3&r.type||s){const j=dn(r,t),J=s?s(j):j,te=p.length,X=s?_e=>s(rt(_e[r.index])):r.index;let pe=null;if(!s&&a&&(pe=function MN(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=t[Xo],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,r.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=i,pe.__ngLastListenerFn__=i,y=!1;else{i=gw(r,t,d,i,!1);const _e=n.listen(J,o,i);p.push(i,_e),l&&l.push(o,X,te,te+1)}}else i=gw(r,t,d,i,!1);const w=r.outputs;let T;if(y&&null!==w&&(T=w[o])){const j=T.length;if(j)for(let J=0;J<j;J+=2){const Oe=t[T[J]][T[J+1]].subscribe(i),yn=p.length;p.push(i,Oe),l&&l.push(o,r.index,yn,-(yn+1))}}}(i,o,o[Ee],s,e,t,r),En}function pw(e,t,n,r){try{return or(6,t,n),!1!==n(r)}catch(o){return Fv(e,o),!1}finally{or(7,t,n)}}function gw(e,t,n,r,o){return function i(s){if(s===Function)return r;qs(e.componentOffset>-1?Dn(e.index,t):t);let c=pw(t,n,r,s),l=i.__ngNextListenerFn__;for(;l;)c=pw(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return o&&!1===c&&s.preventDefault(),c}}function Yc(e,t){return e<<17|t<<2}function fo(e){return e>>17&32767}function Ef(e){return 2|e}function Po(e){return(131068&e)>>2}function Sf(e,t){return-131069&e|t<<2}function If(e){return 1|e}function Sw(e,t,n,r,o){const i=e[n+1],s=null===t;let a=r?fo(i):Po(i),c=!1;for(;0!==a&&(!1===c||s);){const d=e[a+1];LN(e[a],t)&&(c=!0,e[a+1]=r?If(d):Ef(d)),a=r?fo(d):Po(d)}c&&(e[n+1]=r?Ef(i):If(i))}function LN(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&gi(e,t)>=0}function Zc(e,t){return function Gn(e,t,n,r){const o=ne(),i=Be(),s=function Nr(e){const t=we.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);i.firstUpdatePass&&function xw(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[Kt()],s=function Ow(e,t){return t>=e.expandoStartIndex}(e,n);(function Vw(e,t){return 0!=(e.flags&(t?8:16))})(i,r)&&null===t&&!s&&(t=!1),t=function qN(e,t,n,r){const o=function Gu(e){const t=we.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=ta(n=Mf(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=Mf(o,e,t,n,r),null===i){let c=function WN(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Po(r))return e[fo(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Mf(null,e,t,c[1],r),c=ta(c,t.attrs,r),function YN(e,t,n,r){e[fo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else i=function ZN(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=ta(r,e[i].hostAttrs,n);return ta(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function FN(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=fo(s),c=Po(s);e[r]=n;let d,l=!1;if(Array.isArray(n)?(d=n[1],(null===d||gi(n,d)>0)&&(l=!0)):d=n,o)if(0!==c){const y=fo(e[a+1]);e[r+1]=Yc(y,a),0!==y&&(e[y+1]=Sf(e[y+1],r)),e[a+1]=function ON(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Yc(a,0),0!==a&&(e[a+1]=Sf(e[a+1],r)),a=r;else e[r+1]=Yc(c,0),0===a?a=r:e[c+1]=Sf(e[c+1],r),c=r;l&&(e[r+1]=Ef(e[r+1])),Sw(e,d,r,!0),Sw(e,d,r,!1),function PN(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&gi(i,t)>=0&&(n[r+1]=If(n[r+1]))}(t,d,e,r,i),s=Yc(a,c),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}(i,e,s,r),t!==Ie&&zt(o,s,t)&&function Pw(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],d=function xN(e){return 1==(1&e)}(l)?Lw(c,t,n,o,Po(l),s):void 0;Qc(d)||(Qc(i)||function kN(e){return 2==(2&e)}(l)&&(i=Lw(c,null,n,o,a,s)),function SM(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:co.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=co.Important),e.setStyle(n,r,o,i))}}(r,s,function Qa(e,t){return rt(t[e])}(Kt(),n),o,i))}(i,i.data[Kt()],o,o[Ee],e,o[s+1]=function XN(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=It(function lo(e){return e instanceof My?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,s)}(e,t,null,!0),Zc}function Mf(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],r=ta(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ta(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cn(e,s,!!n||t[++i]))}return void 0===e?null:e}function Lw(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),d=l?c[1]:c,p=null===d;let y=n[o+1];y===Ie&&(y=p?Ue:void 0);let w=p?rd(y,r):d===r?y:void 0;if(l&&!Qc(w)&&(w=rd(c,r)),Qc(w)&&(a=w,s))return a;const T=e[o+1];o=s?fo(T):Po(T)}if(null!==t){let c=i?t.residualClasses:t.residualStyles;null!=c&&(a=rd(c,r))}return a}function Qc(e){return void 0!==e}function Kc(e,t=""){const n=ne(),r=Be(),o=e+ke,i=r.firstCreatePass?Ni(r,o,1,t,null):r.data[o],s=Bw(r,n,i,t,e);n[o]=s,Ka()&&yc(r,n,s,i),ir(i,!1)}let Bw=(e,t,n,r,o)=>(ao(!0),function hc(e,t){return e.createText(t)}(t[Ee],r));const Hi="en-US";let c_=Hi;function Rf(e,t,n,r,o){if(e=De(e),Array.isArray(e))for(let i=0;i<e.length;i++)Rf(e[i],t,n,r,o);else{const i=Be(),s=ne(),a=Bt();let c=Oo(e)?e:De(e.provide);const l=$y(e),d=1048575&a.providerIndexes,p=a.directiveStart,y=a.providerIndexes>>20;if(Oo(e)||!e.multi){const w=new Ns(l,o,se),T=Of(c,t,o?d:d+y,p);-1===T?(Xu(nc(a,s),i,c),kf(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(w),s.push(w)):(n[T]=w,s[T]=w)}else{const w=Of(c,t,d+y,p),T=Of(c,t,d,d+y),J=T>=0&&n[T];if(o&&!J||!o&&!(w>=0&&n[w])){Xu(nc(a,s),i,c);const te=function _k(e,t,n,r,o){const i=new Ns(e,n,se);return i.multi=[],i.index=t,i.componentProviders=0,O_(i,o,r&&!n),i}(o?wk:vk,n.length,o,r,l);!o&&J&&(n[T].providerFactory=te),kf(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(te),s.push(te)}else kf(i,e,w>-1?w:T,O_(n[o?T:w],l,!o&&r));!o&&r&&J&&n[T].componentProviders++}}}function kf(e,t,n,r){const o=Oo(t),i=function nA(e){return!!e.useClass}(t);if(o||i){const c=(i?De(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const d=l.indexOf(n);-1===d?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function O_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Of(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function vk(e,t,n,r){return xf(this.multi,[])}function wk(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ro(n,n[ue],this.providerFactory.index,r);i=a.slice(0,s),xf(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],xf(o,i);return i}function xf(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ut(e,t=[]){return n=>{n.providersResolver=(r,o)=>function yk(e,t,n){const r=Be();if(r.firstCreatePass){const o=Un(e);Rf(n,r.data,r.blueprint,o,!0),Rf(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class Vo{}class Dk{}class Ff extends Vo{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hv(this);const o=function _n(e,t){const n=e[Eg]||null;if(!n&&!0===t)throw new Error(`Type ${It(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function xr(e){return e instanceof Function?e():e}(o.bootstrap),this._r3Injector=nv(t,n,[{provide:Vo,useValue:this},{provide:kc,useValue:this.componentFactoryResolver},...r],It(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Pf extends Dk{constructor(t){super(),this.moduleType=t}create(t){return new Ff(this.moduleType,t,[])}}function Jk(){return this._results[Symbol.iterator]()}class Vf{get changes(){return this._changes||(this._changes=new Gt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Vf.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Jk)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function kn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function A1(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eO(e,t,n,r=!0){const o=t[ue];if(function yM(e,t,n,r){const o=Lt+r,i=n.length;r>0&&(n[o-1][jn]=t),r<i-Lt?(t[jn]=n[o],jm(n,Lt+r,t)):(n.push(t),t[jn]=null),t[lt]=n;const s=t[bs];null!==s&&n!==s&&function vM(e,t){const n=e[ri];t[wt]!==t[lt][lt][wt]&&(e[jg]=!0),null===n?e[ri]=[t]:n.push(t)}(s,t);const a=t[nr];null!==a&&a.insertView(e),t[Ae]|=128}(o,t,e,n),r){const i=_d(n,e),s=t[Ee],a=mc(s,e[rr]);null!==a&&function pM(e,t,n,r,o,i){r[ht]=o,r[Ut]=t,js(e,r,n,1,o,i)}(o,e[Ut],s,t,a,i)}}let Vr=(()=>{class e{static{this.__NG_ELEMENT_ID__=rO}}return e})();const tO=Vr,nO=class extends tO{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function Xk(e,t,n,r){const o=t.tView,a=Pc(e,o,n,4096&e[Ae]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[bs]=e[t.index];const l=e[nr];return null!==l&&(a[nr]=l.createEmbeddedView(o)),ff(o,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Zs(o)}};function rO(){return nl(Bt(),ne())}function nl(e,t){return 4&e.type?new nO(t,e,Mi(e,t)):null}let dr=(()=>{class e{static{this.__NG_ELEMENT_ID__=lO}}return e})();function lO(){return J_(Bt(),ne())}const uO=dr,Q_=class extends uO{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Mi(this._hostTNode,this._hostLView)}get injector(){return new Jt(this._hostTNode,this._hostLView)}get parentInjector(){const t=rc(this._hostTNode,this._hostLView);if(Qu(t)){const n=ks(t,this._hostLView),r=Rs(t);return new Jt(n[ue].data[r+8],n)}return new Jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=K_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,o,false),a}createComponent(t,n,r,o,i){const s=t&&!function xs(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const j=n||{};a=j.index,r=j.injector,o=j.projectableNodes,i=j.environmentInjector||j.ngModuleRef}const c=s?t:new Qs(Ve(t)),l=r||this.parentInjector;if(!i&&null==c.ngModule){const J=(s?l:this.parentInjector).get(kr,null);J&&(i=J)}Ve(c.componentType??{});const w=c.create(l,o,null,i);return this.insertImpl(w.hostView,a,false),w}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView;if(function jI(e){return Zt(e[lt])}(o)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=o[lt],d=new Q_(l,l[Ut],l[lt]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return eO(a,o,s,!r),t.attachToViewContainerRef(),jm(Bf(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=K_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=gc(this._lContainer,n);r&&(ic(Bf(this._lContainer),n),md(r[ue],r))}detach(t){const n=this._adjustIndex(t,-1),r=gc(this._lContainer,n);return r&&null!=ic(Bf(this._lContainer),n)?new Zs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function K_(e){return e[8]}function Bf(e){return e[8]||(e[8]=[])}function J_(e,t){let n;const r=t[e.index];return Zt(r)?n=r:(n=function Nv(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,Lc(t,n)),X_(n,t,e,r),new Q_(n,e,t)}let X_=function e0(e,t,n,r){if(e[rr])return;let o;o=8&n.type?rt(r):function dO(e,t){const n=e[Ee],r=n.createComment(""),o=dn(t,e);return ko(n,mc(n,o),r,function CM(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[rr]=o};class jf{constructor(t){this.queryList=t,this.matches=null}clone(){return new jf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Uf(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==l0(t,n).matches&&this.queries[n].setDirty()}}class t0{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Hf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Hf(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class $f{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new $f(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,pO(n,i)),this.matchTNodeWithReadOption(t,n,oc(n,t,i,!1,!1))}else r===Vr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,oc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Hn||o===dr||o===Vr&&4&n.type)this.addMatch(n.index,-2);else{const i=oc(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function pO(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function mO(e,t,n,r){return-1===n?function gO(e,t){return 11&e.type?Mi(e,t):4&e.type?nl(e,t):null}(t,e):-2===n?function yO(e,t,n){return n===Hn?Mi(t,e):n===Vr?nl(t,e):n===dr?J_(t,e):void 0}(e,t,r):Ro(e,e[ue],n,t)}function n0(e,t,n,r){const o=t[nr].queries[r];if(null===o.matches){const i=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:mO(t,i[l],s[c+1],n.metadata.read))}o.matches=a}return o.matches}function Gf(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=n0(e,t,o,n);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const l=i[a+1],d=t[-c];for(let p=Lt;p<d.length;p++){const y=d[p];y[bs]===y[lt]&&Gf(y[ue],y,l,r)}if(null!==d[ri]){const p=d[ri];for(let y=0;y<p.length;y++){const w=p[y];Gf(w[ue],w,l,r)}}}}}return r}function r0(e){const t=ne(),n=Be(),r=wm();zu(r+1);const o=l0(n,r);if(e.dirty&&function VI(e){return 4==(4&e[Ae])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Gf(n,t,r,[]):n0(n,t,o,r);e.reset(i,bA),e.notifyOnChanges()}return!0}return!1}function o0(e,t,n){const r=Be();r.firstCreatePass&&(function c0(e,t,n){null===e.queries&&(e.queries=new Hf),e.queries.track(new $f(t,n))}(r,new t0(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function a0(e,t,n){const r=new Vf(4==(4&n));(function rT(e,t,n,r){const o=kv(t);o.push(n),e.firstCreatePass&&Ov(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[nr]&&(t[nr]=new Uf),t[nr].queries.push(new jf(r))}(r,ne(),t)}function l0(e,t){return e.queries.getByIndex(t)}const HO=new ye("Application Initializer");let Zf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ke(HO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(Wc(i))n.push(i);else if(dw(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Br=new ye("LocaleId",{providedIn:"root",factory:()=>Ke(Br,xe.Optional|xe.SkipSelf)||function GO(){return typeof $localize<"u"&&$localize.locale||Hi}()});let WO=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xS(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const N0=new ye(""),sl=new ye("");let eh,Jf=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,eh||(function mx(e){eh=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(Le(pt),Le(Xf),Le(sl))}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac})}}return e})(),Xf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return eh?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ho=null;const R0=new ye("AllowMultipleToken"),th=new ye("PlatformDestroyListeners"),k0=new ye("appBootstrapListener");function F0(e,t,n=[]){const r=`Platform: ${t}`,o=new ye(r);return(i=[])=>{let s=nh();if(!s||s.injector.get(R0,!1)){const a=[...n,...i,{provide:o,useValue:!0}];e?e(a):function wx(e){if(ho&&!ho.get(R0,!1))throw new ce(400,!1);(function O0(){!function SI(e){Jg=e}(()=>{throw new ce(600,!1)})})(),ho=e;const t=e.get(L0);(function x0(e){e.get(Gy,null)?.forEach(n=>n())})(e)}(function P0(e=[],t){return $n.create({name:t,providers:[{provide:kd,useValue:"platform"},{provide:th,useValue:new Set([()=>ho=null])},...e]})}(a,r))}return function Dx(e){const t=nh();if(!t)throw new ce(401,!1);return t}()}}function nh(){return ho?.get(L0)??null}let L0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function Cx(e="zone.js",t){return"noop"===e?new VA:"zone.js"===e?new pt(t):e}(r?.ngZone,function V0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const i=function bk(e,t,n){return new Ff(e,t,n)}(n.moduleType,this.injector,function $0(e){return[{provide:pt,useFactory:e},{provide:Cc,multi:!0,useFactory:()=>{const t=Ke(Ex,{optional:!0});return()=>t.initialize()}},{provide:H0,useFactory:bx},{provide:av,useFactory:cv}]}(()=>o)),s=i.injector.get(Or,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{s.handleError(c)}});i.onDestroy(()=>{al(this._modules,i),a.unsubscribe()})}),function B0(e,t,n){try{const r=n();return Wc(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,o,()=>{const a=i.injector.get(Zf);return a.runInitializers(),a.donePromise.then(()=>(function l_(e){Nn(e,"Expected localeId to be defined"),"string"==typeof e&&(c_=e.toLowerCase().replace(/_/g,"-"))}(i.injector.get(Br,Hi)||Hi),this._moduleDoBootstrap(i),i))})})}bootstrapModule(n,r=[]){const o=j0({},r);return function yx(e,t,n){const r=new Pf(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(n){const r=n.injector.get(da);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new ce(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(th,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(Le($n))}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function j0(e,t){return Array.isArray(t)?t.reduce(j0,e):{...e,...t}}let da=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ke(H0),this.zoneIsStable=Ke(av),this.componentTypes=[],this.components=[],this.isStable=Ke(WO).hasPendingTasks.pipe(function PS(e,t){return Ft((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(Rt(r,c=>{o?.unsubscribe();let l=0;const d=i++;er(e(c,d)).subscribe(o=Rt(r,p=>r.next(t?t(c,p,d,l++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}(n=>n?function FS(...e){return pu(e,dg(e))}(!1):this.zoneIsStable),function LS(e,t=de){return e=e??VS,Ft((n,r)=>{let o,i=!0;n.subscribe(Rt(r,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}(),gg()),this._injector=Ke(kr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Zy;if(!this._injector.get(Zf).done)throw!o&&function _s(e){const t=Ve(e)||Pt(e)||Yt(e);return null!==t&&t.standalone}(n),new ce(405,!1);let s;s=o?n:this._injector.get(kc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function vx(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Vo),l=s.create($n.NULL,[],r||s.selector,a),d=l.location.nativeElement,p=l.injector.get(N0,null);return p?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),al(this.components,l),p?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;al(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(k0,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>al(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ce(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function al(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const H0=new ye("",{providedIn:"root",factory:()=>Ke(Or).handleError.bind(void 0)});function bx(){const e=Ke(pt),t=Ke(Or);return n=>e.runOutsideAngular(()=>t.handleError(n))}let Ex=(()=>{class e{constructor(){this.zone=Ke(pt),this.applicationRef=Ke(da)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let z0=(()=>{class e{static{this.__NG_ELEMENT_ID__=Ix}}return e})();function Ix(e){return function Mx(e,t,n){if(Ao(e)&&!n){const r=Dn(e.index,t);return new Zs(r,r)}return 47&e.type?new Zs(t[wt],t):null}(Bt(),ne(),16==(16&e))}const jx=F0(null,"core",[]);let Ux=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(Le(da))}}static{this.\u0275mod=no({type:e})}static{this.\u0275inj=Er({})}}return e})();let lh=null;function ha(){return lh}class eF{}const jo=new ye("DocumentToken");let yP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=no({type:e})}static{this.\u0275inj=Er({})}}return e})();function bD(e){return"server"===e}class zP extends eF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ih extends zP{static makeCurrent(){!function Xx(e){lh||(lh=e)}(new Ih)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function qP(){return ya=ya||document.querySelector("base"),ya?ya.getAttribute("href"):null}();return null==n?null:function WP(e){El=El||document.createElement("a"),El.setAttribute("href",e);const t=El.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function jF(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let El,ya=null,ZP=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac})}}return e})();const Mh=new ye("EventManagerPlugins");let AD=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new ce(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(Le(Mh),Le(pt))}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac})}}return e})();class TD{constructor(t){this._doc=t}}const Ah="ng-app-id";let ND=(()=>{class e{constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bD(i),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ah}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const i=o.get(n);return i.usage+=r,i.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===n)return o.delete(r),i.removeAttribute(Ah),i;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ah,this.appId),s}}addStyleToHost(n,r){const o=this.getStyleElement(n,r);n.appendChild(o);const i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Le(jo),Le(Ic),Le(zy,8),Le(Ei))}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac})}}return e})();const Th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nh=/%COMP%/g,XP=new ye("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function kD(e,t){return t.map(n=>n.replace(Nh,e))}let OD=(()=>{class e{constructor(n,r,o,i,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=bD(a),this.defaultRenderer=new Rh(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vn.ShadowDom&&(r={...r,encapsulation:Vn.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof FD?o.applyToHost(n):o instanceof kh&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Vn.Emulated:i=new FD(c,l,r,this.appId,d,s,a,p);break;case Vn.ShadowDom:return new rL(c,l,n,r,s,a,this.nonce,p);default:i=new kh(c,l,r,d,s,a,p)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Le(AD),Le(ND),Le(Ic),Le(XP),Le(jo),Le(Ei),Le(pt),Le(zy))}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac})}}return e})();class Rh{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Th[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(xD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(xD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new ce(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=Th[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=Th[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(co.DashCase|co.Important)?t.style.setProperty(n,r,o&co.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&co.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=ha().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function xD(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class rL extends Rh{constructor(t,n,r,o,i,s,a,c){super(t,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=kD(o.id,o.styles);for(const d of l){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kh extends Rh{constructor(t,n,r,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?kD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class FD extends kh{constructor(t,n,r,o,i,s,a,c){const l=o+"-"+r.id;super(t,n,r,i,s,a,c,l),this.contentAttr=function eL(e){return"_ngcontent-%COMP%".replace(Nh,e)}(l),this.hostAttr=function tL(e){return"_nghost-%COMP%".replace(Nh,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let oL=(()=>{class e extends TD{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(Le(jo))}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac})}}return e})();const PD=["alt","control","meta","shift"],iL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let aL=(()=>{class e extends TD{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const i=e.parseEventName(r),s=e.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ha().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),PD.forEach(l=>{const d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=iL[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),PD.forEach(s=>{s!==o&&(0,sL[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(Le(jo))}}static{this.\u0275prov=Ze({token:e,factory:e.\u0275fac})}}return e})();const VD=[{provide:Ei,useValue:"browser"},{provide:Gy,useValue:function cL(){Ih.makeCurrent()},multi:!0},{provide:jo,useFactory:function uL(){return function NM(e){bd=e}(document),document},deps:[]}],dL=F0(jx,"browser",VD),fL=new ye(""),BD=[{provide:sl,useClass:class YP{addToWindow(t){nt.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new ce(5103,!1);return i},nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),nt.getAllAngularRootElements=()=>t.getAllRootElements(),nt.frameworkStabilizers||(nt.frameworkStabilizers=[]),nt.frameworkStabilizers.push(r=>{const o=nt.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?ha().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:N0,useClass:Jf,deps:[pt,Xf,sl]},{provide:Jf,useClass:Jf,deps:[pt,Xf,sl]}],jD=[{provide:kd,useValue:"root"},{provide:Or,useFactory:function lL(){return new Or},deps:[]},{provide:Mh,useClass:oL,multi:!0,deps:[jo,pt,Ei]},{provide:Mh,useClass:aL,multi:!0,deps:[jo]},OD,ND,AD,{provide:Ky,useExisting:OD},{provide:class CP{},useClass:ZP,deps:[]},[]];let hL=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ic,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(Le(fL,12))}}static{this.\u0275mod=no({type:e})}static{this.\u0275inj=Er({providers:[...jD,...BD],imports:[yP,Ux]})}}return e})();typeof window<"u"&&window;const{isArray:_L}=Array,{getPrototypeOf:DL,prototype:CL,keys:bL}=Object;const{isArray:IL}=Array;function TL(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function NL(...e){const t=function SS(e){return B(hu(e))?e.pop():void 0}(e),{args:n,keys:r}=function EL(e){if(1===e.length){const t=e[0];if(_L(t))return{args:t,keys:null};if(function SL(e){return e&&"object"==typeof e&&DL(e)===CL}(t)){const n=bL(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e),o=new et(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let p=!1;er(n[d]).subscribe(Rt(i,y=>{p||(p=!0,l--),a[d]=y},()=>c--,void 0,()=>{(!c||!p)&&(l||i.next(r?TL(r,a):a),i.complete())}))}});return t?o.pipe(function AL(e){return bt(t=>function ML(e,t){return IL(t)?e(...t):e(t)}(e,t))}(t)):o}let GD=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(se(xo),se(Hn))}}static{this.\u0275dir=Se({type:e})}}return e})(),Uo=(()=>{class e extends GD{static{this.\u0275fac=function(){let n;return function(o){return(n||(n=function Ht(e){return Sr(()=>{const t=e.prototype.constructor,n=t[Ir]||ed(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[Ir]||ed(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}(e)))(o||e)}}()}static{this.\u0275dir=Se({type:e,features:[Ye]})}}return e})();const fr=new ye("NgValueAccessor"),kL={provide:fr,useExisting:tt(()=>Sl),multi:!0},xL=new ye("CompositionEventMode");let Sl=(()=>{class e extends GD{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OL(){const e=ha()?ha().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(se(xo),se(Hn),se(xL,8))}}static{this.\u0275dir=Se({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&En("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[ut([kL]),Ye]})}}return e})();const qt=new ye("NgValidators"),mo=new ye("NgAsyncValidators");function tC(e){return null!=e}function nC(e){return Wc(e)?pu(e):e}function rC(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function oC(e,t){return t.map(n=>n(e))}function iC(e){return e.map(t=>function PL(e){return!e.validate}(t)?t:n=>t.validate(n))}function xh(e){return null!=e?function sC(e){if(!e)return null;const t=e.filter(tC);return 0==t.length?null:function(n){return rC(oC(n,t))}}(iC(e)):null}function Fh(e){return null!=e?function aC(e){if(!e)return null;const t=e.filter(tC);return 0==t.length?null:function(n){return NL(oC(n,t).map(nC)).pipe(bt(rC))}}(iC(e)):null}function cC(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Ph(e){return e?Array.isArray(e)?e:[e]:[]}function Ml(e,t){return Array.isArray(e)?e.includes(t):e===t}function dC(e,t){const n=Ph(t);return Ph(e).forEach(o=>{Ml(n,o)||n.push(o)}),n}function fC(e,t){return Ph(t).filter(n=>!Ml(e,n))}class hC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class nn extends hC{get formDirective(){return null}get path(){return null}}class yo extends hC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pC{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gC=(()=>{class e extends pC{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(se(yo,2))}}static{this.\u0275dir=Se({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Zc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ye]})}}return e})();const va="VALID",Tl="INVALID",qi="PENDING",wa="DISABLED";function Nl(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class wC{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===va}get invalid(){return this.status===Tl}get pending(){return this.status==qi}get disabled(){return this.status===wa}get enabled(){return this.status!==wa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(dC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fC(t,this._rawAsyncValidators))}hasValidator(t){return Ml(this._rawValidators,t)}hasAsyncValidator(t){return Ml(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=qi,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=wa,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=va,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===va||this.status===qi)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wa:va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=qi,this._hasOwnPendingAsyncValidator=!0;const n=nC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Gt,this.statusChanges=new Gt}_calculateStatus(){return this._allControlsDisabled()?wa:this.errors?Tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qi)?qi:this._anyControlsHaveStatus(Tl)?Tl:va}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function UL(e){return Array.isArray(e)?xh(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function HL(e){return Array.isArray(e)?Fh(e):e||null}(this._rawAsyncValidators)}}const Wi=new ye("CallSetDisabledState",{providedIn:"root",factory:()=>Rl}),Rl="always";function _a(e,t,n=Rl){(function Hh(e,t){const n=function lC(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(cC(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function uC(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(cC(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();xl(t._rawValidators,o),xl(t._rawAsyncValidators,o)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function zL(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&_C(e,t)})}(e,t),function WL(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function qL(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&_C(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function GL(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function xl(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function _C(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function bC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function EC(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const SC=class extends wC{constructor(t=null,n,r){super(function Bh(e){return(Nl(e)?e.validators:e)||null}(n),function jh(e,t){return(Nl(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=EC(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){EC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},t2={provide:yo,useExisting:tt(()=>Wh)},AC=(()=>Promise.resolve())();let Wh=(()=>{class e extends yo{constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new SC,this._registered=!1,this.name="",this.update=new Gt,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function zh(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===Sl?n=i:function QL(e){return Object.getPrototypeOf(e.constructor)===Uo}(i)?r=i:o=i}),o||r||n||null}(0,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Gh(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_a(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){AC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&function ch(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);AC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function kl(e,t){return[...t.path,e]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(se(nn,9),se(qt,10),se(mo,10),se(fr,10),se(z0,8),se(Wi,8))}}static{this.\u0275dir=Se({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ut([t2]),Ye,Ar]})}}return e})(),NC=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=no({type:e})}static{this.\u0275inj=Er({})}}return e})(),I2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=no({type:e})}static{this.\u0275inj=Er({imports:[NC]})}}return e})(),A2=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Wi,useValue:n.callSetDisabledState??Rl}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=no({type:e})}static{this.\u0275inj=Er({imports:[I2]})}}return e})();function YC(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function ZC(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(c){YC(i,r,o,s,a,"next",c)}function a(c){YC(i,r,o,s,a,"throw",c)}s(void 0)})}}const gn=()=>new Map,ep=e=>{const t=gn();return e.forEach((n,r)=>{t.set(r,n)}),t},In=(e,t,n)=>{let r=e.get(t);return void 0===r&&e.set(t,r=n()),r},vo=()=>new Set,tp=e=>e[e.length-1],R2=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},hr=Array.from,QC=Array.isArray;class KC{constructor(){this._observers=gn()}on(t,n){return In(this._observers,t,vo).add(n),n}once(t,n){const r=(...o)=>{this.off(t,r),n(...o)};this.on(t,r)}off(t,n){const r=this._observers.get(t);void 0!==r&&(r.delete(n),0===r.size&&this._observers.delete(t))}emit(t,n){return hr((this._observers.get(t)||gn()).values()).forEach(r=>r(...n))}destroy(){this._observers=gn()}}class JC{constructor(){this._observers=gn()}on(t,n){In(this._observers,t,vo).add(n)}once(t,n){const r=(...o)=>{this.off(t,r),n(...o)};this.on(t,r)}off(t,n){const r=this._observers.get(t);void 0!==r&&(r.delete(n),0===r.size&&this._observers.delete(t))}emit(t,n){return hr((this._observers.get(t)||gn()).values()).forEach(r=>r(...n))}destroy(){this._observers=gn()}}const pr=Math.floor,Pl=(Math,Math.abs),x2=(Math,Math,Math.log10),np=(Math,Math,Math,(e,t)=>e<t?e:t),$o=(e,t)=>e>t?e:t,XC=(Math,Math,e=>0!==e?e<0:1/e<0),Mn=128,rb=Number.MAX_SAFE_INTEGER,Q2=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&pr(e)===e),ob=String.fromCharCode,J2=(ob(65535),/^\s*/g),eV=/([A-Z])/g,ib=(e,t)=>(e=>e.replace(J2,""))(e.replace(eV,n=>`${t}${(e=>e.toLowerCase())(n)}`)),ba=typeof TextEncoder<"u"?new TextEncoder:null,sp=ba?e=>ba.encode(e):e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.codePointAt(o);return r};let Yi=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Yi&&1===Yi.decode(new Uint8Array).length&&(Yi=null);class Zi{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Tt=()=>new Zi,st=e=>{const t=new Uint8Array((e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t})(e));let n=0;for(let r=0;r<e.bufs.length;r++){const o=e.bufs[r];t.set(o,n),n+=o.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},ct=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},Ea=ct,me=(e,t)=>{for(;t>127;)ct(e,Mn|127&t),t=pr(t/128);ct(e,127&t)},Sa=(e,t)=>{const n=XC(t);for(n&&(t=-t),ct(e,(t>63?Mn:0)|(n?64:0)|63&t),t=pr(t/64);t>0;)ct(e,(t>127?Mn:0)|127&t),t=pr(t/128)},cp=new Uint8Array(3e4),oV=cp.length/3,gr=ba&&ba.encodeInto?(e,t)=>{if(t.length<oV){const n=ba.encodeInto(t,cp).written||0;me(e,n);for(let r=0;r<n;r++)ct(e,cp[r])}else mt(e,sp(t))}:(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;me(e,r);for(let o=0;o<r;o++)ct(e,n.codePointAt(o))},Ia=(e,t)=>{const n=e.cbuf.length,r=e.cpos,o=np(n-r,t.length),i=t.length-o;e.cbuf.set(t.subarray(0,o),r),e.cpos+=o,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array($o(2*n,i)),e.cbuf.set(t.subarray(o)),e.cpos=i)},mt=(e,t)=>{me(e,t.byteLength),Ia(e,t)},Vl=(e,t)=>{((e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*$o(n,t)),e.cpos=0)})(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},sb=new DataView(new ArrayBuffer(4)),Qi=(e,t)=>{switch(typeof t){case"string":ct(e,119),gr(e,t);break;case"number":Q2(t)&&Pl(t)<=2147483647?(ct(e,125),Sa(e,t)):(e=>(sb.setFloat32(0,e),sb.getFloat32(0)===e))(t)?(ct(e,124),((e,t)=>{Vl(e,4).setFloat32(0,t,!1)})(e,t)):(ct(e,123),((e,t)=>{Vl(e,8).setFloat64(0,t,!1)})(e,t));break;case"bigint":ct(e,122),((e,t)=>{Vl(e,8).setBigInt64(0,t,!1)})(e,t);break;case"object":if(null===t)ct(e,126);else if(QC(t)){ct(e,117),me(e,t.length);for(let n=0;n<t.length;n++)Qi(e,t[n])}else if(t instanceof Uint8Array)ct(e,116),mt(e,t);else{ct(e,118);const n=Object.keys(t);me(e,n.length);for(let r=0;r<n.length;r++){const o=n[r];gr(e,o),Qi(e,t[o])}}break;case"boolean":ct(e,t?120:121);break;default:ct(e,127)}};class ab extends Zi{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&me(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const Bl=e=>{e.count>0&&(Sa(e.encoder,1===e.count?e.s:-e.s),e.count>1&&me(e.encoder,e.count-2))};class jl{constructor(){this.encoder=new Zi,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Bl(this),this.count=1,this.s=t)}toUint8Array(){return Bl(this),st(this.encoder)}}const cb=e=>{e.count>0&&(Sa(e.encoder,2*e.diff+(1===e.count?0:1)),e.count>1&&me(e.encoder,e.count-2))};class lp{constructor(){this.encoder=new Zi,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(cb(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return cb(this),st(this.encoder)}}class fV{constructor(){this.sarr=[],this.s="",this.lensE=new jl}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new Zi;return this.sarr.push(this.s),this.s="",gr(t,this.sarr.join("")),Ia(t,this.lensE.toUint8Array()),st(t)}}const mr=e=>new Error(e),yr=()=>{throw mr("Method unimplemented")},vr=()=>{throw mr("Unexpected case")},lb=mr("Unexpected end of array"),ub=mr("Integer out of Range");class Ul{constructor(t){this.arr=t,this.pos=0}}const Yn=e=>new Ul(e),kt=e=>((e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n})(e,Ce(e)),$r=e=>e.arr[e.pos++],Ce=e=>{let t=0,n=1;const r=e.arr.length;for(;e.pos<r;){const o=e.arr[e.pos++];if(t+=(127&o)*n,n*=128,o<Mn)return t;if(t>rb)throw ub}throw lb},zo=e=>{let t=e.arr[e.pos++],n=63&t,r=64;const o=(64&t)>0?-1:1;if(!(t&Mn))return o*n;const i=e.arr.length;for(;e.pos<i;){if(t=e.arr[e.pos++],n+=(127&t)*r,r*=128,t<Mn)return o*n;if(n>rb)throw ub}throw lb},wr=Yi?e=>Yi.decode(kt(e)):e=>{let t=Ce(e);if(0===t)return"";{let n=String.fromCodePoint($r(e));if(--t<100)for(;t--;)n+=String.fromCodePoint($r(e));else for(;t>0;){const r=t<1e4?t:1e4,o=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,o),t-=r}return decodeURIComponent(escape(n))}},Hl=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},yV=[e=>{},e=>null,zo,e=>Hl(e,4).getFloat32(0,!1),e=>Hl(e,8).getFloat64(0,!1),e=>Hl(e,8).getBigInt64(0,!1),e=>!1,e=>!0,wr,e=>{const t=Ce(e),n={};for(let r=0;r<t;r++)n[wr(e)]=Ki(e);return n},e=>{const t=Ce(e),n=[];for(let r=0;r<t;r++)n.push(Ki(e));return n},kt],Ki=e=>yV[127-$r(e)](e);class hb extends Ul{constructor(t,n){super(t),this.reader=n,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),this.count=(e=>e.pos!==e.arr.length)(this)?Ce(this)+1:-1),this.count--,this.s}}class $l extends Ul{constructor(t){super(t),this.s=0,this.count=0}read(){if(0===this.count){this.s=zo(this);const t=XC(this.s);this.count=1,t&&(this.s=-this.s,this.count=Ce(this)+2)}return this.count--,this.s}}class up extends Ul{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const t=zo(this),n=1&t;this.diff=pr(t/2),this.count=1,n&&(this.count=Ce(this)+2)}return this.s+=this.diff,this.count--,this.s}}class vV{constructor(t){this.decoder=new $l(t),this.str=wr(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}crypto;const wV=crypto.getRandomValues.bind(crypto),pb=Math.random,gb=()=>wV(new Uint32Array(1))[0],_V=[1e7]+-1e3+-4e3+-8e3+-1e11,mb=()=>_V.replace(/[018]/g,e=>(e^gb()&15>>e/4).toString(16)),Gl=e=>new Promise(e),dp=(Promise.all.bind(Promise),e=>Promise.resolve(e));let vb=new class CV{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}},fp=!0;try{typeof localStorage<"u"&&localStorage&&(vb=localStorage,fp=!1)}catch{}const wb=vb,SV=Object.assign,_b=Object.keys,Db=e=>_b(e).length,Cb=e=>_b(e).length,bb=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),NV=Object.freeze,Eb=e=>{for(const t in e){const n=e[t];("object"==typeof n||"function"==typeof n)&&Eb(e[t])}return NV(e)},hp=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&hp(e,t,n+1)}},RV=()=>{},kV=e=>e,Ma=(e,t)=>{if(null==e||null==t)return((e,t)=>e===t)(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!Ma(e.get(n),t.get(n)))return!1;break;case Object:if(Db(e)!==Db(t))return!1;for(const n in e)if(!bb(e,n)||!Ma(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ma(e[n],t[n]))return!1;break;default:return!1}return!0},Ji=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0),Sb=typeof window<"u"&&typeof document<"u"&&!Ji;let _r;typeof navigator<"u"&&/Mac/.test(navigator.platform);const FV=[],gp=e=>(()=>{if(void 0===_r)if(Ji){_r=gn();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];"-"===r[0]?(null!==t&&_r.set(t,""),t=r):null!==t?(_r.set(t,r),t=null):FV.push(r)}null!==t&&_r.set(t,"")}else"object"==typeof location?(_r=gn(),(location.search||"?").slice(1).split("&").forEach(e=>{if(0!==e.length){const[t,n]=e.split("=");_r.set(`--${ib(t,"-")}`,n),_r.set(`-${ib(t,"-")}`,n)}})):_r=gn();return _r})().has(e),Xi=e=>(e=>void 0===e?null:e)(Ji?process.env[e.toUpperCase().replaceAll("-","_")]:wb.getItem(e)),Ib=e=>gp("--"+e)||null!==Xi(e),LV=(Ib("production"),Ji&&(e=process.env.FORCE_COLOR,["true","1","2"].includes(e))||!gp("--no-colors")&&!Ib("no-color")&&(!Ji||process.stdout.isTTY)&&(!Ji||gp("--color")||null!==Xi("COLORTERM")||(Xi("TERM")||"").includes("color"))),Mb=e=>new Uint8Array(e),mp=Sb?e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=ob(e[n]);return btoa(t)}:e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),yp=Sb?e=>{const t=atob(e),n=Mb(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}:e=>{const t=Buffer.from(e,"base64");return((e,t,n)=>new Uint8Array(e,t,n))(t.buffer,t.byteOffset,t.byteLength)};var e;class Ab{constructor(t,n){this.left=t,this.right=n}}const Gr=(e,t)=>new Ab(e,t),JV=(typeof document<"u"&&document,typeof DOMParser<"u"&&new DOMParser,e=>((e,t)=>{const n=[];for(const[r,o]of e)n.push(t(o,r));return n})(e,(t,n)=>`${n}:${t};`).join("")),zr=Symbol,qr=Date.now,XV=JSON.stringify,Pn=(JSON,zr()),qo=zr(),Ob=zr(),vp=zr(),xb=zr(),Fb=zr(),Pb=zr(),zl=zr(),ql=zr(),Lb=[xb,Pb,zl,Ob];let wp=0,Vb=qr();const Bb={[Pn]:Gr("font-weight","bold"),[qo]:Gr("font-weight","normal"),[Ob]:Gr("color","blue"),[xb]:Gr("color","green"),[vp]:Gr("color","grey"),[Fb]:Gr("color","red"),[Pb]:Gr("color","purple"),[zl]:Gr("color","orange"),[ql]:Gr("color","black")},Wl=LV?e=>{1===e.length&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[],r=gn();let o=[],i=0;for(;i<e.length;i++){const s=e[i],a=Bb[s];if(void 0!==a)r.set(a.left,a.right);else{if(void 0===s)break;if(s.constructor!==String&&s.constructor!==Number)break;{const c=JV(r);i>0||c.length>0?(t.push("%c"+s),n.push(c)):t.push(s)}}}for(i>0&&(o=n,o.unshift(t.join("")));i<e.length;i++){const s=e[i];s instanceof Symbol||o.push(s)}return o}:e=>{1===e.length&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const o=e[r];if(void 0===o)break;if(o.constructor===String||o.constructor===Number)t.push(o);else if(o.constructor===Object)break}for(r>0&&n.push(t.join(""));r<e.length;r++){const o=e[r];o instanceof Symbol||n.push(o)}return n},jb=(...e)=>{console.log(...Wl(e)),Dr.forEach(t=>t.print(e))},Dr=vo(),Gb=e=>({[Symbol.iterator](){return this},next:e}),_p=(e,t)=>Gb(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});class Dp{constructor(t,n){this.clock=t,this.len=n}}class es{constructor(){this.clients=new Map}}const ts=(e,t,n)=>t.clients.forEach((r,o)=>{const i=e.doc.store.clients.get(o);if(null!=i){const s=i[i.length-1],a=s.id.clock+s.length;for(let c=0,l=r[c];c<r.length&&l.clock<a;l=r[++c])uE(e,i,l.clock,l.len,n)}}),ns=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==((e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const o=pr((n+r)/2),i=e[o],s=i.clock;if(s<=t){if(t<s+i.len)return o;n=o+1}else r=o-1}return null})(n,t.clock)},Cp=e=>{e.clients.forEach(t=>{let n,r;for(t.sort((o,i)=>o.clock-i.clock),n=1,r=1;n<t.length;n++){const o=t[r-1],i=t[n];o.clock+o.len>=i.clock?o.len=$o(o.len,i.clock+i.len-o.clock):(r<n&&(t[r]=i),r++)}t.length=r})},Aa=(e,t,n,r)=>{In(e.clients,t,()=>[]).push(new Dp(n,r))},bp=()=>new es,Cr=(e,t)=>{me(e.restEncoder,t.clients.size),hr(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),me(e.restEncoder,n);const o=r.length;me(e.restEncoder,o);for(let i=0;i<o;i++){const s=r[i];e.writeDsClock(s.clock),e.writeDsLen(s.len)}})},Wr=e=>{const t=new es,n=Ce(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const o=Ce(e.restDecoder),i=Ce(e.restDecoder);if(i>0){const s=In(t.clients,o,()=>[]);for(let a=0;a<i;a++)s.push(new Dp(e.readDsClock(),e.readDsLen()))}}return t},qb=(e,t,n)=>{const r=new es,o=Ce(e.restDecoder);for(let i=0;i<o;i++){e.resetDsCurVal();const s=Ce(e.restDecoder),a=Ce(e.restDecoder),c=n.clients.get(s)||[],l=yt(n,s);for(let d=0;d<a;d++){const p=e.readDsClock(),y=p+e.readDsLen();if(p<l){l<y&&Aa(r,s,l,y-l);let w=Kn(c,p),T=c[w];for(!T.deleted&&T.id.clock<p&&(c.splice(w+1,0,cu(t,T,p-T.id.clock)),w++);w<c.length&&(T=c[w++],T.id.clock<y);)T.deleted||(y<T.id.clock+T.length&&c.splice(w,0,cu(t,T,y-T.id.clock)),T.delete(t))}else Aa(r,s,p,y-p)}}if(r.clients.size>0){const i=new br;return me(i.restEncoder,0),Cr(i,r),i.toUint8Array()}return null},Wb=gb;class Yr extends KC{constructor({guid:t=mb(),collectionid:n=null,gc:r=!0,gcFilter:o=(()=>!0),meta:i=null,autoLoad:s=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=o,this.clientID=Wb(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new aE,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=s,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Gl(l=>{this.on("load",()=>{this.isLoaded=!0,l(this)})});const c=()=>Gl(l=>{const d=p=>{(void 0===p||!0===p)&&(this.off("sync",d),l())};this.on("sync",d)});this.on("sync",l=>{!1===l&&this.isSynced&&(this.whenSynced=c()),this.isSynced=void 0===l||!0===l,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=c()}load(){const t=this._item;null!==t&&!this.shouldLoad&&Xe(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(hr(this.subdocs).map(t=>t.guid))}transact(t,n=null){return Xe(this,t,n)}get(t,n=Ot){const r=In(this.share,t,()=>{const i=new n;return i._integrate(this,null),i}),o=r.constructor;if(n!==Ot&&o!==n){if(o===Ot){const i=new n;i._map=r._map,r._map.forEach(s=>{for(;null!==s;s=s.left)s.parent=i}),i._start=r._start;for(let s=i._start;null!==s;s=s.right)s.parent=i;return i._length=r._length,this.share.set(t,i),i._integrate(this,null),i}throw new Error(`Type with the name ${t} has already been defined with a different constructor`)}return r}getArray(t=""){return this.get(t,Co)}getText(t=""){return this.get(t,ls)}getMap(t=""){return this.get(t,Yo)}getXmlElement(t=""){return this.get(t,Qo)}getXmlFragment(t=""){return this.get(t,Zo)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){this.isDestroyed=!0,hr(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(null!==t){this._item=null;const n=t.content;n.doc=new Yr({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,Xe(t.parent.doc,r=>{t.deleted||r.subdocsAdded.add(n.doc),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Ta{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Ce(this.restDecoder)}readDsLen(){return Ce(this.restDecoder)}}class Qn extends Ta{readLeftID(){return Me(Ce(this.restDecoder),Ce(this.restDecoder))}readRightID(){return Me(Ce(this.restDecoder),Ce(this.restDecoder))}readClient(){return Ce(this.restDecoder)}readInfo(){return $r(this.restDecoder)}readString(){return wr(this.restDecoder)}readParentInfo(){return 1===Ce(this.restDecoder)}readTypeRef(){return Ce(this.restDecoder)}readLen(){return Ce(this.restDecoder)}readAny(){return Ki(this.restDecoder)}readBuf(){return(e=>{const t=Mb(e.byteLength);return t.set(e),t})(kt(this.restDecoder))}readJSON(){return JSON.parse(wr(this.restDecoder))}readKey(){return wr(this.restDecoder)}}class Yb{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ce(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Ce(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class Ln extends Yb{constructor(t){super(t),this.keys=[],Ce(t),this.keyClockDecoder=new up(kt(t)),this.clientDecoder=new $l(kt(t)),this.leftClockDecoder=new up(kt(t)),this.rightClockDecoder=new up(kt(t)),this.infoDecoder=new hb(kt(t),$r),this.stringDecoder=new vV(kt(t)),this.parentInfoDecoder=new hb(kt(t),$r),this.typeRefDecoder=new $l(kt(t)),this.lenDecoder=new $l(kt(t))}readLeftID(){return new is(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new is(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Ki(this.restDecoder)}readBuf(){return kt(this.restDecoder)}readJSON(){return Ki(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class os{constructor(){this.restEncoder=Tt()}toUint8Array(){return st(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){me(this.restEncoder,t)}writeDsLen(t){me(this.restEncoder,t)}}class Wo extends os{writeLeftID(t){me(this.restEncoder,t.client),me(this.restEncoder,t.clock)}writeRightID(t){me(this.restEncoder,t.client),me(this.restEncoder,t.clock)}writeClient(t){me(this.restEncoder,t)}writeInfo(t){Ea(this.restEncoder,t)}writeString(t){gr(this.restEncoder,t)}writeParentInfo(t){me(this.restEncoder,t?1:0)}writeTypeRef(t){me(this.restEncoder,t)}writeLen(t){me(this.restEncoder,t)}writeAny(t){Qi(this.restEncoder,t)}writeBuf(t){mt(this.restEncoder,t)}writeJSON(t){gr(this.restEncoder,JSON.stringify(t))}writeKey(t){gr(this.restEncoder,t)}}class Yl{constructor(){this.restEncoder=Tt(),this.dsCurrVal=0}toUint8Array(){return st(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,me(this.restEncoder,n)}writeDsLen(t){0===t&&vr(),me(this.restEncoder,t-1),this.dsCurrVal+=t}}class br extends Yl{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new lp,this.clientEncoder=new jl,this.leftClockEncoder=new lp,this.rightClockEncoder=new lp,this.infoEncoder=new ab(Ea),this.stringEncoder=new fV,this.parentInfoEncoder=new ab(Ea),this.typeRefEncoder=new jl,this.lenEncoder=new jl}toUint8Array(){const t=Tt();return me(t,0),mt(t,this.keyClockEncoder.toUint8Array()),mt(t,this.clientEncoder.toUint8Array()),mt(t,this.leftClockEncoder.toUint8Array()),mt(t,this.rightClockEncoder.toUint8Array()),mt(t,st(this.infoEncoder)),mt(t,this.stringEncoder.toUint8Array()),mt(t,st(this.parentInfoEncoder)),mt(t,this.typeRefEncoder.toUint8Array()),mt(t,this.lenEncoder.toUint8Array()),Ia(t,st(this.restEncoder)),st(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){Qi(this.restEncoder,t)}writeBuf(t){mt(this.restEncoder,t)}writeJSON(t){Qi(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);void 0===n?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const Ep=(e,t,n)=>{const r=new Map;n.forEach((o,i)=>{yt(t,i)>o&&r.set(i,o)}),Na(t).forEach((o,i)=>{n.has(i)||r.set(i,0)}),me(e.restEncoder,r.size),hr(r.entries()).sort((o,i)=>i[0]-o[0]).forEach(([o,i])=>{((e,t,n,r)=>{r=$o(r,t[0].id.clock);const o=Kn(t,r);me(e.restEncoder,t.length-o),e.writeClient(n),me(e.restEncoder,r);const i=t[o];i.write(e,r-i.id.clock);for(let s=o+1;s<t.length;s++)t[s].write(e,0)})(e,t.clients.get(o),o,i)})},Sp=(e,t,n,r=Ln)=>{const o=Yn(t);((e,t,n,r=new Ln(e))=>{Xe(t,o=>{o.local=!1;let i=!1;const s=o.doc,a=s.store,c=((e,t)=>{const n=gn(),r=Ce(e.restDecoder);for(let o=0;o<r;o++){const i=Ce(e.restDecoder),s=new Array(i),a=e.readClient();let c=Ce(e.restDecoder);n.set(a,{i:0,refs:s});for(let l=0;l<i;l++){const d=e.readInfo();switch(31&d){case 0:{const p=e.readLen();s[l]=new An(Me(a,c),p),c+=p;break}case 10:{const p=Ce(e.restDecoder);s[l]=new mn(Me(a,c),p),c+=p;break}default:{const p=0==(192&d),y=new Qe(Me(a,c),null,(d&Mn)===Mn?e.readLeftID():null,null,64==(64&d)?e.readRightID():null,p?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,p&&32==(32&d)?e.readString():null,$E(e,d));s[l]=y,c+=y.length}}}}return n})(r,s),l=((e,t,n)=>{const r=[];let o=hr(n.keys()).sort((w,T)=>w-T);if(0===o.length)return null;const i=()=>{if(0===o.length)return null;let w=n.get(o[o.length-1]);for(;w.refs.length===w.i;){if(o.pop(),!(o.length>0))return null;w=n.get(o[o.length-1])}return w};let s=i();if(null===s)return null;const a=new aE,c=new Map,l=(w,T)=>{const j=c.get(w);(null==j||j>T)&&c.set(w,T)};let d=s.refs[s.i++];const p=new Map,y=()=>{for(const w of r){const T=w.id.client,j=n.get(T);j?(j.i--,a.clients.set(T,j.refs.slice(j.i)),n.delete(T),j.i=0,j.refs=[]):a.clients.set(T,[w]),o=o.filter(J=>J!==T)}r.length=0};for(;;){if(d.constructor!==mn){const T=In(p,d.id.client,()=>yt(t,d.id.client))-d.id.clock;if(T<0)r.push(d),l(d.id.client,d.id.clock-1),y();else{const j=d.getMissing(e,t);if(null!==j){r.push(d);const J=n.get(j)||{refs:[],i:0};if(J.refs.length!==J.i){d=J.refs[J.i++];continue}l(j,yt(t,j)),y()}else(0===T||T<d.length)&&(d.integrate(e,T),p.set(d.id.client,d.id.clock+d.length))}}if(r.length>0)d=r.pop();else if(null!==s&&s.i<s.refs.length)d=s.refs[s.i++];else{if(s=i(),null===s)break;d=s.refs[s.i++]}}if(a.clients.size>0){const w=new br;return Ep(w,a,new Map),me(w.restEncoder,0),{missing:c,update:w.toUint8Array()}}return null})(o,a,c),d=a.pendingStructs;if(d){for(const[y,w]of d.missing)if(w<yt(a,y)){i=!0;break}if(l){for(const[y,w]of l.missing){const T=d.missing.get(y);(null==T||T>w)&&d.missing.set(y,w)}d.update=Jl([d.update,l.update])}}else a.pendingStructs=l;const p=qb(r,o,a);if(a.pendingDs){const y=new Ln(Yn(a.pendingDs));Ce(y.restDecoder);const w=qb(y,o,a);a.pendingDs=p&&w?Jl([p,w]):p||w}else a.pendingDs=p;if(i){const y=a.pendingStructs.update;a.pendingStructs=null,Sp(o.doc,y)}},n,!1)})(o,e,n,new r(o))},pB=(e,t=new Uint8Array([0]),n=new br)=>{((e,t,n=new Map)=>{Ep(e,t.store,n),Cr(e,(e=>{const t=bp();return e.clients.forEach((n,r)=>{const o=[];for(let i=0;i<n.length;i++){const s=n[i];if(s.deleted){const a=s.id.clock;let c=s.length;if(i+1<n.length)for(let l=n[i+1];i+1<n.length&&l.deleted;l=n[1+ ++i])c+=l.length;o.push(new Dp(a,c))}}o.length>0&&t.clients.set(r,o)}),t})(t.store))})(n,e,Kb(t));const o=[n.toUint8Array()];if(e.store.pendingDs&&o.push(e.store.pendingDs),e.store.pendingStructs&&o.push(vE(e.store.pendingStructs.update,t)),o.length>1){if(n.constructor===Wo)return xB(o.map((i,s)=>0===s?i:VB(i)));if(n.constructor===br)return Jl(o)}return o[0]},Kb=e=>(e=>{const t=new Map,n=Ce(e.restDecoder);for(let r=0;r<n;r++){const o=Ce(e.restDecoder),i=Ce(e.restDecoder);t.set(o,i)}return t})(new Ta(Yn(e))),Ip=(e,t)=>(me(e.restEncoder,t.size),hr(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{me(e.restEncoder,n),me(e.restEncoder,r)}),e);class wB{constructor(){this.l=[]}}const Jb=()=>new wB,Xb=(e,t)=>e.l.push(t),eE=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(o=>t!==o),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},tE=(e,t,n)=>hp(e.l,[t,n]);class is{constructor(t,n){this.client=t,this.clock=n}}const ss=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,Me=(e,t)=>new is(e,t);class iE{constructor(t,n){this.ds=t,this.sv=n}}const wo=(((e,t)=>{new iE(e,t)})(bp(),new Map),(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!ns(t.ds,e.id)),Ap=(e,t)=>{const n=In(e.meta,Ap,vo),r=e.doc.store;n.has(t)||(t.sv.forEach((o,i)=>{o<yt(r,i)&&rn(e,Me(i,o))}),ts(e,t.ds,o=>{}),n.add(t))};class aE{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Na=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const o=n[n.length-1];t.set(r,o.id.clock+o.length)}),t},yt=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const r=n[n.length-1];return r.id.clock+r.length},cE=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw vr()}n.push(t)},Kn=(e,t)=>{let n=0,r=e.length-1,o=e[r],i=o.id.clock;if(i===t)return r;let s=pr(t/(i+o.length-1)*r);for(;n<=r;){if(o=e[s],i=o.id.clock,i<=t){if(t<i+o.length)return s;n=s+1}else r=s-1;s=pr((n+r)/2)}throw vr()},as=(e,t)=>{const n=e.clients.get(t.client);return n[Kn(n,t.clock)]},Tp=(e,t,n)=>{const r=Kn(t,n),o=t[r];return o.id.clock<n&&o instanceof Qe?(t.splice(r+1,0,cu(e,o,n-o.id.clock)),r+1):r},rn=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[Tp(e,n,t.clock)]},lE=(e,t,n)=>{const r=t.clients.get(n.client),o=Kn(r,n.clock),i=r[o];return n.clock!==i.id.clock+i.length-1&&i.constructor!==An&&r.splice(o+1,0,cu(e,i,n.clock-i.id.clock+1)),i},uE=(e,t,n,r,o)=>{if(0===r)return;const i=n+r;let a,s=Tp(e,t,n);do{a=t[s++],i<a.id.clock+a.length&&Tp(e,t,i),o(a)}while(s<t.length&&t[s].id.clock<i)};class TB{constructor(t,n,r){this.doc=t,this.deleteSet=new es,this.beforeState=Na(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const dE=(e,t)=>!(0===t.deleteSet.clients.size&&!((e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1})(t.afterState,(n,r)=>t.beforeState.get(r)!==n)||(Cp(t.deleteSet),((e,t)=>{Ep(e,t.doc.store,t.beforeState)})(e,t),Cr(e,t.deleteSet),0)),fE=(e,t,n)=>{const r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&In(e.changed,t,vo).add(n)},Kl=(e,t)=>{let n=e[t],r=e[t-1],o=t;for(;o>0&&r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n);n=r,r=e[--o-1])n instanceof Qe&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);const i=t-o;return i&&e.splice(t+1-i,i),i},gE=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,o=r.store,i=n.deleteSet,s=n._mergeStructs;try{Cp(i),n.afterState=Na(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((c,l)=>a.push(()=>{(null===l._item||!l._item.deleted)&&l._callObserver(n,c)})),a.push(()=>{n.changedParentTypes.forEach((c,l)=>{l._dEH.l.length>0&&(null===l._item||!l._item.deleted)&&((c=c.filter(d=>null===d.target._item||!d.target._item.deleted)).forEach(d=>{d.currentTarget=l,d._path=null}),c.sort((d,p)=>d.path.length-p.path.length),tE(l._dEH,c,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),hp(a,[]),n._needFormattingCleanup&&JB(n)}finally{r.gc&&((e,t,n)=>{for(const[r,o]of e.clients.entries()){const i=t.clients.get(r);for(let s=o.length-1;s>=0;s--){const a=o[s],c=a.clock+a.len;for(let l=Kn(i,a.clock),d=i[l];l<i.length&&d.id.clock<c;d=i[++l]){const p=i[l];if(a.clock+a.len<=p.id.clock)break;p instanceof Qe&&p.deleted&&!p.keep&&n(p)&&p.gc(t,!1)}}}})(i,o,r.gcFilter),((e,t)=>{e.clients.forEach((n,r)=>{const o=t.clients.get(r);for(let i=n.length-1;i>=0;i--){const s=n[i];for(let c=np(o.length-1,1+Kn(o,s.clock+s.len-1)),l=o[c];c>0&&l.id.clock>=s.clock;l=o[c])c-=1+Kl(o,c)}})})(i,o),n.afterState.forEach((d,p)=>{const y=n.beforeState.get(p)||0;if(y!==d){const w=o.clients.get(p),T=$o(Kn(w,y),1);for(let j=w.length-1;j>=T;)j-=1+Kl(w,j)}});for(let d=s.length-1;d>=0;d--){const{client:p,clock:y}=s[d].id,w=o.clients.get(p),T=Kn(w,y);T+1<w.length&&Kl(w,T+1)>1||T>0&&Kl(w,T)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(jb(zl,Pn,"[yjs] ",qo,Fb,"Changed the client-id because another client seems to be using it."),r.clientID=Wb()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const d=new Wo;dE(d,n)&&r.emit("update",[d.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const d=new br;dE(d,n)&&r.emit("updateV2",[d.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:c,subdocsRemoved:l}=n;(a.size>0||l.size>0||c.size>0)&&(a.forEach(d=>{d.clientID=r.clientID,null==d.collectionid&&(d.collectionid=r.collectionid),r.subdocs.add(d)}),l.forEach(d=>r.subdocs.delete(d)),r.emit("subdocs",[{loaded:c,added:a,removed:l},r,n]),l.forEach(d=>d.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):gE(e,t+1)}}},Xe=(e,t,n=null,r=!0)=>{const o=e._transactionCleanups;let i=!1,s=null;null===e._transaction&&(i=!0,e._transaction=new TB(e,n,r),o.push(e._transaction),1===o.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{s=t(e._transaction)}finally{if(i){const a=e._transaction===o[0];e._transaction=null,a&&gE(o,0)}}return s};class _o{constructor(t,n){this.gen=function*RB(e){const t=Ce(e.restDecoder);for(let n=0;n<t;n++){const r=Ce(e.restDecoder),o=e.readClient();let i=Ce(e.restDecoder);for(let s=0;s<r;s++){const a=e.readInfo();if(10===a){const c=Ce(e.restDecoder);yield new mn(Me(o,i),c),i+=c}else if(31&a){const c=0==(192&a),l=new Qe(Me(o,i),null,(a&Mn)===Mn?e.readLeftID():null,null,64==(64&a)?e.readRightID():null,c?e.readParentInfo()?e.readString():e.readLeftID():null,c&&32==(32&a)?e.readString():null,$E(e,a));yield l,i+=l.length}else{const c=e.readLen();yield new An(Me(o,i),c),i+=c}}}}(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===mn);return this.curr}}class Np{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const xB=e=>Jl(e,Qn,Wo),LB=(e,t)=>{if(e.constructor===An){const{client:n,clock:r}=e.id;return new An(Me(n,r+t),e.length-t)}if(e.constructor===mn){const{client:n,clock:r}=e.id;return new mn(Me(n,r+t),e.length-t)}{const n=e,{client:r,clock:o}=n.id;return new Qe(Me(r,o+t),null,Me(r,o+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},Jl=(e,t=Ln,n=br)=>{if(1===e.length)return e[0];const r=e.map(d=>new t(Yn(d)));let o=r.map(d=>new _o(d,!0)),i=null;const s=new n,a=new Np(s);for(;o=o.filter(y=>null!==y.curr),o.sort((y,w)=>{if(y.curr.id.client===w.curr.id.client){const T=y.curr.id.clock-w.curr.id.clock;return 0===T?y.curr.constructor===w.curr.constructor?0:y.curr.constructor===mn?1:-1:T}return w.curr.id.client-y.curr.id.client}),0!==o.length;){const d=o[0],p=d.curr.id.client;if(null!==i){let y=d.curr,w=!1;for(;null!==y&&y.id.clock+y.length<=i.struct.id.clock+i.struct.length&&y.id.client>=i.struct.id.client;)y=d.next(),w=!0;if(null===y||y.id.client!==p||w&&y.id.clock>i.struct.id.clock+i.struct.length)continue;if(p!==i.struct.id.client)Do(a,i.struct,i.offset),i={struct:y,offset:0},d.next();else if(i.struct.id.clock+i.struct.length<y.id.clock)if(i.struct.constructor===mn)i.struct.length=y.id.clock+y.length-i.struct.id.clock;else{Do(a,i.struct,i.offset);const T=y.id.clock-i.struct.id.clock-i.struct.length;i={struct:new mn(Me(p,i.struct.id.clock+i.struct.length),T),offset:0}}else{const T=i.struct.id.clock+i.struct.length-y.id.clock;T>0&&(i.struct.constructor===mn?i.struct.length-=T:y=LB(y,T)),i.struct.mergeWith(y)||(Do(a,i.struct,i.offset),i={struct:y,offset:0},d.next())}}else i={struct:d.curr,offset:0},d.next();for(let y=d.curr;null!==y&&y.id.client===p&&y.id.clock===i.struct.id.clock+i.struct.length&&y.constructor!==mn;y=d.next())Do(a,i.struct,i.offset),i={struct:y,offset:0}}null!==i&&(Do(a,i.struct,i.offset),i=null),Rp(a);const l=(e=>{const t=new es;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,o)=>{if(!t.clients.has(o)){const i=r.slice();for(let s=n+1;s<e.length;s++)R2(i,e[s].clients.get(o)||[]);t.clients.set(o,i)}});return Cp(t),t})(r.map(d=>Wr(d)));return Cr(s,l),s.toUint8Array()},vE=(e,t,n=Ln,r=br)=>{const o=Kb(t),i=new r,s=new Np(i),a=new n(Yn(e)),c=new _o(a,!1);for(;c.curr;){const d=c.curr,p=d.id.client,y=o.get(p)||0;if(c.curr.constructor!==mn)if(d.id.clock+d.length>y)for(Do(s,d,$o(y-d.id.clock,0)),c.next();c.curr&&c.curr.id.client===p;)Do(s,c.curr,0),c.next();else for(;c.curr&&c.curr.id.client===p&&c.curr.id.clock+c.curr.length<=y;)c.next();else c.next()}Rp(s);const l=Wr(a);return Cr(i,l),i.toUint8Array()},wE=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:st(e.encoder.restEncoder)}),e.encoder.restEncoder=Tt(),e.written=0)},Do=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&wE(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),me(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},Rp=e=>{wE(e);const t=e.encoder.restEncoder;me(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];me(t,r.written),Ia(t,r.restEncoder)}},VB=e=>((e,t,n,r)=>{const o=new n(Yn(e)),i=new _o(o,!1),s=new r,a=new Np(s);for(let l=i.curr;null!==l;l=i.next())Do(a,t(l),0);Rp(a);const c=Wr(o);return Cr(s,c),s.toUint8Array()})(e,kV,Ln,Wo),DE="You must not compute changes after the event-handler fired.";class eu{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=BB(this.currentTarget,this.target))}deletes(t){return ns(this.transaction.deleteSet,t.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw mr(DE);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(o=>{if(null!==o){const i=n._map.get(o);let s,a;if(this.adds(i)){let c=i.left;for(;null!==c&&this.adds(c);)c=c.left;if(this.deletes(i)){if(null===c||!this.deletes(c))return;s="delete",a=tp(c.content.getContent())}else null!==c&&this.deletes(c)?(s="update",a=tp(c.content.getContent())):(s="add",a=void 0)}else{if(!this.deletes(i))return;s="delete",a=tp(i.content.getContent())}t.set(o,{action:s,oldValue:a})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(null===t){if(0===this.transaction.doc._transactionCleanups.length)throw mr(DE);const n=this.target,r=vo(),o=vo(),i=[];if(t={added:r,deleted:o,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const c=()=>{a&&i.push(a)};for(let l=n._start;null!==l;l=l.right)l.deleted?this.deletes(l)&&!this.adds(l)&&((null===a||void 0===a.delete)&&(c(),a={delete:0}),a.delete+=l.length,o.add(l)):this.adds(l)?((null===a||void 0===a.insert)&&(c(),a={insert:[]}),a.insert=a.insert.concat(l.content.getContent()),r.add(l)):((null===a||void 0===a.retain)&&(c(),a={retain:0}),a.retain+=l.length);null!==a&&void 0===a.retain&&c()}this._changes=t}return t}}const BB=(e,t)=>{const n=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let r=0,o=t._item.parent._start;for(;o!==t._item&&null!==o;)!o.deleted&&o.countable&&(r+=o.length),o=o.right;n.unshift(r)}t=t._item.parent}return n},jt=()=>{((...e)=>{console.warn(...Wl(e)),e.unshift(zl),Dr.forEach(t=>t.print(e))})("Invalid access: Add Yjs type to a document before reading data.")};let kp=0;class jB{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=kp++}}const bE=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=kp++},tu=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce((i,s)=>Pl(t-i.index)<Pl(t-s.index)?i:s);let r=e._start,o=0;for(null!==n&&(r=n.p,o=n.index,(e=>{e.timestamp=kp++})(n));null!==r.right&&o<t;){if(!r.deleted&&r.countable){if(t<o+r.length)break;o+=r.length}r=r.right}for(;null!==r.left&&o>t;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);for(;null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);return null!==n&&Pl(n.index-o)<r.parent.length/80?(bE(n,r,o),n):((e,t,n)=>{if(e.length>=80){const r=e.reduce((o,i)=>o.timestamp<i.timestamp?o:i);return bE(r,t,n),r}{const r=new jB(t,n);return e.push(r),r}})(e._searchMarker,r,o)},Ra=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const o=e[r];if(n>0){let i=o.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(o.index-=i.length);if(null===i||!0===i.marker){e.splice(r,1);continue}o.p=i,i.marker=!0}(t<o.index||n>0&&t===o.index)&&(o.index=$o(t,o.index+n))}},nu=(e,t,n)=>{const r=e,o=t.changedParentTypes;for(;In(o,e,()=>[]).push(n),null!==e._item;)e=e._item.parent;tE(r._eH,n,t)};class Ot{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Jb(),this._dEH=Jb(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw yr()}clone(){throw yr()}_write(t){}get _first(){let t=this._start;for(;null!==t&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Xb(this._eH,t)}observeDeep(t){Xb(this._dEH,t)}unobserve(t){eE(this._eH,t)}unobserveDeep(t){eE(this._dEH,t)}toJSON(){}}const EE=(e,t,n)=>{e.doc??jt(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const o=[];let i=e._start;for(;null!==i&&r>0;){if(i.countable&&!i.deleted){const s=i.content.getContent();if(s.length<=t)t-=s.length;else{for(let a=t;a<s.length&&r>0;a++)o.push(s[a]),r--;t=0}}i=i.right}return o},SE=e=>{e.doc??jt();const t=[];let n=e._start;for(;null!==n;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let o=0;o<r.length;o++)t.push(r[o])}n=n.right}return t},ka=(e,t)=>{let n=0,r=e._start;for(e.doc??jt();null!==r;){if(r.countable&&!r.deleted){const o=r.content.getContent();for(let i=0;i<o.length;i++)t(o[i],n++,e)}r=r.right}},IE=(e,t)=>{const n=[];return ka(e,(r,o)=>{n.push(t(r,o,e))}),n},$B=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const o=n[r++];return n.length<=r&&(n=null),{done:!1,value:o}}}},ME=(e,t)=>{e.doc??jt();const n=tu(e,t);let r=e._start;for(null!==n&&(r=n.p,t-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},ru=(e,t,n,r)=>{let o=n;const i=e.doc,s=i.clientID,a=i.store,c=null===n?t._start:n.right;let l=[];const d=()=>{l.length>0&&(o=new Qe(Me(s,yt(a,s)),o,o&&o.lastId,c,c&&c.id,t,null,new So(l)),o.integrate(e,0),l=[])};r.forEach(p=>{if(null===p)l.push(p);else switch(p.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(p);break;default:switch(d(),p.constructor){case Uint8Array:case ArrayBuffer:o=new Qe(Me(s,yt(a,s)),o,o&&o.lastId,c,c&&c.id,t,null,new us(new Uint8Array(p))),o.integrate(e,0);break;case Yr:o=new Qe(Me(s,yt(a,s)),o,o&&o.lastId,c,c&&c.id,t,null,new fs(p)),o.integrate(e,0);break;default:if(!(p instanceof Ot))throw new Error("Unexpected content type in insert operation");o=new Qe(Me(s,yt(a,s)),o,o&&o.lastId,c,c&&c.id,t,null,new Xn(p)),o.integrate(e,0)}}}),d()},AE=()=>mr("Length exceeded!"),TE=(e,t,n,r)=>{if(n>t._length)throw AE();if(0===n)return t._searchMarker&&Ra(t._searchMarker,n,r.length),ru(e,t,null,r);const o=n,i=tu(t,n);let s=t._start;for(null!==i&&(s=i.p,0==(n-=i.index)&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));null!==s;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&rn(e,Me(s.id.client,s.id.clock+n));break}n-=s.length}return t._searchMarker&&Ra(t._searchMarker,o,r.length),ru(e,t,s,r)},NE=(e,t,n,r)=>{if(0===r)return;const o=n,i=r,s=tu(t,n);let a=t._start;for(null!==s&&(a=s.p,n-=s.index);null!==a&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&rn(e,Me(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&null!==a;)a.deleted||(r<a.length&&rn(e,Me(a.id.client,a.id.clock+r)),a.delete(e),r-=a.length),a=a.right;if(r>0)throw AE();t._searchMarker&&Ra(t._searchMarker,o,-i+r)},ou=(e,t,n)=>{const r=t._map.get(n);void 0!==r&&r.delete(e)},Op=(e,t,n,r)=>{const o=t._map.get(n)||null,i=e.doc,s=i.clientID;let a;if(null==r)a=new So([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new So([r]);break;case Uint8Array:a=new us(r);break;case Yr:a=new fs(r);break;default:if(!(r instanceof Ot))throw new Error("Unexpected content type");a=new Xn(r)}new Qe(Me(s,yt(i.store,s)),o,o&&o.lastId,null,null,t,n,a).integrate(e,0)},xp=(e,t)=>{e.doc??jt();const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},RE=e=>{const t={};return e.doc??jt(),e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},kE=(e,t)=>{e.doc??jt();const n=e._map.get(t);return void 0!==n&&!n.deleted},iu=e=>(e.doc??jt(),((e,t)=>Gb(()=>{let n;do{n=e.next()}while(!n.done&&!t(n.value));return n}))(e._map.entries(),t=>!t[1].deleted));class qB extends eu{}class Co extends Ot{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new Co;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Co}clone(){const t=new Co;return t.insert(0,this.toArray().map(n=>n instanceof Ot?n.clone():n)),t}get length(){return this.doc??jt(),this._length}_callObserver(t,n){super._callObserver(t,n),nu(this,t,new qB(this,t))}insert(t,n){null!==this.doc?Xe(this.doc,r=>{TE(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){null!==this.doc?Xe(this.doc,n=>{((e,t,n)=>{let o=(t._searchMarker||[]).reduce((i,s)=>s.index>i.index?s:i,{index:0,p:t._start}).p;if(o)for(;o.right;)o=o.right;ru(e,t,o,n)})(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){null!==this.doc?Xe(this.doc,r=>{NE(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return ME(this,t)}toArray(){return SE(this)}slice(t=0,n=this.length){return EE(this,t,n)}toJSON(){return this.map(t=>t instanceof Ot?t.toJSON():t)}map(t){return IE(this,t)}forEach(t){ka(this,t)}[Symbol.iterator](){return $B(this)}_write(t){t.writeTypeRef(yj)}}class YB extends eu{constructor(t,n,r){super(t,n),this.keysChanged=r}}class Yo extends Ot{constructor(t){super(),this._prelimContent=null,this._prelimContent=void 0===t?new Map:new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,o)=>{this.set(o,r)}),this._prelimContent=null}_copy(){return new Yo}clone(){const t=new Yo;return this.forEach((n,r)=>{t.set(r,n instanceof Ot?n.clone():n)}),t}_callObserver(t,n){nu(this,t,new YB(this,t,n))}toJSON(){this.doc??jt();const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const o=n.content.getContent()[n.length-1];t[r]=o instanceof Ot?o.toJSON():o}}),t}get size(){return[...iu(this)].length}keys(){return _p(iu(this),t=>t[0])}values(){return _p(iu(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return _p(iu(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??jt(),this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){null!==this.doc?Xe(this.doc,n=>{ou(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return null!==this.doc?Xe(this.doc,r=>{Op(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return xp(this,t)}has(t){return kE(this,t)}clear(){null!==this.doc?Xe(this.doc,t=>{this.forEach(function(n,r,o){ou(t,o,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(vj)}}const bo=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&((e,t)=>e===t||Cb(e)===Cb(t)&&((e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0})(e,(n,r)=>(void 0!==n||bb(t,r))&&t[r]===n))(e,t);class Fp{constructor(t,n,r,o){this.left=t,this.right=n,this.index=r,this.currentAttributes=o}forward(){null===this.right&&vr(),this.right.content.constructor===Ct?this.right.deleted||cs(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}const OE=(e,t,n)=>{for(;null!==t.right&&n>0;)t.right.content.constructor===Ct?t.right.deleted||cs(t.currentAttributes,t.right.content):t.right.deleted||(n<t.right.length&&rn(e,Me(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length),t.left=t.right,t.right=t.right.right;return t},su=(e,t,n,r)=>{const o=new Map,i=r?tu(t,n):null;if(i){const s=new Fp(i.p.left,i.p,i.index,o);return OE(e,s,n-i.index)}{const s=new Fp(null,t._start,0,o);return OE(e,s,n)}},xE=(e,t,n,r)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===Ct&&bo(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const o=e.doc,i=o.clientID;r.forEach((s,a)=>{const c=n.left,l=n.right,d=new Qe(Me(i,yt(o.store,i)),c,c&&c.lastId,l,l&&l.id,t,null,new Ct(a,s));d.integrate(e,0),n.right=d,n.forward()})},cs=(e,t)=>{const{key:n,value:r}=t;null===r?e.delete(n):e.set(n,r)},FE=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===Ct&&bo(t[e.right.content.key]??null,e.right.content.value));)e.forward()},PE=(e,t,n,r)=>{const o=e.doc,i=o.clientID,s=new Map;for(const a in r){const c=r[a],l=n.currentAttributes.get(a)??null;if(!bo(l,c)){s.set(a,l);const{left:d,right:p}=n;n.right=new Qe(Me(i,yt(o.store,i)),d,d&&d.lastId,p,p&&p.id,t,null,new Ct(a,c)),n.right.integrate(e,0),n.forward()}}return s},Pp=(e,t,n,r,o)=>{n.currentAttributes.forEach((y,w)=>{void 0===o[w]&&(o[w]=null)});const i=e.doc,s=i.clientID;FE(n,o);const a=PE(e,t,n,o),c=r.constructor===String?new Jn(r):r instanceof Ot?new Xn(r):new Eo(r);let{left:l,right:d,index:p}=n;t._searchMarker&&Ra(t._searchMarker,n.index,c.getLength()),d=new Qe(Me(s,yt(i.store,s)),l,l&&l.lastId,d,d&&d.id,t,null,c),d.integrate(e,0),n.right=d,n.index=p,n.forward(),xE(e,t,n,a)},LE=(e,t,n,r,o)=>{const i=e.doc,s=i.clientID;FE(n,o);const a=PE(e,t,n,o);e:for(;null!==n.right&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===Ct));){if(!n.right.deleted)switch(n.right.content.constructor){case Ct:{const{key:c,value:l}=n.right.content,d=o[c];if(void 0!==d){if(bo(d,l))a.delete(c);else{if(0===r)break e;a.set(c,l)}n.right.delete(e)}else n.currentAttributes.set(c,l);break}default:r<n.right.length&&rn(e,Me(n.right.id.client,n.right.id.clock+r)),r-=n.right.length}n.forward()}if(r>0){let c="";for(;r>0;r--)c+="\n";n.right=new Qe(Me(s,yt(i.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Jn(c)),n.right.integrate(e,0),n.forward()}xE(e,t,n,a)},VE=(e,t,n,r,o)=>{let i=t;const s=gn();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===Ct){const l=i.content;s.set(l.key,l)}i=i.right}let a=0,c=!1;for(;t!==i;){if(n===t&&(c=!0),!t.deleted){const l=t.content;switch(l.constructor){case Ct:{const{key:d,value:p}=l,y=r.get(d)??null;(s.get(d)!==l||y===p)&&(t.delete(e),a++,!c&&(o.get(d)??null)===p&&y!==p&&(null===y?o.delete(d):o.set(d,y))),!c&&!t.deleted&&cs(o,l);break}}}t=t.right}return a},KB=e=>{let t=0;return Xe(e.doc,n=>{let r=e._start,o=e._start,i=gn();const s=ep(i);for(;o;)!1===o.deleted&&(o.content.constructor===Ct?cs(s,o.content):(t+=VE(n,r,o,i,s),i=ep(s),r=o)),o=o.right}),t},JB=e=>{const t=new Set,n=e.doc;for(const[r,o]of e.afterState.entries()){const i=e.beforeState.get(r)||0;o!==i&&uE(e,n.store.clients.get(r),i,o,s=>{!s.deleted&&s.content.constructor===Ct&&s.constructor!==An&&t.add(s.parent)})}Xe(n,r=>{ts(e,e.deleteSet,o=>{o instanceof An||!o.parent._hasFormatting||t.has(o.parent)||(o.content.constructor===Ct?t.add(o.parent):((e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Ct){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}})(r,o))});for(const o of t)KB(o)})},BE=(e,t,n)=>{const r=n,o=ep(t.currentAttributes),i=t.right;for(;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case Xn:case Eo:case Jn:n<t.right.length&&rn(e,Me(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}i&&VE(e,i,t.right,o,t.currentAttributes);const s=(t.left||t.right).parent;return s._searchMarker&&Ra(s._searchMarker,t.index,-r+n),t};class XB extends eu{constructor(t,n,r){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(o=>{null===o?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){return null===this._changes&&(this._changes={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set}),this._changes}get delta(){if(null===this._delta){const n=[];Xe(this.target.doc,r=>{const o=new Map,i=new Map;let s=this.target._start,a=null;const c={};let l="",d=0,p=0;const y=()=>{if(null!==a){let w=null;switch(a){case"delete":p>0&&(w={delete:p}),p=0;break;case"insert":("object"==typeof l||l.length>0)&&(w={insert:l},o.size>0&&(w.attributes={},o.forEach((T,j)=>{null!==T&&(w.attributes[j]=T)}))),l="";break;case"retain":d>0&&(w={retain:d},(e=>{for(const t in e)return!1;return!0})(c)||(w.attributes=SV({},c))),d=0}w&&n.push(w),a=null}};for(;null!==s;){switch(s.content.constructor){case Xn:case Eo:this.adds(s)?this.deletes(s)||(y(),a="insert",l=s.content.getContent()[0],y()):this.deletes(s)?("delete"!==a&&(y(),a="delete"),p+=1):s.deleted||("retain"!==a&&(y(),a="retain"),d+=1);break;case Jn:this.adds(s)?this.deletes(s)||("insert"!==a&&(y(),a="insert"),l+=s.content.str):this.deletes(s)?("delete"!==a&&(y(),a="delete"),p+=s.length):s.deleted||("retain"!==a&&(y(),a="retain"),d+=s.length);break;case Ct:{const{key:w,value:T}=s.content;if(this.adds(s)){if(!this.deletes(s)){const j=o.get(w)??null;bo(j,T)?null!==T&&s.delete(r):("retain"===a&&y(),bo(T,i.get(w)??null)?delete c[w]:c[w]=T)}}else if(this.deletes(s)){i.set(w,T);const j=o.get(w)??null;bo(j,T)||("retain"===a&&y(),c[w]=j)}else if(!s.deleted){i.set(w,T);const j=c[w];void 0!==j&&(bo(j,T)?null!==j&&s.delete(r):("retain"===a&&y(),null===T?delete c[w]:c[w]=T))}s.deleted||("insert"===a&&y(),cs(o,s.content));break}}s=s.right}for(y();n.length>0;){const w=n[n.length-1];if(void 0===w.retain||void 0!==w.attributes)break;n.pop()}}),this._delta=n}return this._delta}}class ls extends Ot{constructor(t){super(),this._pending=void 0!==t?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??jt(),this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new ls}clone(){const t=new ls;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new XB(this,t,n);nu(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??jt();let t="",n=this._start;for(;null!==n;)!n.deleted&&n.countable&&n.content.constructor===Jn&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){null!==this.doc?Xe(this.doc,r=>{const o=new Fp(null,this._start,0,new Map);for(let i=0;i<t.length;i++){const s=t[i];if(void 0!==s.insert){const a=n||"string"!=typeof s.insert||i!==t.length-1||null!==o.right||"\n"!==s.insert.slice(-1)?s.insert:s.insert.slice(0,-1);("string"!=typeof a||a.length>0)&&Pp(r,this,o,a,s.attributes||{})}else void 0!==s.retain?LE(r,this,o,s.retain,s.attributes||{}):void 0!==s.delete&&BE(r,o,s.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){this.doc??jt();const o=[],i=new Map;let a="",c=this._start;function l(){if(a.length>0){const p={};let y=!1;i.forEach((T,j)=>{y=!0,p[j]=T});const w={insert:a};y&&(w.attributes=p),o.push(w),a=""}}const d=()=>{for(;null!==c;){if(wo(c,t)||void 0!==n&&wo(c,n))switch(c.content.constructor){case Jn:{const p=i.get("ychange");void 0===t||wo(c,t)?void 0===n||wo(c,n)?void 0!==p&&(l(),i.delete("ychange")):(void 0===p||p.user!==c.id.client||"added"!==p.type)&&(l(),i.set("ychange",r?r("added",c.id):{type:"added"})):(void 0===p||p.user!==c.id.client||"removed"!==p.type)&&(l(),i.set("ychange",r?r("removed",c.id):{type:"removed"})),a+=c.content.str;break}case Xn:case Eo:{l();const p={insert:c.content.getContent()[0]};if(i.size>0){const y={};p.attributes=y,i.forEach((w,T)=>{y[T]=w})}o.push(p);break}case Ct:wo(c,t)&&(l(),cs(i,c.content))}c=c.right}l()};return t||n?Xe(this.doc,p=>{t&&Ap(p,t),n&&Ap(p,n),d()},"cleanup"):d(),o}insert(t,n,r){if(n.length<=0)return;const o=this.doc;null!==o?Xe(o,i=>{const s=su(i,this,t,!r);r||(r={},s.currentAttributes.forEach((a,c)=>{r[c]=a})),Pp(i,this,s,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){const o=this.doc;null!==o?Xe(o,i=>{const s=su(i,this,t,!r);Pp(i,this,s,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(0===n)return;const r=this.doc;null!==r?Xe(r,o=>{BE(o,su(o,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(0===n)return;const o=this.doc;null!==o?Xe(o,i=>{const s=su(i,this,t,!1);null!==s.right&&LE(i,this,s,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){null!==this.doc?Xe(this.doc,n=>{ou(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){null!==this.doc?Xe(this.doc,r=>{Op(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return xp(this,t)}getAttributes(){return RE(this)}_write(t){t.writeTypeRef(wj)}}class Lp{constructor(t,n=(()=>!0)){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??jt()}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(null!==t&&(!this._firstCall||t.deleted||!this._filter(n)))do{if(n=t.content.type,t.deleted||n.constructor!==Qo&&n.constructor!==Zo||null===n._start)for(;null!==t;){const r=t.next;if(null!==r){t=r;break}t=t.parent===this._root?null:t.parent._item}else t=n._start}while(null!==t&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,null===t?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class Zo extends Ot{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Zo}clone(){const t=new Zo;return t.insert(0,this.toArray().map(n=>n instanceof Ot?n.clone():n)),t}get length(){return this.doc??jt(),null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(t){return new Lp(this,t)}querySelector(t){t=t.toUpperCase();const r=new Lp(this,o=>o.nodeName&&o.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),hr(new Lp(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){nu(this,t,new rj(this,n,t))}toString(){return IE(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const o=t.createDocumentFragment();return void 0!==r&&r._createAssociation(o,this),ka(this,i=>{o.insertBefore(i.toDOM(t,n,r),null)}),o}insert(t,n){null!==this.doc?Xe(this.doc,r=>{TE(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(null!==this.doc)Xe(this.doc,r=>{ru(r,this,t&&t instanceof Ot?t._item:t,n)});else{const r=this._prelimContent,o=null===t?0:r.findIndex(i=>i===t)+1;if(0===o&&null!==t)throw mr("Reference item not found");r.splice(o,0,...n)}}delete(t,n=1){null!==this.doc?Xe(this.doc,r=>{NE(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return SE(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return ME(this,t)}slice(t=0,n=this.length){return EE(this,t,n)}forEach(t){ka(this,t)}_write(t){t.writeTypeRef(Dj)}}class Qo extends Zo{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,o)=>{this.setAttribute(o,r)}),this._prelimAttrs=null}_copy(){return new Qo(this.nodeName)}clone(){const t=new Qo(this.nodeName);return((e,t)=>{for(const n in e)t(e[n],n)})(this.getAttributes(),(r,o)=>{"string"==typeof r&&t.setAttribute(o,r)}),t.insert(0,this.toArray().map(r=>r instanceof Ot?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const a in t)r.push(a);r.sort();const o=r.length;for(let a=0;a<o;a++){const c=r[a];n.push(c+'="'+t[c]+'"')}const i=this.nodeName.toLocaleLowerCase();return`<${i}${n.length>0?" "+n.join(" "):""}>${super.toString()}</${i}>`}removeAttribute(t){null!==this.doc?Xe(this.doc,n=>{ou(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){null!==this.doc?Xe(this.doc,r=>{Op(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return xp(this,t)}hasAttribute(t){return kE(this,t)}getAttributes(t){return t?((e,t)=>{const n={};return this._map.forEach((r,o)=>{let i=r;for(;null!==i&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;null!==i&&wo(i,t)&&(n[o]=i.content.getContent()[i.length-1])}),n})(0,t):RE(this)}toDOM(t=document,n={},r){const o=t.createElement(this.nodeName),i=this.getAttributes();for(const s in i){const a=i[s];"string"==typeof a&&o.setAttribute(s,a)}return ka(this,s=>{o.appendChild(s.toDOM(t,n,r))}),void 0!==r&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(_j),t.writeKey(this.nodeName)}}class rj extends eu{constructor(t,n,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(o=>{null===o?this.childListChanged=!0:this.attributesChanged.add(o)})}}class Oa extends Yo{constructor(t){super(),this.hookName=t}_copy(){return new Oa(this.hookName)}clone(){const t=new Oa(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const o=n[this.hookName];let i;return i=void 0!==o?o.createDom(this):document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),void 0!==r&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(Cj),t.writeKey(this.hookName)}}class au extends ls{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new au}clone(){const t=new au;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const o=t.createTextNode(this.toString());return void 0!==r&&r._createAssociation(o,this),o}toString(){return this.toDelta().map(t=>{const n=[];for(const o in t.attributes){const i=[];for(const s in t.attributes[o])i.push({key:s,value:t.attributes[o][s]});i.sort((s,a)=>s.key<a.key?-1:1),n.push({nodeName:o,attrs:i})}n.sort((o,i)=>o.nodeName<i.nodeName?-1:1);let r="";for(let o=0;o<n.length;o++){const i=n[o];r+=`<${i.nodeName}`;for(let s=0;s<i.attrs.length;s++){const a=i.attrs[s];r+=` ${a.key}="${a.value}"`}r+=">"}r+=t.insert;for(let o=n.length-1;o>=0;o--)r+=`</${n[o].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(bj)}}class Vp{constructor(t,n){this.id=t,this.length=n}get deleted(){throw yr()}mergeWith(t){return!1}write(t,n,r){throw yr()}integrate(t,n){throw yr()}}class An extends Vp{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),cE(t.doc.store,this)}write(t,n){t.writeInfo(0),t.writeLen(this.length-n)}getMissing(t,n){return null}}class us{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new us(this.content)}splice(t){throw yr()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}class ds{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new ds(this.len)}splice(t){const n=new ds(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){Aa(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const jE=(e,t)=>new Yr({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class fs{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),null!==t.meta&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new fs(jE(this.doc.guid,this.opts))}splice(t){throw yr()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}class Eo{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Eo(this.embed)}splice(t){throw yr()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}class Ct{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ct(this.key,this.value)}splice(t){throw yr()}mergeWith(t){return!1}integrate(t,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}class xa{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new xa(this.arr)}splice(t){const n=new xa(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let o=n;o<r;o++){const i=this.arr[o];t.writeString(void 0===i?"undefined":JSON.stringify(i))}}getRef(){return 2}}const hj="development"===Xi("node_env");class So{constructor(t){this.arr=t,hj&&Eb(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new So(this.arr)}splice(t){const n=new So(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let o=n;o<r;o++)t.writeAny(this.arr[o])}getRef(){return 8}}class Jn{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Jn(this.str)}splice(t){const n=new Jn(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"\ufffd",n.str="\ufffd"+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(0===n?this.str:this.str.slice(n))}getRef(){return 4}}const mj=[e=>new Co,e=>new Yo,e=>new ls,e=>new Qo(e.readKey()),e=>new Zo,e=>new Oa(e.readKey()),e=>new au],yj=0,vj=1,wj=2,_j=3,Dj=4,Cj=5,bj=6;class Xn{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Xn(this.type._copy())}splice(t){throw yr()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;null!==n;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;null!==n;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;null!==r;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const cu=(e,t,n)=>{const{client:r,clock:o}=t.id,i=new Qe(Me(r,o+n),t,Me(r,o+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&i.markDeleted(),t.keep&&(i.keep=!0),null!==t.redone&&(i.redone=Me(t.redone.client,t.redone.clock+n)),t.right=i,null!==i.right&&(i.right.left=i),e._mergeStructs.push(i),null!==i.parentSub&&null===i.right&&i.parent._map.set(i.parentSub,i),t.length=n,i};class Qe extends Vp{constructor(t,n,r,o,i,s,a,c){super(t,c.getLength()),this.origin=r,this.left=n,this.right=o,this.rightOrigin=i,this.parent=s,this.parentSub=a,this.redone=null,this.content=c,this.info=this.content.isCountable()?2:0}set marker(t){(8&this.info)>0!==t&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(t){this.keep!==t&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(t){this.deleted!==t&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=yt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=yt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===is&&this.id.client!==this.parent.client&&this.parent.clock>=yt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=lE(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=rn(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===An||this.right&&this.right.constructor===An)this.parent=null;else if(this.parent){if(this.parent.constructor===is){const r=as(n,this.parent);this.parent=r.constructor===An?null:r.content.type}}else this.left&&this.left.constructor===Qe?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Qe&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=lE(t,t.doc.store,Me(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let o,r=this.left;if(null!==r)o=r.right;else if(null!==this.parentSub)for(o=this.parent._map.get(this.parentSub)||null;null!==o&&null!==o.left;)o=o.left;else o=this.parent._start;const i=new Set,s=new Set;for(;null!==o&&o!==this.right;){if(s.add(o),i.add(o),ss(this.origin,o.origin)){if(o.id.client<this.id.client)r=o,i.clear();else if(ss(this.rightOrigin,o.rightOrigin))break}else{if(null===o.origin||!s.has(as(t.doc.store,o.origin)))break;i.has(as(t.doc.store,o.origin))||(r=o,i.clear())}o=o.right}this.left=r}if(null!==this.left)this.right=this.left.right,this.left.right=this;else{let r;if(null!==this.parentSub)for(r=this.parent._map.get(this.parentSub)||null;null!==r&&null!==r.left;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(t)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),cE(t.doc.store,this),this.content.integrate(t,this),fE(t,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(t)}else new An(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;null!==t&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;null!==t&&t.deleted;)t=t.left;return t}get lastId(){return 1===this.length?this.id:Me(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&ss(t.origin,this.lastId)&&this.right===t&&ss(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&null===this.redone&&null===t.redone&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,null!==this.right&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&null===this.parentSub&&(n._length-=this.length),this.markDeleted(),Aa(t.deleteSet,this.id.client,this.id.clock,this.length),fE(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw vr();this.content.gc(t),n?((e,t,n)=>{const r=e.clients.get(t.id.client);r[Kn(r,t.id.clock)]=n})(t,this,new An(this.id,this.length)):this.content=new ds(this.length)}write(t,n){const r=n>0?Me(this.id.client,this.id.clock+n-1):this.origin,o=this.rightOrigin,i=this.parentSub,s=31&this.content.getRef()|(null===r?0:Mn)|(null===o?0:64)|(null===i?0:32);if(t.writeInfo(s),null!==r&&t.writeLeftID(r),null!==o&&t.writeRightID(o),null===r&&null===o){const a=this.parent;if(void 0!==a._item){const c=a._item;if(null===c){const l=(e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw vr()})(a);t.writeParentInfo(!0),t.writeString(l)}else t.writeParentInfo(!1),t.writeLeftID(c.id)}else a.constructor===String?(t.writeParentInfo(!0),t.writeString(a)):a.constructor===is?(t.writeParentInfo(!1),t.writeLeftID(a)):vr();null!==i&&t.writeString(i)}this.content.write(t,n)}}const $E=(e,t)=>Sj[31&t](e),Sj=[()=>{vr()},e=>new ds(e.readLen()),e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const o=e.readString();n.push("undefined"===o?void 0:JSON.parse(o))}return new xa(n)},e=>new us(e.readBuf()),e=>new Jn(e.readString()),e=>new Eo(e.readJSON()),e=>new Ct(e.readKey(),e.readJSON()),e=>new Xn(mj[e.readTypeRef()](e)),e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new So(n)},e=>new fs(jE(e.readString(),e.readAny())),()=>{vr()}];class mn extends Vp{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor===t.constructor&&(this.length+=t.length,!0)}integrate(t,n){vr()}write(t,n){t.writeInfo(10),me(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},zE="__ $YJS$ __";!0===GE[zE]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),GE[zE]=!0;const lu=3e4,Up=e=>{if(e.shouldConnect&&null===e.ws){const t=new WebSocket(e.url),n=e.binaryType;let r=null;n&&(t.binaryType=n),e.ws=t,e.connecting=!0,e.connected=!1,t.onmessage=s=>{e.lastMessageReceived=qr();const a=s.data,c="string"==typeof a?JSON.parse(a):a;c&&"pong"===c.type&&(clearTimeout(r),r=setTimeout(i,lu/2)),e.emit("message",[c,e])};const o=s=>{null!==e.ws&&(e.ws=null,e.connecting=!1,e.connected?(e.connected=!1,e.emit("disconnect",[{type:"disconnect",error:s},e])):e.unsuccessfulReconnects++,setTimeout(Up,np(1200*x2(e.unsuccessfulReconnects+1),2500),e)),clearTimeout(r)},i=()=>{e.ws===t&&e.send({type:"ping"})};t.onclose=()=>o(null),t.onerror=s=>o(s),t.onopen=()=>{e.lastMessageReceived=qr(),e.connecting=!1,e.connected=!0,e.unsuccessfulReconnects=0,e.emit("connect",[{type:"connect"},e]),r=setTimeout(i,lu/2)}}};class Tj extends JC{constructor(t,{binaryType:n}={}){super(),this.url=t,this.ws=null,this.binaryType=n||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&lu<qr()-this.lastMessageReceived&&this.ws.close()},lu/2),Up(this)}send(t){this.ws&&this.ws.send(JSON.stringify(t))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&null===this.ws&&Up(this)}}const qE=new Map,Rj=typeof BroadcastChannel>"u"?class Nj{constructor(t){this.room=t,this.onmessage=null,this._onChange=n=>n.key===t&&null!==this.onmessage&&this.onmessage({data:yp(n.newValue||"")}),(e=>{fp||addEventListener("storage",this._onChange)})()}postMessage(t){wb.setItem(this.room,mp((e=>new Uint8Array(e))(t)))}close(){(e=>{fp||removeEventListener("storage",this._onChange)})()}}:BroadcastChannel,Hp=e=>In(qE,e,()=>{const t=vo(),n=new Rj(e);return n.onmessage=r=>t.forEach(o=>o(r.data,"broadcastchannel")),{bc:n,subs:t}});var Pj=Z(81);const YE=(e,t)=>{me(e,0);const n=(e=>((e,t=new Yl)=>(e instanceof Map?Ip(t,e):((e,t)=>{Ip(e,Na(t.store))})(t,e),t.toUint8Array()))(e,new os))(t);mt(e,n)},ZE=(e,t,n)=>{me(e,1),mt(e,((e,t)=>pB(e,t,new Wo))(t,n))},QE=(e,t,n)=>{try{((e,t,n)=>{Sp(e,t,n,Qn)})(t,kt(e),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},Bj=QE;class Uj extends JC{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=qr();null!==this.getLocalState()&&15e3<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((o,i)=>{i!==this.clientID&&3e4<=n-o.lastUpdated&&this.states.has(i)&&r.push(i)}),r.length>0&&qp(this,r,"timeout")},pr(3e3)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const n=this.clientID,r=this.meta.get(n),o=void 0===r?0:r.clock+1,i=this.states.get(n);null===t?this.states.delete(n):this.states.set(n,t),this.meta.set(n,{clock:o,lastUpdated:qr()});const s=[],a=[],c=[],l=[];null===t?l.push(n):null==i?null!=t&&s.push(n):(a.push(n),Ma(i,t)||c.push(n)),(s.length>0||c.length>0||l.length>0)&&this.emit("change",[{added:s,updated:c,removed:l},"local"]),this.emit("update",[{added:s,updated:a,removed:l},"local"])}setLocalStateField(t,n){const r=this.getLocalState();null!==r&&this.setLocalState({...r,[t]:n})}getStates(){return this.states}}const qp=(e,t,n)=>{const r=[];for(let o=0;o<t.length;o++){const i=t[o];if(e.states.has(i)){if(e.states.delete(i),i===e.clientID){const s=e.meta.get(i);e.meta.set(i,{clock:s.clock+1,lastUpdated:qr()})}r.push(i)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},uu=(e,t,n=e.states)=>{const r=t.length,o=Tt();me(o,r);for(let i=0;i<r;i++){const s=t[i],a=n.get(s)||null,c=e.meta.get(s).clock;me(o,s),me(o,c),gr(o,JSON.stringify(a))}return st(o)},KE=(e,t)=>{if(!t)return dp(e);const n=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e).then(r=>{const o=Tt();return gr(o,"AES-GCM"),mt(o,n),mt(o,new Uint8Array(r)),st(o)})},JE=(e,t)=>{if(!t)return dp(e);const n=Yn(e);"AES-GCM"!==wr(n)&&(e=>{Promise.reject(e)})(mr("Unknown encryption algorithm"));const o=kt(n),i=kt(n);return crypto.subtle.decrypt({name:"AES-GCM",iv:o},t,i).then(s=>new Uint8Array(s))},Tn=((e,t)=>{const n=Lb[wp],r=Xi("log"),o=null!==r&&("*"===r||"true"===r||new RegExp(r,"gi").test(t));return wp=(wp+1)%Lb.length,t+=": ",o?(...i)=>{1===i.length&&i[0]?.constructor===Function&&(i=i[0]());const s=qr(),a=s-Vb;Vb=s,e(n,t,ql,...i.map(c=>{switch(null!=c&&c.constructor===Uint8Array&&(c=Array.from(c)),typeof c){case"string":case"symbol":return c;default:return XV(c)}}),n," +"+a+"ms")}:RV})(jb,"y-webrtc"),du=new Map,Ko=new Map,eS=e=>{let t=!0;e.webrtcConns.forEach(n=>{n.synced||(t=!1)}),(!t&&e.synced||t&&!e.synced)&&(e.synced=t,e.provider.emit("synced",[{synced:t}]),Tn("synced ",Pn,e.name,qo," with all peers"))},tS=(e,t,n)=>{const r=Yn(t),o=Tt(),i=Ce(r);if(void 0===e)return null;const s=e.awareness,a=e.doc;let c=!1;switch(i){case 0:{me(o,0);const l=((e,t,n,r)=>{const o=Ce(e);switch(o){case 0:((e,t,n)=>{ZE(t,n,kt(e))})(e,t,n);break;case 1:QE(e,n,r);break;case 2:Bj(e,n,r);break;default:throw new Error("Unknown message type")}return o})(r,o,a,e);1===l&&!e.synced&&n(),0===l&&(c=!0);break}case 3:me(o,1),mt(o,uu(s,Array.from(s.getStates().keys()))),c=!0;break;case 1:((e,t,n)=>{const r=Yn(t),o=qr(),i=[],s=[],a=[],c=[],l=Ce(r);for(let d=0;d<l;d++){const p=Ce(r);let y=Ce(r);const w=JSON.parse(wr(r)),T=e.meta.get(p),j=e.states.get(p),J=void 0===T?0:T.clock;(J<y||J===y&&null===w&&e.states.has(p))&&(null===w?p===e.clientID&&null!=e.getLocalState()?y++:e.states.delete(p):e.states.set(p,w),e.meta.set(p,{clock:y,lastUpdated:o}),void 0===T&&null!==w?i.push(p):void 0!==T&&null===w?c.push(p):null!==w&&(Ma(w,j)||a.push(p),s.push(p)))}(i.length>0||a.length>0||c.length>0)&&e.emit("change",[{added:i,updated:a,removed:c},n]),(i.length>0||s.length>0||c.length>0)&&e.emit("update",[{added:i,updated:s,removed:c},n])})(s,kt(r),e);break;case 4:{const l=1===$r(r),d=wr(r);if(d!==e.peerId&&(e.bcConns.has(d)&&!l||!e.bcConns.has(d)&&l)){const p=[],y=[];l?(e.bcConns.add(d),y.push(d)):(e.bcConns.delete(d),p.push(d)),e.provider.emit("peers",[{added:y,removed:p,webrtcPeers:Array.from(e.webrtcConns.keys()),bcPeers:Array.from(e.bcConns)}]),oS(e)}break}default:return console.error("Unable to compute message"),o}return c?o:null},Yp=(e,t)=>{Tn("send message to ",Pn,e.remotePeerId,qo,vp," (",e.room.name,")",ql);try{e.peer.send(st(t))}catch{}};class nS{constructor(t,n,r,o){Tn("establishing connection to ",Pn,r),this.room=o,this.remotePeerId=r,this.glareToken=void 0,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new Pj({initiator:n,...o.provider.peerOpts}),this.peer.on("signal",i=>{void 0===this.glareToken&&(this.glareToken=Date.now()+Math.random()),Qp(t,o,{to:r,from:o.peerId,type:"signal",token:this.glareToken,signal:i})}),this.peer.on("connect",()=>{Tn("connected to ",Pn,r),this.connected=!0;const s=o.provider.doc,a=o.awareness,c=Tt();me(c,0),YE(c,s),Yp(this,c);const l=a.getStates();if(l.size>0){const d=Tt();me(d,1),mt(d,uu(a,Array.from(l.keys()))),Yp(this,d)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,o.webrtcConns.has(this.remotePeerId)&&(o.webrtcConns.delete(this.remotePeerId),o.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(o.webrtcConns.keys()),bcPeers:Array.from(o.bcConns)}])),eS(o),this.peer.destroy(),Tn("closed connection to ",Pn,r),Zp(o)}),this.peer.on("error",i=>{Tn("Error in connection to ",Pn,r,": ",i),Zp(o)}),this.peer.on("data",i=>{const s=((e,t)=>{const n=e.room;return Tn("received message from ",Pn,e.remotePeerId,vp," (",n.name,")",qo,ql),tS(n,t,()=>{e.synced=!0,Tn("synced ",Pn,n.name,qo," with ",Pn,e.remotePeerId),eS(n)})})(this,i);null!==s&&Yp(this,s)})}destroy(){this.peer.destroy()}}const Io=(e,t)=>KE(t,e.key).then(n=>e.mux(()=>((e,t,n=null)=>{const r=Hp(e);r.bc.postMessage(t),r.subs.forEach(o=>o(t,n))})(e.name,n))),rS=(e,t)=>{e.bcconnected&&Io(e,t),((e,t)=>{Tn("broadcast message in ",Pn,e.name,qo),e.webrtcConns.forEach(n=>{try{n.peer.send(t)}catch{}})})(e,t)},Zp=e=>{du.forEach(t=>{t.connected&&(t.send({type:"subscribe",topics:[e.name]}),e.webrtcConns.size<e.provider.maxConns&&Qp(t,e,{type:"announce",from:e.peerId}))})},oS=e=>{if(e.provider.filterBcConns){const t=Tt();me(t,4),Ea(t,1),gr(t,e.peerId),Io(e,st(t))}};class Yj{constructor(t,n,r,o){this.peerId=mb(),this.doc=t,this.awareness=n.awareness,this.provider=n,this.synced=!1,this.name=r,this.key=o,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=(()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}})(),this.bcconnected=!1,this._bcSubscriber=i=>JE(new Uint8Array(i),o).then(s=>this.mux(()=>{const a=tS(this,s,()=>{});a&&Io(this,st(a))})),this._docUpdateHandler=(i,s)=>{const a=Tt();me(a,0),((e,t)=>{me(e,2),mt(e,t)})(a,i),rS(this,st(a))},this._awarenessUpdateHandler=({added:i,updated:s,removed:a},c)=>{const l=i.concat(s).concat(a),d=Tt();me(d,1),mt(d,uu(this.awareness,l)),rS(this,st(d))},this._beforeUnloadHandler=()=>{qp(this.awareness,[t.clientID],"window unload"),Ko.forEach(i=>{i.disconnect()})},typeof window<"u"?window.addEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.on("exit",this._beforeUnloadHandler)}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),Zp(this),((e,t)=>{Hp(this.name).subs.add(t)})(0,this._bcSubscriber),this.bcconnected=!0,oS(this);const n=Tt();me(n,0),YE(n,this.doc),Io(this,st(n));const r=Tt();me(r,0),ZE(r,this.doc),Io(this,st(r));const o=Tt();me(o,3),Io(this,st(o));const i=Tt();me(i,1),mt(i,uu(this.awareness,[this.doc.clientID])),Io(this,st(i))}disconnect(){du.forEach(n=>{n.connected&&n.send({type:"unsubscribe",topics:[this.name]})}),qp(this.awareness,[this.doc.clientID],"disconnect");const t=Tt();me(t,4),Ea(t,0),gr(t,this.peerId),Io(this,st(t)),((e,t)=>{const n=Hp(e);n.subs.delete(t)&&0===n.subs.size&&(n.bc.close(),qE.delete(e))})(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(n=>n.destroy())}destroy(){this.disconnect(),typeof window<"u"?window.removeEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.off("exit",this._beforeUnloadHandler)}}const Qp=(e,t,n)=>{t.key?((e,t)=>{const n=Tt();return Qi(n,e),KE(st(n),t)})(n,t.key).then(r=>{e.send({type:"publish",topic:t.name,data:mp(r)})}):e.send({type:"publish",topic:t.name,data:n})};class Qj extends Tj{constructor(t){super(t),this.providers=new Set,this.on("connect",()=>{Tn(`connected (${t})`);const n=Array.from(Ko.keys());this.send({type:"subscribe",topics:n}),Ko.forEach(r=>Qp(this,r,{type:"announce",from:r.peerId}))}),this.on("message",n=>{if("publish"===n.type){const r=n.topic,o=Ko.get(r);if(null==o||"string"!=typeof r)return;const i=s=>{const a=o.webrtcConns,c=o.peerId;if(null==s||s.from===c||void 0!==s.to&&s.to!==c||o.bcConns.has(s.from))return;const l=a.has(s.from)?()=>{}:()=>o.provider.emit("peers",[{removed:[],added:[s.from],webrtcPeers:Array.from(o.webrtcConns.keys()),bcPeers:Array.from(o.bcConns)}]);switch(s.type){case"announce":a.size<o.provider.maxConns&&(In(a,s.from,()=>new nS(this,!0,s.from,o)),l());break;case"signal":if("offer"===s.signal.type){const d=a.get(s.from);if(d){const y=d.glareToken;if(y&&y>s.token)return void Tn("offer rejected: ",s.from);d.glareToken=void 0}}"answer"===s.signal.type&&(Tn("offer answered by: ",s.from),a.get(s.from).glareToken=void 0),s.to===c&&(In(a,s.from,()=>new nS(this,!1,s.from,o)).peer.signal(s.signal),l())}};o.key?"string"==typeof n.data&&((e,t)=>JE(e,t).then(n=>Ki(Yn(new Uint8Array(n)))))(yp(n.data),o.key).then(i):i(n.data)}}),this.on("disconnect",()=>Tn(`disconnect (${t})`))}}const Kp=e=>{e.emit("status",[{connected:e.connected}])};class Kj extends KC{constructor(t,n,{signaling:r=["wss://y-webrtc-eu.fly.dev"],password:o=null,awareness:i=new Uj(n),maxConns:s=20+pr(15*pb()),filterBcConns:a=!0,peerOpts:c={}}={}){super(),this.roomName=t,this.doc=n,this.filterBcConns=a,this.awareness=i,this.shouldConnect=!1,this.signalingUrls=r,this.signalingConns=[],this.maxConns=s,this.peerOpts=c,this.key=o?((e,t)=>{const n=sp(e).buffer,r=sp(t).buffer;return crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveKey"]).then(o=>crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))})(o,t):dp(null),this.room=null,this.key.then(l=>{this.room=((e,t,n,r)=>{if(Ko.has(n))throw mr(`A Yjs Doc connected to room "${n}" already exists!`);const o=new Yj(e,t,n,r);return Ko.set(n,o),o})(n,this,t,l),this.shouldConnect?this.room.connect():this.room.disconnect(),Kp(this)}),this.connect(),this.destroy=this.destroy.bind(this),n.on("destroy",this.destroy)}get connected(){return null!==this.room&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(t=>{const n=In(du,t,()=>new Qj(t));this.signalingConns.push(n),n.providers.add(this)}),this.room&&(this.room.connect(),Kp(this))}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(t=>{t.providers.delete(this),0===t.providers.size&&(t.destroy(),du.delete(t.url))}),this.room&&(this.room.disconnect(),Kp(this))}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),Ko.delete(this.roomName)}),super.destroy()}}var Jj=Z(251);const Xj=["qrCanvas"];let eU=(()=>{class e{constructor(){this.doc=new Yr,this.sharedTextContent="",this.roomName=""}ngOnInit(){const n=new URLSearchParams(window.location.search);this.roomName=n.get("room")||"p2p-shared-text-room",this.connectToRoom(this.roomName)}ngAfterViewInit(){this.generateQRCode(this.roomName)}connectToRoom(n){var r=this;return ZC(function*(){r.provider=new Kj(n,r.doc),r.yText=r.doc.getText("shared-text"),r.sharedTextContent=r.yText.toString(),r.yText.observe(()=>{const o=r.yText.toString();o!==r.sharedTextContent&&(r.sharedTextContent=o)}),r.generateQRCode(n)})()}reconnectToRoom(){this.provider.destroy(),this.doc=new Yr,this.connectToRoom(this.roomName);const n=`${window.location.origin}${window.location.pathname}?room=${encodeURIComponent(this.roomName)}`;window.history.replaceState({},"",n)}updateSharedText(){this.sharedTextContent!==this.yText.toString()&&(this.yText.delete(0,this.yText.length),this.yText.insert(0,this.sharedTextContent))}generateQRCode(n){var r=this;return ZC(function*(){const o=r.qrCanvas?.nativeElement,i=`${window.location.origin}${window.location.pathname}?room=${encodeURIComponent(n)}`;o&&(yield Jj.rT(o,i))})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=xg({type:e,selectors:[["app-root"]],viewQuery:function(r,o){if(1&r&&o0(Xj,5),2&r){let i;r0(i=function s0(){return function wO(e,t){return e[nr].queries[t].queryList}(ne(),wm())}())&&(o.qrCanvas=i.first)}},decls:13,vars:2,consts:[[1,"p-4","max-w-xl","mx-auto"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","mb-1"],[1,"p-2","border","rounded","w-full",3,"ngModel","ngModelChange","change"],["qrCanvas",""],[1,"text-sm","text-gray-600","mt-1"],["rows","10","placeholder","Schreibe etwas und teile es mit anderen...",1,"w-full","p-2","border","rounded","shadow",3,"ngModel","ngModelChange","input"]],template:function(r,o){1&r&&(Lr(0,"div",0)(1,"h1",1),Kc(2,"\u{1f9e0} Shared Notes (P2P via Yjs)"),uo(),Lr(3,"div",2)(4,"label",3),Kc(5,"Raumname:"),uo(),Lr(6,"input",4),En("ngModelChange",function(s){return o.roomName=s})("change",function(){return o.reconnectToRoom()}),uo()(),Lr(7,"div",2),_f(8,"canvas",null,5),Lr(10,"p",6),Kc(11,"Scanne den QR-Code oder teile den Link, um beizutreten."),uo()(),Lr(12,"textarea",7),En("ngModelChange",function(s){return o.sharedTextContent=s})("input",function(){return o.updateSharedText()}),uo()()),2&r&&(ef(6),qc("ngModel",o.roomName),ef(6),qc("ngModel",o.sharedTextContent))},dependencies:[Sl,gC,Wh],styles:["textarea[_ngcontent-%COMP%]{font-family:monospace;resize:vertical}"]})}}return e})(),tU=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=no({type:e,bootstrap:[eU]})}static{this.\u0275inj=Er({imports:[hL,A2]})}}return e})();dL().bootstrapModule(tU).catch(e=>console.error(e))},206:Te=>{"use strict";var z={single_source_shortest_paths:function(Z,B,E){var S={},_={};_[B]=0;var M,x,m,I,N,P,v=z.PriorityQueue.make();for(v.push(B,0);!v.empty();)for(m in I=(M=v.pop()).cost,N=Z[x=M.value]||{})N.hasOwnProperty(m)&&(P=I+N[m],(typeof _[m]>"u"||_[m]>P)&&(_[m]=P,v.push(m,P),S[m]=x));if(typeof E<"u"&&typeof _[E]>"u"){var q=["Could not find a path from ",B," to ",E,"."].join("");throw new Error(q)}return S},extract_shortest_path_from_predecessor_list:function(Z,B){for(var E=[],S=B;S;)E.push(S),S=Z[S];return E.reverse(),E},find_path:function(Z,B,E){var S=z.single_source_shortest_paths(Z,B,E);return z.extract_shortest_path_from_predecessor_list(S,E)},PriorityQueue:{make:function(Z){var S,B=z.PriorityQueue,E={};for(S in Z=Z||{},B)B.hasOwnProperty(S)&&(E[S]=B[S]);return E.queue=[],E.sorter=Z.sorter||B.default_sorter,E},default_sorter:function(Z,B){return Z.cost-B.cost},push:function(Z,B){this.queue.push({value:Z,cost:B}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Te.exports=z},251:(Te,z,Z)=>{const E=Z(310),S=Z(208),_=Z(422),v=Z(772);function M(x,m,I,N,C){const P=[].slice.call(arguments,1),V=P.length,U="function"==typeof P[V-1];if(!U&&!E())throw new Error("Callback required as last argument");if(!U){if(V<1)throw new Error("Too few arguments provided");return 1===V?(I=m,m=N=void 0):2===V&&!m.getContext&&(N=I,I=m,m=void 0),new Promise(function(q,D){try{const b=S.create(I,N);q(x(b,m,N))}catch(b){D(b)}})}if(V<2)throw new Error("Too few arguments provided");2===V?(C=I,I=m,m=N=void 0):3===V&&(m.getContext&&typeof C>"u"?(C=N,N=void 0):(C=N,N=I,I=m,m=void 0));try{const q=S.create(I,N);C(null,x(q,m,N))}catch(q){C(q)}}z.rT=M.bind(null,_.render),M.bind(null,_.renderToDataURL),M.bind(null,function(x,m,I){return v.render(x,I)})},310:Te=>{Te.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},281:(Te,z,Z)=>{const B=Z(562).getSymbolSize;z.getRowColCoords=function(S){if(1===S)return[];const _=Math.floor(S/7)+2,v=B(S),M=145===v?26:2*Math.ceil((v-13)/(2*_-2)),x=[v-7];for(let m=1;m<_-1;m++)x[m]=x[m-1]-M;return x.push(6),x.reverse()},z.getPositions=function(S){const _=[],v=z.getRowColCoords(S),M=v.length;for(let x=0;x<M;x++)for(let m=0;m<M;m++)0===x&&0===m||0===x&&m===M-1||x===M-1&&0===m||_.push([v[x],v[m]]);return _}},120:(Te,z,Z)=>{const B=Z(239),E=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function S(_){this.mode=B.ALPHANUMERIC,this.data=_}S.getBitsLength=function(v){return 11*Math.floor(v/2)+v%2*6},S.prototype.getLength=function(){return this.data.length},S.prototype.getBitsLength=function(){return S.getBitsLength(this.data.length)},S.prototype.write=function(v){let M;for(M=0;M+2<=this.data.length;M+=2){let x=45*E.indexOf(this.data[M]);x+=E.indexOf(this.data[M+1]),v.put(x,11)}this.data.length%2&&v.put(E.indexOf(this.data[M]),6)},Te.exports=S},509:Te=>{function z(){this.buffer=[],this.length=0}z.prototype={get:function(Z){const B=Math.floor(Z/8);return 1==(this.buffer[B]>>>7-Z%8&1)},put:function(Z,B){for(let E=0;E<B;E++)this.putBit(1==(Z>>>B-E-1&1))},getLengthInBits:function(){return this.length},putBit:function(Z){const B=Math.floor(this.length/8);this.buffer.length<=B&&this.buffer.push(0),Z&&(this.buffer[B]|=128>>>this.length%8),this.length++}},Te.exports=z},147:Te=>{function z(Z){if(!Z||Z<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=Z,this.data=new Uint8Array(Z*Z),this.reservedBit=new Uint8Array(Z*Z)}z.prototype.set=function(Z,B,E,S){const _=Z*this.size+B;this.data[_]=E,S&&(this.reservedBit[_]=!0)},z.prototype.get=function(Z,B){return this.data[Z*this.size+B]},z.prototype.xor=function(Z,B,E){this.data[Z*this.size+B]^=E},z.prototype.isReserved=function(Z,B){return this.reservedBit[Z*this.size+B]},Te.exports=z},277:(Te,z,Z)=>{const B=Z(239);function E(S){this.mode=B.BYTE,this.data="string"==typeof S?(new TextEncoder).encode(S):new Uint8Array(S)}E.getBitsLength=function(_){return 8*_},E.prototype.getLength=function(){return this.data.length},E.prototype.getBitsLength=function(){return E.getBitsLength(this.data.length)},E.prototype.write=function(S){for(let _=0,v=this.data.length;_<v;_++)S.put(this.data[_],8)},Te.exports=E},191:(Te,z,Z)=>{const B=Z(505),E=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],S=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];z.getBlocksCount=function(v,M){switch(M){case B.L:return E[4*(v-1)+0];case B.M:return E[4*(v-1)+1];case B.Q:return E[4*(v-1)+2];case B.H:return E[4*(v-1)+3];default:return}},z.getTotalCodewordsCount=function(v,M){switch(M){case B.L:return S[4*(v-1)+0];case B.M:return S[4*(v-1)+1];case B.Q:return S[4*(v-1)+2];case B.H:return S[4*(v-1)+3];default:return}}},505:(Te,z)=>{z.L={bit:1},z.M={bit:0},z.Q={bit:3},z.H={bit:2},z.isValid=function(E){return E&&typeof E.bit<"u"&&E.bit>=0&&E.bit<4},z.from=function(E,S){if(z.isValid(E))return E;try{return function Z(B){if("string"!=typeof B)throw new Error("Param is not a string");switch(B.toLowerCase()){case"l":case"low":return z.L;case"m":case"medium":return z.M;case"q":case"quartile":return z.Q;case"h":case"high":return z.H;default:throw new Error("Unknown EC Level: "+B)}}(E)}catch{return S}}},232:(Te,z,Z)=>{const B=Z(562).getSymbolSize;z.getPositions=function(_){const v=B(_);return[[0,0],[v-7,0],[0,v-7]]}},508:(Te,z,Z)=>{const B=Z(562),_=B.getBCHDigit(1335);z.getEncodedBits=function(M,x){const m=M.bit<<3|x;let I=m<<10;for(;B.getBCHDigit(I)-_>=0;)I^=1335<<B.getBCHDigit(I)-_;return 21522^(m<<10|I)}},674:(Te,z)=>{const Z=new Uint8Array(512),B=new Uint8Array(256);(function(){let S=1;for(let _=0;_<255;_++)Z[_]=S,B[S]=_,S<<=1,256&S&&(S^=285);for(let _=255;_<512;_++)Z[_]=Z[_-255]})(),z.log=function(S){if(S<1)throw new Error("log("+S+")");return B[S]},z.exp=function(S){return Z[S]},z.mul=function(S,_){return 0===S||0===_?0:Z[B[S]+B[_]]}},995:(Te,z,Z)=>{const B=Z(239),E=Z(562);function S(_){this.mode=B.KANJI,this.data=_}S.getBitsLength=function(v){return 13*v},S.prototype.getLength=function(){return this.data.length},S.prototype.getBitsLength=function(){return S.getBitsLength(this.data.length)},S.prototype.write=function(_){let v;for(v=0;v<this.data.length;v++){let M=E.toSJIS(this.data[v]);if(M>=33088&&M<=40956)M-=33088;else{if(!(M>=57408&&M<=60351))throw new Error("Invalid SJIS character: "+this.data[v]+"\nMake sure your charset is UTF-8");M-=49472}M=192*(M>>>8&255)+(255&M),_.put(M,13)}},Te.exports=S},23:(Te,z)=>{z.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function B(E,S,_){switch(E){case z.Patterns.PATTERN000:return(S+_)%2==0;case z.Patterns.PATTERN001:return S%2==0;case z.Patterns.PATTERN010:return _%3==0;case z.Patterns.PATTERN011:return(S+_)%3==0;case z.Patterns.PATTERN100:return(Math.floor(S/2)+Math.floor(_/3))%2==0;case z.Patterns.PATTERN101:return S*_%2+S*_%3==0;case z.Patterns.PATTERN110:return(S*_%2+S*_%3)%2==0;case z.Patterns.PATTERN111:return(S*_%3+(S+_)%2)%2==0;default:throw new Error("bad maskPattern:"+E)}}z.isValid=function(S){return null!=S&&""!==S&&!isNaN(S)&&S>=0&&S<=7},z.from=function(S){return z.isValid(S)?parseInt(S,10):void 0},z.getPenaltyN1=function(S){const _=S.size;let v=0,M=0,x=0,m=null,I=null;for(let N=0;N<_;N++){M=x=0,m=I=null;for(let C=0;C<_;C++){let P=S.get(N,C);P===m?M++:(M>=5&&(v+=M-5+3),m=P,M=1),P=S.get(C,N),P===I?x++:(x>=5&&(v+=x-5+3),I=P,x=1)}M>=5&&(v+=M-5+3),x>=5&&(v+=x-5+3)}return v},z.getPenaltyN2=function(S){const _=S.size;let v=0;for(let M=0;M<_-1;M++)for(let x=0;x<_-1;x++){const m=S.get(M,x)+S.get(M,x+1)+S.get(M+1,x)+S.get(M+1,x+1);(4===m||0===m)&&v++}return 3*v},z.getPenaltyN3=function(S){const _=S.size;let v=0,M=0,x=0;for(let m=0;m<_;m++){M=x=0;for(let I=0;I<_;I++)M=M<<1&2047|S.get(m,I),I>=10&&(1488===M||93===M)&&v++,x=x<<1&2047|S.get(I,m),I>=10&&(1488===x||93===x)&&v++}return 40*v},z.getPenaltyN4=function(S){let _=0;const v=S.data.length;for(let x=0;x<v;x++)_+=S.data[x];return 10*Math.abs(Math.ceil(100*_/v/5)-10)},z.applyMask=function(S,_){const v=_.size;for(let M=0;M<v;M++)for(let x=0;x<v;x++)_.isReserved(x,M)||_.xor(x,M,B(S,x,M))},z.getBestMask=function(S,_){const v=Object.keys(z.Patterns).length;let M=0,x=1/0;for(let m=0;m<v;m++){_(m),z.applyMask(m,S);const I=z.getPenaltyN1(S)+z.getPenaltyN2(S)+z.getPenaltyN3(S)+z.getPenaltyN4(S);z.applyMask(m,S),I<x&&(x=I,M=m)}return M}},239:(Te,z,Z)=>{const B=Z(161),E=Z(427);z.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},z.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},z.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},z.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},z.MIXED={bit:-1},z.getCharCountIndicator=function(v,M){if(!v.ccBits)throw new Error("Invalid mode: "+v);if(!B.isValid(M))throw new Error("Invalid version: "+M);return M>=1&&M<10?v.ccBits[0]:M<27?v.ccBits[1]:v.ccBits[2]},z.getBestModeForData=function(v){return E.testNumeric(v)?z.NUMERIC:E.testAlphanumeric(v)?z.ALPHANUMERIC:E.testKanji(v)?z.KANJI:z.BYTE},z.toString=function(v){if(v&&v.id)return v.id;throw new Error("Invalid mode")},z.isValid=function(v){return v&&v.bit&&v.ccBits},z.from=function(v,M){if(z.isValid(v))return v;try{return function S(_){if("string"!=typeof _)throw new Error("Param is not a string");switch(_.toLowerCase()){case"numeric":return z.NUMERIC;case"alphanumeric":return z.ALPHANUMERIC;case"kanji":return z.KANJI;case"byte":return z.BYTE;default:throw new Error("Unknown mode: "+_)}}(v)}catch{return M}}},722:(Te,z,Z)=>{const B=Z(239);function E(S){this.mode=B.NUMERIC,this.data=S.toString()}E.getBitsLength=function(_){return 10*Math.floor(_/3)+(_%3?_%3*3+1:0)},E.prototype.getLength=function(){return this.data.length},E.prototype.getBitsLength=function(){return E.getBitsLength(this.data.length)},E.prototype.write=function(_){let v,M,x;for(v=0;v+3<=this.data.length;v+=3)M=this.data.substr(v,3),x=parseInt(M,10),_.put(x,10);const m=this.data.length-v;m>0&&(M=this.data.substr(v),x=parseInt(M,10),_.put(x,3*m+1))},Te.exports=E},376:(Te,z,Z)=>{const B=Z(674);z.mul=function(S,_){const v=new Uint8Array(S.length+_.length-1);for(let M=0;M<S.length;M++)for(let x=0;x<_.length;x++)v[M+x]^=B.mul(S[M],_[x]);return v},z.mod=function(S,_){let v=new Uint8Array(S);for(;v.length-_.length>=0;){const M=v[0];for(let m=0;m<_.length;m++)v[m]^=B.mul(_[m],M);let x=0;for(;x<v.length&&0===v[x];)x++;v=v.slice(x)}return v},z.generateECPolynomial=function(S){let _=new Uint8Array([1]);for(let v=0;v<S;v++)_=z.mul(_,new Uint8Array([1,B.exp(v)]));return _}},208:(Te,z,Z)=>{const B=Z(562),E=Z(505),S=Z(509),_=Z(147),v=Z(281),M=Z(232),x=Z(23),m=Z(191),I=Z(297),N=Z(467),C=Z(508),P=Z(239),V=Z(799);function A(k,F,$){const Q=k.size,ie=C.getEncodedBits(F,$);let oe,re;for(oe=0;oe<15;oe++)re=1==(ie>>oe&1),k.set(oe<6?oe:oe<8?oe+1:Q-15+oe,8,re,!0),k.set(8,oe<8?Q-oe-1:oe<9?15-oe-1+1:15-oe-1,re,!0);k.set(Q-8,8,1,!0)}function ee(k,F,$,Q){let ie;if(Array.isArray(k))ie=V.fromArray(k);else{if("string"!=typeof k)throw new Error("Invalid data");{let he=F;if(!he){const et=V.rawSplit(k);he=N.getBestVersionForData(et,$)}ie=V.fromString(k,he||40)}}const oe=N.getBestVersionForData(ie,$);if(!oe)throw new Error("The amount of data is too big to be stored in a QR Code");if(F){if(F<oe)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+oe+".\n")}else F=oe;const re=function R(k,F,$){const Q=new S;$.forEach(function(ge){Q.put(ge.mode.bit,4),Q.put(ge.getLength(),P.getCharCountIndicator(ge.mode,k)),ge.write(Q)});const re=8*(B.getSymbolTotalCodewords(k)-m.getTotalCodewordsCount(k,F));for(Q.getLengthInBits()+4<=re&&Q.put(0,4);Q.getLengthInBits()%8!=0;)Q.putBit(0);const de=(re-Q.getLengthInBits())/8;for(let ge=0;ge<de;ge++)Q.put(ge%2?17:236,8);return function H(k,F,$){const Q=B.getSymbolTotalCodewords(F),oe=Q-m.getTotalCodewordsCount(F,$),re=m.getBlocksCount(F,$),ge=re-Q%re,he=Math.floor(Q/re),et=Math.floor(oe/re),vn=et+1,on=he-et,qe=new I(on);let He=0;const Nt=new Array(re),xt=new Array(re);let sn=0;const Ft=new Uint8Array(k.buffer);for(let dt=0;dt<re;dt++){const St=dt<ge?et:vn;Nt[dt]=Ft.slice(He,He+St),xt[dt]=qe.encode(Nt[dt]),He+=St,sn=Math.max(sn,St)}const Rt=new Uint8Array(Q);let bt,Et,an=0;for(bt=0;bt<sn;bt++)for(Et=0;Et<re;Et++)bt<Nt[Et].length&&(Rt[an++]=Nt[Et][bt]);for(bt=0;bt<on;bt++)for(Et=0;Et<re;Et++)Rt[an++]=xt[Et][bt];return Rt}(Q,k,F)}(F,$,ie),de=B.getSymbolSize(F),ge=new _(de);return function U(k,F){const $=k.size,Q=M.getPositions(F);for(let ie=0;ie<Q.length;ie++){const oe=Q[ie][0],re=Q[ie][1];for(let de=-1;de<=7;de++)if(!(oe+de<=-1||$<=oe+de))for(let ge=-1;ge<=7;ge++)re+ge<=-1||$<=re+ge||k.set(oe+de,re+ge,de>=0&&de<=6&&(0===ge||6===ge)||ge>=0&&ge<=6&&(0===de||6===de)||de>=2&&de<=4&&ge>=2&&ge<=4,!0)}}(ge,F),function q(k){const F=k.size;for(let $=8;$<F-8;$++){const Q=$%2==0;k.set($,6,Q,!0),k.set(6,$,Q,!0)}}(ge),function D(k,F){const $=v.getPositions(F);for(let Q=0;Q<$.length;Q++){const ie=$[Q][0],oe=$[Q][1];for(let re=-2;re<=2;re++)for(let de=-2;de<=2;de++)k.set(ie+re,oe+de,-2===re||2===re||-2===de||2===de||0===re&&0===de,!0)}}(ge,F),A(ge,$,0),F>=7&&function b(k,F){const $=k.size,Q=N.getEncodedBits(F);let ie,oe,re;for(let de=0;de<18;de++)ie=Math.floor(de/3),oe=de%3+$-8-3,re=1==(Q>>de&1),k.set(ie,oe,re,!0),k.set(oe,ie,re,!0)}(ge,F),function L(k,F){const $=k.size;let Q=-1,ie=$-1,oe=7,re=0;for(let de=$-1;de>0;de-=2)for(6===de&&de--;;){for(let ge=0;ge<2;ge++)if(!k.isReserved(ie,de-ge)){let he=!1;re<F.length&&(he=1==(F[re]>>>oe&1)),k.set(ie,de-ge,he),oe--,-1===oe&&(re++,oe=7)}if(ie+=Q,ie<0||$<=ie){ie-=Q,Q=-Q;break}}}(ge,re),isNaN(Q)&&(Q=x.getBestMask(ge,A.bind(null,ge,$))),x.applyMask(Q,ge),A(ge,$,Q),{modules:ge,version:F,errorCorrectionLevel:$,maskPattern:Q,segments:ie}}z.create=function(F,$){if(typeof F>"u"||""===F)throw new Error("No input text");let ie,oe,Q=E.M;return typeof $<"u"&&(Q=E.from($.errorCorrectionLevel,E.M),ie=N.from($.version),oe=x.from($.maskPattern),$.toSJISFunc&&B.setToSJISFunction($.toSJISFunc)),ee(F,ie,Q,oe)}},297:(Te,z,Z)=>{const B=Z(376);function E(S){this.genPoly=void 0,this.degree=S,this.degree&&this.initialize(this.degree)}E.prototype.initialize=function(_){this.degree=_,this.genPoly=B.generateECPolynomial(this.degree)},E.prototype.encode=function(_){if(!this.genPoly)throw new Error("Encoder not initialized");const v=new Uint8Array(_.length+this.degree);v.set(_);const M=B.mod(v,this.genPoly),x=this.degree-M.length;if(x>0){const m=new Uint8Array(this.degree);return m.set(M,x),m}return M},Te.exports=E},427:(Te,z)=>{const Z="[0-9]+";let E="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";E=E.replace(/u/g,"\\u");const S="(?:(?![A-Z0-9 $%*+\\-./:]|"+E+")(?:.|[\r\n]))+";z.KANJI=new RegExp(E,"g"),z.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),z.BYTE=new RegExp(S,"g"),z.NUMERIC=new RegExp(Z,"g"),z.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const _=new RegExp("^"+E+"$"),v=new RegExp("^"+Z+"$"),M=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");z.testKanji=function(m){return _.test(m)},z.testNumeric=function(m){return v.test(m)},z.testAlphanumeric=function(m){return M.test(m)}},799:(Te,z,Z)=>{const B=Z(239),E=Z(722),S=Z(120),_=Z(277),v=Z(995),M=Z(427),x=Z(562),m=Z(206);function I(b){return unescape(encodeURIComponent(b)).length}function N(b,A,L){const R=[];let H;for(;null!==(H=b.exec(L));)R.push({data:H[0],index:H.index,mode:A,length:H[0].length});return R}function C(b){const A=N(M.NUMERIC,B.NUMERIC,b),L=N(M.ALPHANUMERIC,B.ALPHANUMERIC,b);let R,H;return x.isKanjiModeEnabled()?(R=N(M.BYTE,B.BYTE,b),H=N(M.KANJI,B.KANJI,b)):(R=N(M.BYTE_KANJI,B.BYTE,b),H=[]),A.concat(L,R,H).sort(function(k,F){return k.index-F.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function P(b,A){switch(A){case B.NUMERIC:return E.getBitsLength(b);case B.ALPHANUMERIC:return S.getBitsLength(b);case B.KANJI:return v.getBitsLength(b);case B.BYTE:return _.getBitsLength(b)}}function D(b,A){let L;const R=B.getBestModeForData(b);if(L=B.from(A,R),L!==B.BYTE&&L.bit<R.bit)throw new Error('"'+b+'" cannot be encoded with mode '+B.toString(L)+".\n Suggested mode is: "+B.toString(R));switch(L===B.KANJI&&!x.isKanjiModeEnabled()&&(L=B.BYTE),L){case B.NUMERIC:return new E(b);case B.ALPHANUMERIC:return new S(b);case B.KANJI:return new v(b);case B.BYTE:return new _(b)}}z.fromArray=function(A){return A.reduce(function(L,R){return"string"==typeof R?L.push(D(R,null)):R.data&&L.push(D(R.data,R.mode)),L},[])},z.fromString=function(A,L){const H=function U(b){const A=[];for(let L=0;L<b.length;L++){const R=b[L];switch(R.mode){case B.NUMERIC:A.push([R,{data:R.data,mode:B.ALPHANUMERIC,length:R.length},{data:R.data,mode:B.BYTE,length:R.length}]);break;case B.ALPHANUMERIC:A.push([R,{data:R.data,mode:B.BYTE,length:R.length}]);break;case B.KANJI:A.push([R,{data:R.data,mode:B.BYTE,length:I(R.data)}]);break;case B.BYTE:A.push([{data:R.data,mode:B.BYTE,length:I(R.data)}])}}return A}(C(A,x.isKanjiModeEnabled())),ee=function q(b,A){const L={},R={start:{}};let H=["start"];for(let ee=0;ee<b.length;ee++){const k=b[ee],F=[];for(let $=0;$<k.length;$++){const Q=k[$],ie=""+ee+$;F.push(ie),L[ie]={node:Q,lastCount:0},R[ie]={};for(let oe=0;oe<H.length;oe++){const re=H[oe];L[re]&&L[re].node.mode===Q.mode?(R[re][ie]=P(L[re].lastCount+Q.length,Q.mode)-P(L[re].lastCount,Q.mode),L[re].lastCount+=Q.length):(L[re]&&(L[re].lastCount=Q.length),R[re][ie]=P(Q.length,Q.mode)+4+B.getCharCountIndicator(Q.mode,A))}}H=F}for(let ee=0;ee<H.length;ee++)R[H[ee]].end=0;return{map:R,table:L}}(H,L),k=m.find_path(ee.map,"start","end"),F=[];for(let $=1;$<k.length-1;$++)F.push(ee.table[k[$]].node);return z.fromArray(function V(b){return b.reduce(function(A,L){const R=A.length-1>=0?A[A.length-1]:null;return R&&R.mode===L.mode?(A[A.length-1].data+=L.data,A):(A.push(L),A)},[])}(F))},z.rawSplit=function(A){return z.fromArray(C(A,x.isKanjiModeEnabled()))}},562:(Te,z)=>{let Z;const B=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];z.getSymbolSize=function(S){if(!S)throw new Error('"version" cannot be null or undefined');if(S<1||S>40)throw new Error('"version" should be in range from 1 to 40');return 4*S+17},z.getSymbolTotalCodewords=function(S){return B[S]},z.getBCHDigit=function(E){let S=0;for(;0!==E;)S++,E>>>=1;return S},z.setToSJISFunction=function(S){if("function"!=typeof S)throw new Error('"toSJISFunc" is not a valid function.');Z=S},z.isKanjiModeEnabled=function(){return typeof Z<"u"},z.toSJIS=function(S){return Z(S)}},161:(Te,z)=>{z.isValid=function(B){return!isNaN(B)&&B>=1&&B<=40}},467:(Te,z,Z)=>{const B=Z(562),E=Z(191),S=Z(505),_=Z(239),v=Z(161),x=B.getBCHDigit(7973);function I(P,V){return _.getCharCountIndicator(P,V)+4}function N(P,V){let U=0;return P.forEach(function(q){const D=I(q.mode,V);U+=D+q.getBitsLength()}),U}z.from=function(V,U){return v.isValid(V)?parseInt(V,10):U},z.getCapacity=function(V,U,q){if(!v.isValid(V))throw new Error("Invalid QR Code version");typeof q>"u"&&(q=_.BYTE);const A=8*(B.getSymbolTotalCodewords(V)-E.getTotalCodewordsCount(V,U));if(q===_.MIXED)return A;const L=A-I(q,V);switch(q){case _.NUMERIC:return Math.floor(L/10*3);case _.ALPHANUMERIC:return Math.floor(L/11*2);case _.KANJI:return Math.floor(L/13);default:return Math.floor(L/8)}},z.getBestVersionForData=function(V,U){let q;const D=S.from(U,S.M);if(Array.isArray(V)){if(V.length>1)return function C(P,V){for(let U=1;U<=40;U++)if(N(P,U)<=z.getCapacity(U,V,_.MIXED))return U}(V,D);if(0===V.length)return 1;q=V[0]}else q=V;return function m(P,V,U){for(let q=1;q<=40;q++)if(V<=z.getCapacity(q,U,P))return q}(q.mode,q.getLength(),D)},z.getEncodedBits=function(V){if(!v.isValid(V)||V<7)throw new Error("Invalid QR Code version");let U=V<<12;for(;B.getBCHDigit(U)-x>=0;)U^=7973<<B.getBCHDigit(U)-x;return V<<12|U}},422:(Te,z,Z)=>{const B=Z(101);z.render=function(v,M,x){let m=x,I=M;typeof m>"u"&&(!M||!M.getContext)&&(m=M,M=void 0),M||(I=function S(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),m=B.getOptions(m);const N=B.getImageWidth(v.modules.size,m),C=I.getContext("2d"),P=C.createImageData(N,N);return B.qrToImageData(P.data,v,m),function E(_,v,M){_.clearRect(0,0,v.width,v.height),v.style||(v.style={}),v.height=M,v.width=M,v.style.height=M+"px",v.style.width=M+"px"}(C,I,N),C.putImageData(P,0,0),I},z.renderToDataURL=function(v,M,x){let m=x;return typeof m>"u"&&(!M||!M.getContext)&&(m=M,M=void 0),m||(m={}),z.render(v,M,m).toDataURL(m.type||"image/png",(m.rendererOpts||{}).quality)}},772:(Te,z,Z)=>{const B=Z(101);function E(v,M){const x=v.a/255,m=M+'="'+v.hex+'"';return x<1?m+" "+M+'-opacity="'+x.toFixed(2).slice(1)+'"':m}function S(v,M,x){let m=v+M;return typeof x<"u"&&(m+=" "+x),m}z.render=function(M,x,m){const I=B.getOptions(x),N=M.modules.size,C=M.modules.data,P=N+2*I.margin,V=I.color.light.a?"<path "+E(I.color.light,"fill")+' d="M0 0h'+P+"v"+P+'H0z"/>':"",U="<path "+E(I.color.dark,"stroke")+' d="'+function _(v,M,x){let m="",I=0,N=!1,C=0;for(let P=0;P<v.length;P++){const V=Math.floor(P%M),U=Math.floor(P/M);!V&&!N&&(N=!0),v[P]?(C++,P>0&&V>0&&v[P-1]||(m+=N?S("M",V+x,.5+U+x):S("m",I,0),I=0,N=!1),V+1<M&&v[P+1]||(m+=S("h",C),C=0)):I++}return m}(C,N,I.margin)+'"/>',b='<svg xmlns="http://www.w3.org/2000/svg" '+(I.width?'width="'+I.width+'" height="'+I.width+'" ':"")+'viewBox="0 0 '+P+" "+P+'" shape-rendering="crispEdges">'+V+U+"</svg>\n";return"function"==typeof m&&m(null,b),b}},101:(Te,z)=>{function Z(B){if("number"==typeof B&&(B=B.toString()),"string"!=typeof B)throw new Error("Color should be defined as hex string");let E=B.slice().replace("#","").split("");if(E.length<3||5===E.length||E.length>8)throw new Error("Invalid hex color: "+B);(3===E.length||4===E.length)&&(E=Array.prototype.concat.apply([],E.map(function(_){return[_,_]}))),6===E.length&&E.push("F","F");const S=parseInt(E.join(""),16);return{r:S>>24&255,g:S>>16&255,b:S>>8&255,a:255&S,hex:"#"+E.slice(0,6).join("")}}z.getOptions=function(E){E||(E={}),E.color||(E.color={});const _=E.width&&E.width>=21?E.width:void 0;return{width:_,scale:_?4:E.scale||4,margin:typeof E.margin>"u"||null===E.margin||E.margin<0?4:E.margin,color:{dark:Z(E.color.dark||"#000000ff"),light:Z(E.color.light||"#ffffffff")},type:E.type,rendererOpts:E.rendererOpts||{}}},z.getScale=function(E,S){return S.width&&S.width>=E+2*S.margin?S.width/(E+2*S.margin):S.scale},z.getImageWidth=function(E,S){const _=z.getScale(E,S);return Math.floor((E+2*S.margin)*_)},z.qrToImageData=function(E,S,_){const v=S.modules.size,M=S.modules.data,x=z.getScale(v,_),m=Math.floor((v+2*_.margin)*x),I=_.margin*x,N=[_.color.light,_.color.dark];for(let C=0;C<m;C++)for(let P=0;P<m;P++){let V=4*(C*m+P),U=_.color.light;C>=I&&P>=I&&C<m-I&&P<m-I&&(U=N[M[Math.floor((C-I)/x)*v+Math.floor((P-I)/x)]?1:0]),E[V++]=U.r,E[V++]=U.g,E[V++]=U.b,E[V]=U.a}}},81:Te=>{var z,Z,B;Te.exports=(z=Math.floor,Z=Math.abs,B=Math.pow,function E(S,_,v){function M(I,N){if(!_[I]){if(!S[I]){if(x)return x(I,!0);var P=new Error("Cannot find module '"+I+"'");throw P.code="MODULE_NOT_FOUND",P}var V=_[I]={exports:{}};S[I][0].call(V.exports,function(U){return M(S[I][1][U]||U)},V,V.exports,E,S,_,v)}return _[I].exports}for(var x=void 0,m=0;m<v.length;m++)M(v[m]);return M}({1:[function(E,S,_){"use strict";function v(b){var A=b.length;if(0<A%4)throw new Error("Invalid string. Length must be a multiple of 4");var L=b.indexOf("=");return-1===L&&(L=A),[L,L===A?0:4-L%4]}function m(b){return C[63&b>>18]+C[63&b>>12]+C[63&b>>6]+C[63&b]}function I(b,A,L){for(var H=[],ee=A;ee<L;ee+=3)H.push(m((16711680&b[ee]<<16)+(65280&b[ee+1]<<8)+(255&b[ee+2])));return H.join("")}_.byteLength=function(b){var A=v(b),R=A[1];return 3*(A[0]+R)/4-R},_.toByteArray=function x(b){var A,L,R=v(b),H=R[0],ee=R[1],k=new V(function M(b,A,L){return 3*(A+L)/4-L}(0,H,ee)),F=0,$=0<ee?H-4:H;for(L=0;L<$;L+=4)A=P[b.charCodeAt(L)]<<18|P[b.charCodeAt(L+1)]<<12|P[b.charCodeAt(L+2)]<<6|P[b.charCodeAt(L+3)],k[F++]=255&A>>16,k[F++]=255&A>>8,k[F++]=255&A;return 2===ee&&(A=P[b.charCodeAt(L)]<<2|P[b.charCodeAt(L+1)]>>4,k[F++]=255&A),1===ee&&(A=P[b.charCodeAt(L)]<<10|P[b.charCodeAt(L+1)]<<4|P[b.charCodeAt(L+2)]>>2,k[F++]=255&A>>8,k[F++]=255&A),k},_.fromByteArray=function N(b){for(var A,L=b.length,R=L%3,H=[],k=0,F=L-R;k<F;k+=16383)H.push(I(b,k,k+16383>F?F:k+16383));return 1===R?H.push(C[(A=b[L-1])>>2]+C[63&A<<4]+"=="):2===R&&H.push(C[(A=(b[L-2]<<8)+b[L-1])>>10]+C[63&A>>4]+C[63&A<<2]+"="),H.join("")};for(var C=[],P=[],V=typeof Uint8Array>"u"?Array:Uint8Array,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q=0;q<64;++q)C[q]=U[q],P[U.charCodeAt(q)]=q;P[45]=62,P[95]=63},{}],2:[function(){},{}],3:[function(E,S,_){(function(){(function(){"use strict";var v=String.fromCharCode,M=Math.min;function x(u){if(2147483647<u)throw new RangeError('The value "'+u+'" is invalid for option "size"');var h=new Uint8Array(u);return h.__proto__=m.prototype,h}function m(u,h,g){if("number"==typeof u){if("string"==typeof h)throw new TypeError('The "string" argument must be of type string. Received type number');return P(u)}return I(u,h,g)}function I(u,h,g){if("string"==typeof u)return function V(u,h){if(("string"!=typeof h||""===h)&&(h="utf8"),!m.isEncoding(h))throw new TypeError("Unknown encoding: "+h);var g=0|A(u,h),O=x(g),W=O.write(u,h);return W!==g&&(O=O.slice(0,W)),O}(u,h);if(ArrayBuffer.isView(u))return U(u);if(null==u)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(G(u,ArrayBuffer)||u&&G(u.buffer,ArrayBuffer))return function q(u,h,g){if(0>h||u.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<h+(g||0))throw new RangeError('"length" is outside of buffer bounds');var O;return(O=void 0===h&&void 0===g?new Uint8Array(u):void 0===g?new Uint8Array(u,h):new Uint8Array(u,h,g)).__proto__=m.prototype,O}(u,h,g);if("number"==typeof u)throw new TypeError('The "value" argument must not be of type number. Received type number');var O=u.valueOf&&u.valueOf();if(null!=O&&O!==u)return m.from(O,h,g);var W=function D(u){if(m.isBuffer(u)){var h=0|b(u.length),g=x(h);return 0===g.length||u.copy(g,0,0,h),g}return void 0===u.length?"Buffer"===u.type&&Array.isArray(u.data)?U(u.data):void 0:"number"!=typeof u.length||K(u.length)?x(0):U(u)}(u);if(W)return W;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof u[Symbol.toPrimitive])return m.from(u[Symbol.toPrimitive]("string"),h,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}function N(u){if("number"!=typeof u)throw new TypeError('"size" argument must be of type number');if(0>u)throw new RangeError('The value "'+u+'" is invalid for option "size"')}function P(u){return N(u),x(0>u?0:0|b(u))}function U(u){for(var h=0>u.length?0:0|b(u.length),g=x(h),O=0;O<h;O+=1)g[O]=255&u[O];return g}function b(u){if(u>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|u}function A(u,h){if(m.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||G(u,ArrayBuffer))return u.byteLength;if("string"!=typeof u)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);var g=u.length,O=2<arguments.length&&!0===arguments[2];if(!O&&0===g)return 0;for(var W=!1;;)switch(h){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return an(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return dt(u).length;default:if(W)return O?-1:an(u).length;h=(""+h).toLowerCase(),W=!0}}function L(u,h,g){var O=!1;if((void 0===h||0>h)&&(h=0),h>this.length||((void 0===g||g>this.length)&&(g=this.length),0>=g)||(g>>>=0)<=(h>>>=0))return"";for(u||(u="utf8");;)switch(u){case"hex":return vn(this,h,g);case"utf8":case"utf-8":return de(this,h,g);case"ascii":return he(this,h,g);case"latin1":case"binary":return et(this,h,g);case"base64":return re(this,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return on(this,h,g);default:if(O)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),O=!0}}function R(u,h,g){var O=u[h];u[h]=u[g],u[g]=O}function H(u,h,g,O,W){if(0===u.length)return-1;if("string"==typeof g?(O=g,g=0):2147483647<g?g=2147483647:-2147483648>g&&(g=-2147483648),K(g=+g)&&(g=W?0:u.length-1),0>g&&(g=u.length+g),g>=u.length){if(W)return-1;g=u.length-1}else if(0>g){if(!W)return-1;g=0}if("string"==typeof h&&(h=m.from(h,O)),m.isBuffer(h))return 0===h.length?-1:ee(u,h,g,O,W);if("number"==typeof h)return h&=255,"function"==typeof Uint8Array.prototype.indexOf?W?Uint8Array.prototype.indexOf.call(u,h,g):Uint8Array.prototype.lastIndexOf.call(u,h,g):ee(u,[h],g,O,W);throw new TypeError("val must be string, number or Buffer")}function ee(u,h,g,O,W){function Y(Qr,Kr){return 1===le?Qr[Kr]:Qr.readUInt16BE(Kr*le)}var je,le=1,Ne=u.length,at=h.length;if(void 0!==O&&("ucs2"===(O=(O+"").toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(2>u.length||2>h.length)return-1;le=2,Ne/=2,at/=2,g/=2}if(W){var Fe=-1;for(je=g;je<Ne;je++)if(Y(u,je)!==Y(h,-1===Fe?0:je-Fe))-1!==Fe&&(je-=je-Fe),Fe=-1;else if(-1===Fe&&(Fe=je),je-Fe+1===at)return Fe*le}else for(g+at>Ne&&(g=Ne-at),je=g;0<=je;je--){for(var Pe=!0,Wt=0;Wt<at;Wt++)if(Y(u,je+Wt)!==Y(h,Wt)){Pe=!1;break}if(Pe)return je}return-1}function k(u,h,g,O){var W=u.length-(g=+g||0);O?(O=+O)>W&&(O=W):O=W;var Y=h.length;O>Y/2&&(O=Y/2);for(var le,Ne=0;Ne<O;++Ne){if(K(le=parseInt(h.substr(2*Ne,2),16)))return Ne;u[g+Ne]=le}return Ne}function F(u,h,g,O){return St(an(h,u.length-g),u,g,O)}function $(u,h,g,O){return St(function bt(u){for(var h=[],g=0;g<u.length;++g)h.push(255&u.charCodeAt(g));return h}(h),u,g,O)}function Q(u,h,g,O){return $(u,h,g,O)}function ie(u,h,g,O){return St(dt(h),u,g,O)}function oe(u,h,g,O){return St(function Et(u,h){for(var g,O,Y=[],le=0;le<u.length&&!(0>(h-=2));++le)O=(g=u.charCodeAt(le))>>8,Y.push(g%256),Y.push(O);return Y}(h,u.length-g),u,g,O)}function re(u,h,g){return ae.fromByteArray(0===h&&g===u.length?u:u.slice(h,g))}function de(u,h,g){g=M(u.length,g);for(var O=[],W=h;W<g;){var at,je,Fe,Pe,Y=u[W],le=null,Ne=239<Y?4:223<Y?3:191<Y?2:1;W+Ne<=g&&(1===Ne?128>Y&&(le=Y):2===Ne?128==(192&(at=u[W+1]))&&127<(Pe=(31&Y)<<6|63&at)&&(le=Pe):3===Ne?(je=u[W+2],128==(192&(at=u[W+1]))&&128==(192&je)&&2047<(Pe=(15&Y)<<12|(63&at)<<6|63&je)&&(55296>Pe||57343<Pe)&&(le=Pe)):4===Ne&&(je=u[W+2],Fe=u[W+3],128==(192&(at=u[W+1]))&&128==(192&je)&&128==(192&Fe)&&65535<(Pe=(15&Y)<<18|(63&at)<<12|(63&je)<<6|63&Fe)&&1114112>Pe&&(le=Pe))),null===le?(le=65533,Ne=1):65535<le&&(O.push(55296|1023&(le-=65536)>>>10),le=56320|1023&le),O.push(le),W+=Ne}return function ge(u){var h=u.length;if(h<=4096)return v.apply(String,u);for(var g="",O=0;O<h;)g+=v.apply(String,u.slice(O,O+=4096));return g}(O)}function he(u,h,g){var O="";g=M(u.length,g);for(var W=h;W<g;++W)O+=v(127&u[W]);return O}function et(u,h,g){var O="";g=M(u.length,g);for(var W=h;W<g;++W)O+=v(u[W]);return O}function vn(u,h,g){var O=u.length;(!h||0>h)&&(h=0),(!g||0>g||g>O)&&(g=O);for(var W="",Y=h;Y<g;++Y)W+=Rt(u[Y]);return W}function on(u,h,g){for(var O=u.slice(h,g),W="",Y=0;Y<O.length;Y+=2)W+=v(O[Y]+256*O[Y+1]);return W}function qe(u,h,g){if(u%1!=0||0>u)throw new RangeError("offset is not uint");if(u+h>g)throw new RangeError("Trying to access beyond buffer length")}function He(u,h,g,O,W,Y){if(!m.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>W||h<Y)throw new RangeError('"value" argument is out of bounds');if(g+O>u.length)throw new RangeError("Index out of range")}function Nt(u,h,g,O){if(g+O>u.length)throw new RangeError("Index out of range");if(0>g)throw new RangeError("Index out of range")}function xt(u,h,g,O,W){return h=+h,g>>>=0,W||Nt(u,0,g,4),fe.write(u,h,g,O,23,4),g+4}function sn(u,h,g,O,W){return h=+h,g>>>=0,W||Nt(u,0,g,8),fe.write(u,h,g,O,52,8),g+8}function Rt(u){return 16>u?"0"+u.toString(16):u.toString(16)}function an(u,h){h=h||1/0;for(var g,O=u.length,W=null,Y=[],le=0;le<O;++le){if(55295<(g=u.charCodeAt(le))&&57344>g){if(!W){if(56319<g){-1<(h-=3)&&Y.push(239,191,189);continue}if(le+1===O){-1<(h-=3)&&Y.push(239,191,189);continue}W=g;continue}if(56320>g){-1<(h-=3)&&Y.push(239,191,189),W=g;continue}g=65536+(W-55296<<10|g-56320)}else W&&-1<(h-=3)&&Y.push(239,191,189);if(W=null,128>g){if(0>(h-=1))break;Y.push(g)}else if(2048>g){if(0>(h-=2))break;Y.push(192|g>>6,128|63&g)}else if(65536>g){if(0>(h-=3))break;Y.push(224|g>>12,128|63&g>>6,128|63&g)}else{if(!(1114112>g))throw new Error("Invalid code point");if(0>(h-=4))break;Y.push(240|g>>18,128|63&g>>12,128|63&g>>6,128|63&g)}}return Y}function dt(u){return ae.toByteArray(function Ft(u){if(2>(u=(u=u.split("=")[0]).trim().replace(Re,"")).length)return"";for(;u.length%4!=0;)u+="=";return u}(u))}function St(u,h,g,O){for(var W=0;W<O&&!(W+g>=h.length||W>=u.length);++W)h[W+g]=u[W];return W}function G(u,h){return u instanceof h||null!=u&&null!=u.constructor&&null!=u.constructor.name&&u.constructor.name===h.name}function K(u){return u!=u}var ae=E("base64-js"),fe=E("ieee754");_.Buffer=m,_.SlowBuffer=function(u){return+u!=u&&(u=0),m.alloc(+u)},_.INSPECT_MAX_BYTES=50,_.kMaxLength=2147483647,(m.TYPED_ARRAY_SUPPORT=function(){try{var u=new Uint8Array(1);return u.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===u.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){return m.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){return m.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&null!=Symbol.species&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),m.poolSize=8192,m.from=function(u,h,g){return I(u,h,g)},m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,m.alloc=function(u,h,g){return function C(u,h,g){return N(u),0>=u||void 0===h?x(u):"string"==typeof g?x(u).fill(h,g):x(u).fill(h)}(u,h,g)},m.allocUnsafe=function(u){return P(u)},m.allocUnsafeSlow=function(u){return P(u)},m.isBuffer=function(u){return null!=u&&!0===u._isBuffer&&u!==m.prototype},m.compare=function(u,h){if(G(u,Uint8Array)&&(u=m.from(u,u.offset,u.byteLength)),G(h,Uint8Array)&&(h=m.from(h,h.offset,h.byteLength)),!m.isBuffer(u)||!m.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===h)return 0;for(var g=u.length,O=h.length,W=0,Y=M(g,O);W<Y;++W)if(u[W]!==h[W]){g=u[W],O=h[W];break}return g<O?-1:O<g?1:0},m.isEncoding=function(u){switch((u+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(u,h){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(0===u.length)return m.alloc(0);var g;if(void 0===h)for(h=0,g=0;g<u.length;++g)h+=u[g].length;var O=m.allocUnsafe(h),W=0;for(g=0;g<u.length;++g){var Y=u[g];if(G(Y,Uint8Array)&&(Y=m.from(Y)),!m.isBuffer(Y))throw new TypeError('"list" argument must be an Array of Buffers');Y.copy(O,W),W+=Y.length}return O},m.byteLength=A,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var u=this.length;if(u%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<u;h+=2)R(this,h,h+1);return this},m.prototype.swap32=function(){var u=this.length;if(u%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<u;h+=4)R(this,h,h+3),R(this,h+1,h+2);return this},m.prototype.swap64=function(){var u=this.length;if(u%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<u;h+=8)R(this,h,h+7),R(this,h+1,h+6),R(this,h+2,h+5),R(this,h+3,h+4);return this},m.prototype.toString=function(){var u=this.length;return 0===u?"":0===arguments.length?de(this,0,u):L.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(u){if(!m.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u||0===m.compare(this,u)},m.prototype.inspect=function(){var u="",h=_.INSPECT_MAX_BYTES;return u=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(u+=" ... "),"<Buffer "+u+">"},m.prototype.compare=function(u,h,g,O,W){if(G(u,Uint8Array)&&(u=m.from(u,u.offset,u.byteLength)),!m.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(void 0===h&&(h=0),void 0===g&&(g=u?u.length:0),void 0===O&&(O=0),void 0===W&&(W=this.length),0>h||g>u.length||0>O||W>this.length)throw new RangeError("out of range index");if(O>=W&&h>=g)return 0;if(O>=W)return-1;if(h>=g)return 1;if(this===u)return 0;for(var Y=(W>>>=0)-(O>>>=0),le=(g>>>=0)-(h>>>=0),Ne=M(Y,le),at=this.slice(O,W),je=u.slice(h,g),Fe=0;Fe<Ne;++Fe)if(at[Fe]!==je[Fe]){Y=at[Fe],le=je[Fe];break}return Y<le?-1:le<Y?1:0},m.prototype.includes=function(u,h,g){return-1!==this.indexOf(u,h,g)},m.prototype.indexOf=function(u,h,g){return H(this,u,h,g,!0)},m.prototype.lastIndexOf=function(u,h,g){return H(this,u,h,g,!1)},m.prototype.write=function(u,h,g,O){if(void 0===h)O="utf8",g=this.length,h=0;else if(void 0===g&&"string"==typeof h)O=h,g=this.length,h=0;else{if(!isFinite(h))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");h>>>=0,isFinite(g)?(g>>>=0,void 0===O&&(O="utf8")):(O=g,g=void 0)}var W=this.length-h;if((void 0===g||g>W)&&(g=W),0<u.length&&(0>g||0>h)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(var Y=!1;;)switch(O){case"hex":return k(this,u,h,g);case"utf8":case"utf-8":return F(this,u,h,g);case"ascii":return $(this,u,h,g);case"latin1":case"binary":return Q(this,u,h,g);case"base64":return ie(this,u,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,u,h,g);default:if(Y)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),Y=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},m.prototype.slice=function(u,h){var g=this.length;0>(u=~~u)?0>(u+=g)&&(u=0):u>g&&(u=g),0>(h=void 0===h?g:~~h)?0>(h+=g)&&(h=0):h>g&&(h=g),h<u&&(h=u);var O=this.subarray(u,h);return O.__proto__=m.prototype,O},m.prototype.readUIntLE=function(u,h,g){u>>>=0,h>>>=0,g||qe(u,h,this.length);for(var O=this[u],W=1,Y=0;++Y<h&&(W*=256);)O+=this[u+Y]*W;return O},m.prototype.readUIntBE=function(u,h,g){u>>>=0,h>>>=0,g||qe(u,h,this.length);for(var O=this[u+--h],W=1;0<h&&(W*=256);)O+=this[u+--h]*W;return O},m.prototype.readUInt8=function(u,h){return u>>>=0,h||qe(u,1,this.length),this[u]},m.prototype.readUInt16LE=function(u,h){return u>>>=0,h||qe(u,2,this.length),this[u]|this[u+1]<<8},m.prototype.readUInt16BE=function(u,h){return u>>>=0,h||qe(u,2,this.length),this[u]<<8|this[u+1]},m.prototype.readUInt32LE=function(u,h){return u>>>=0,h||qe(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+16777216*this[u+3]},m.prototype.readUInt32BE=function(u,h){return u>>>=0,h||qe(u,4,this.length),16777216*this[u]+(this[u+1]<<16|this[u+2]<<8|this[u+3])},m.prototype.readIntLE=function(u,h,g){u>>>=0,h>>>=0,g||qe(u,h,this.length);for(var O=this[u],W=1,Y=0;++Y<h&&(W*=256);)O+=this[u+Y]*W;return O>=(W*=128)&&(O-=B(2,8*h)),O},m.prototype.readIntBE=function(u,h,g){u>>>=0,h>>>=0,g||qe(u,h,this.length);for(var O=h,W=1,Y=this[u+--O];0<O&&(W*=256);)Y+=this[u+--O]*W;return Y>=(W*=128)&&(Y-=B(2,8*h)),Y},m.prototype.readInt8=function(u,h){return u>>>=0,h||qe(u,1,this.length),128&this[u]?-1*(255-this[u]+1):this[u]},m.prototype.readInt16LE=function(u,h){u>>>=0,h||qe(u,2,this.length);var g=this[u]|this[u+1]<<8;return 32768&g?4294901760|g:g},m.prototype.readInt16BE=function(u,h){u>>>=0,h||qe(u,2,this.length);var g=this[u+1]|this[u]<<8;return 32768&g?4294901760|g:g},m.prototype.readInt32LE=function(u,h){return u>>>=0,h||qe(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},m.prototype.readInt32BE=function(u,h){return u>>>=0,h||qe(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},m.prototype.readFloatLE=function(u,h){return u>>>=0,h||qe(u,4,this.length),fe.read(this,u,!0,23,4)},m.prototype.readFloatBE=function(u,h){return u>>>=0,h||qe(u,4,this.length),fe.read(this,u,!1,23,4)},m.prototype.readDoubleLE=function(u,h){return u>>>=0,h||qe(u,8,this.length),fe.read(this,u,!0,52,8)},m.prototype.readDoubleBE=function(u,h){return u>>>=0,h||qe(u,8,this.length),fe.read(this,u,!1,52,8)},m.prototype.writeUIntLE=function(u,h,g,O){u=+u,h>>>=0,g>>>=0,O||He(this,u,h,g,B(2,8*g)-1,0);var Y=1,le=0;for(this[h]=255&u;++le<g&&(Y*=256);)this[h+le]=255&u/Y;return h+g},m.prototype.writeUIntBE=function(u,h,g,O){u=+u,h>>>=0,g>>>=0,O||He(this,u,h,g,B(2,8*g)-1,0);var Y=g-1,le=1;for(this[h+Y]=255&u;0<=--Y&&(le*=256);)this[h+Y]=255&u/le;return h+g},m.prototype.writeUInt8=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,1,255,0),this[h]=255&u,h+1},m.prototype.writeUInt16LE=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,2,65535,0),this[h]=255&u,this[h+1]=u>>>8,h+2},m.prototype.writeUInt16BE=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,2,65535,0),this[h]=u>>>8,this[h+1]=255&u,h+2},m.prototype.writeUInt32LE=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,4,4294967295,0),this[h+3]=u>>>24,this[h+2]=u>>>16,this[h+1]=u>>>8,this[h]=255&u,h+4},m.prototype.writeUInt32BE=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,4,4294967295,0),this[h]=u>>>24,this[h+1]=u>>>16,this[h+2]=u>>>8,this[h+3]=255&u,h+4},m.prototype.writeIntLE=function(u,h,g,O){if(u=+u,h>>>=0,!O){var W=B(2,8*g-1);He(this,u,h,g,W-1,-W)}var Y=0,le=1,Ne=0;for(this[h]=255&u;++Y<g&&(le*=256);)0>u&&0===Ne&&0!==this[h+Y-1]&&(Ne=1),this[h+Y]=255&(u/le>>0)-Ne;return h+g},m.prototype.writeIntBE=function(u,h,g,O){if(u=+u,h>>>=0,!O){var W=B(2,8*g-1);He(this,u,h,g,W-1,-W)}var Y=g-1,le=1,Ne=0;for(this[h+Y]=255&u;0<=--Y&&(le*=256);)0>u&&0===Ne&&0!==this[h+Y+1]&&(Ne=1),this[h+Y]=255&(u/le>>0)-Ne;return h+g},m.prototype.writeInt8=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,1,127,-128),0>u&&(u=255+u+1),this[h]=255&u,h+1},m.prototype.writeInt16LE=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,2,32767,-32768),this[h]=255&u,this[h+1]=u>>>8,h+2},m.prototype.writeInt16BE=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,2,32767,-32768),this[h]=u>>>8,this[h+1]=255&u,h+2},m.prototype.writeInt32LE=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,4,2147483647,-2147483648),this[h]=255&u,this[h+1]=u>>>8,this[h+2]=u>>>16,this[h+3]=u>>>24,h+4},m.prototype.writeInt32BE=function(u,h,g){return u=+u,h>>>=0,g||He(this,u,h,4,2147483647,-2147483648),0>u&&(u=4294967295+u+1),this[h]=u>>>24,this[h+1]=u>>>16,this[h+2]=u>>>8,this[h+3]=255&u,h+4},m.prototype.writeFloatLE=function(u,h,g){return xt(this,u,h,!0,g)},m.prototype.writeFloatBE=function(u,h,g){return xt(this,u,h,!1,g)},m.prototype.writeDoubleLE=function(u,h,g){return sn(this,u,h,!0,g)},m.prototype.writeDoubleBE=function(u,h,g){return sn(this,u,h,!1,g)},m.prototype.copy=function(u,h,g,O){if(!m.isBuffer(u))throw new TypeError("argument should be a Buffer");if(g||(g=0),O||0===O||(O=this.length),h>=u.length&&(h=u.length),h||(h=0),0<O&&O<g&&(O=g),O===g||0===u.length||0===this.length)return 0;if(0>h)throw new RangeError("targetStart out of bounds");if(0>g||g>=this.length)throw new RangeError("Index out of range");if(0>O)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),u.length-h<O-g&&(O=u.length-h+g);var W=O-g;if(this===u&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(h,g,O);else if(this===u&&g<h&&h<O)for(var Y=W-1;0<=Y;--Y)u[Y+h]=this[Y+g];else Uint8Array.prototype.set.call(u,this.subarray(g,O),h);return W},m.prototype.fill=function(u,h,g,O){if("string"==typeof u){if("string"==typeof h?(O=h,h=0,g=this.length):"string"==typeof g&&(O=g,g=this.length),void 0!==O&&"string"!=typeof O)throw new TypeError("encoding must be a string");if("string"==typeof O&&!m.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(1===u.length){var W=u.charCodeAt(0);("utf8"===O&&128>W||"latin1"===O)&&(u=W)}}else"number"==typeof u&&(u&=255);if(0>h||this.length<h||this.length<g)throw new RangeError("Out of range index");if(g<=h)return this;var Y;if(h>>>=0,g=void 0===g?this.length:g>>>0,u||(u=0),"number"==typeof u)for(Y=h;Y<g;++Y)this[Y]=u;else{var le=m.isBuffer(u)?u:m.from(u,O),Ne=le.length;if(0===Ne)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(Y=0;Y<g-h;++Y)this[Y+h]=le[Y%Ne]}return this};var Re=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,E("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(E,S,_){(function(v){(function(){_.formatArgs=function(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+S.exports.humanize(this.diff),!this.useColors)return;const I="color: "+this.color;m.splice(1,0,I,"color: inherit");let N=0,C=0;m[0].replace(/%[a-zA-Z%]/g,P=>{"%%"===P||(N++,"%c"===P&&(C=N))}),m.splice(C,0,I)},_.save=function(m){try{m?_.storage.setItem("debug",m):_.storage.removeItem("debug")}catch{}},_.load=function M(){let m;try{m=_.storage.getItem("debug")}catch{}return!m&&typeof v<"u"&&"env"in v&&(m=v.env.DEBUG),m},_.useColors=function(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},_.storage=function(){try{return localStorage}catch{}}(),_.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),_.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],_.log=console.debug||console.log||(()=>{}),S.exports=E("./common")(_);const{formatters:x}=S.exports;x.j=function(m){try{return JSON.stringify(m)}catch(I){return"[UnexpectedJSONParseError]: "+I.message}}}).call(this)}).call(this,E("_process"))},{"./common":5,_process:12}],5:[function(E,S){S.exports=function(_){function v(m){function I(...P){if(!I.enabled)return;const V=I,U=+new Date;V.diff=U-(N||U),V.prev=N,V.curr=U,N=U,P[0]=v.coerce(P[0]),"string"!=typeof P[0]&&P.unshift("%O");let D=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(A,L)=>{if("%%"===A)return"%";D++;const R=v.formatters[L];return"function"==typeof R&&(A=R.call(V,P[D]),P.splice(D,1),D--),A}),v.formatArgs.call(V,P),(V.log||v.log).apply(V,P)}let N,C=null;return I.namespace=m,I.useColors=v.useColors(),I.color=v.selectColor(m),I.extend=M,I.destroy=v.destroy,Object.defineProperty(I,"enabled",{enumerable:!0,configurable:!1,get:()=>null===C?v.enabled(m):C,set:P=>{C=P}}),"function"==typeof v.init&&v.init(I),I}function M(m,I){const N=v(this.namespace+(typeof I>"u"?":":I)+m);return N.log=this.log,N}function x(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return v.debug=v,v.default=v,v.coerce=function(m){return m instanceof Error?m.stack||m.message:m},v.disable=function(){const m=[...v.names.map(x),...v.skips.map(x).map(I=>"-"+I)].join(",");return v.enable(""),m},v.enable=function(m){let I;v.save(m),v.names=[],v.skips=[];const N=("string"==typeof m?m:"").split(/[\s,]+/),C=N.length;for(I=0;I<C;I++)N[I]&&("-"===(m=N[I].replace(/\*/g,".*?"))[0]?v.skips.push(new RegExp("^"+m.substr(1)+"$")):v.names.push(new RegExp("^"+m+"$")))},v.enabled=function(m){if("*"===m[m.length-1])return!0;let I,N;for(I=0,N=v.skips.length;I<N;I++)if(v.skips[I].test(m))return!1;for(I=0,N=v.names.length;I<N;I++)if(v.names[I].test(m))return!0;return!1},v.humanize=E("ms"),v.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(_).forEach(m=>{v[m]=_[m]}),v.names=[],v.skips=[],v.formatters={},v.selectColor=function(m){let I=0;for(let N=0;N<m.length;N++)I=(I<<5)-I+m.charCodeAt(N),I|=0;return v.colors[Z(I)%v.colors.length]},v.enable(v.load()),v}},{ms:11}],6:[function(E,S){"use strict";function _(v,M){for(const x in M)Object.defineProperty(v,x,{value:M[x],enumerable:!0,configurable:!0});return v}S.exports=function(v,M,x){if(!v||"string"==typeof v)throw new TypeError("Please pass an Error to err-code");x||(x={}),"object"==typeof M&&(x=M,M=""),M&&(x.code=M);try{return _(v,x)}catch{x.message=v.message,x.stack=v.stack;const I=function(){};return I.prototype=Object.create(Object.getPrototypeOf(v)),_(new I,x)}}},{}],7:[function(E,S){"use strict";function v(){v.init.call(this)}function M(k){if("function"!=typeof k)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}function x(k){return void 0===k._maxListeners?v.defaultMaxListeners:k._maxListeners}function m(k,F,$,Q){var ie,oe,re;if(M($),void 0===(oe=k._events)?(oe=k._events=Object.create(null),k._eventsCount=0):(void 0!==oe.newListener&&(k.emit("newListener",F,$.listener?$.listener:$),oe=k._events),re=oe[F]),void 0===re)re=oe[F]=$,++k._eventsCount;else if("function"==typeof re?re=oe[F]=Q?[$,re]:[re,$]:Q?re.unshift($):re.push($),0<(ie=x(k))&&re.length>ie&&!re.warned){re.warned=!0;var de=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+F+" listeners added. Use emitter.setMaxListeners() to increase limit");de.name="MaxListenersExceededWarning",de.emitter=k,de.type=F,de.count=re.length,function _(k){console&&console.warn&&console.warn(k)}(de)}return k}function I(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function N(k,F,$){var Q={fired:!1,wrapFn:void 0,target:k,type:F,listener:$},ie=I.bind(Q);return ie.listener=$,Q.wrapFn=ie,ie}function C(k,F,$){var Q=k._events;if(void 0===Q)return[];var ie=Q[F];return void 0===ie?[]:"function"==typeof ie?$?[ie.listener||ie]:[ie]:$?function q(k){for(var F=Array(k.length),$=0;$<F.length;++$)F[$]=k[$].listener||k[$];return F}(ie):V(ie,ie.length)}function P(k){var F=this._events;if(void 0!==F){var $=F[k];if("function"==typeof $)return 1;if(void 0!==$)return $.length}return 0}function V(k,F){for(var $=Array(F),Q=0;Q<F;++Q)$[Q]=k[Q];return $}function b(k,F,$,Q){if("function"==typeof k.on)Q.once?k.once(F,$):k.on(F,$);else{if("function"!=typeof k.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k);k.addEventListener(F,function ie(oe){Q.once&&k.removeEventListener(F,ie),$(oe)})}}var A,L="object"==typeof Reflect?Reflect:null,R=L&&"function"==typeof L.apply?L.apply:function(k,F,$){return Function.prototype.apply.call(k,F,$)};A=L&&"function"==typeof L.ownKeys?L.ownKeys:Object.getOwnPropertySymbols?function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:function(k){return Object.getOwnPropertyNames(k)};var H=Number.isNaN||function(k){return k!=k};S.exports=v,S.exports.once=function(k,F){return new Promise(function($,Q){function ie(re){k.removeListener(F,oe),Q(re)}function oe(){"function"==typeof k.removeListener&&k.removeListener("error",ie),$([].slice.call(arguments))}b(k,F,oe,{once:!0}),"error"!==F&&function D(k,F,$){"function"==typeof k.on&&b(k,"error",F,$)}(k,ie,{once:!0})})},v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var ee=10;Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return ee},set:function(k){if("number"!=typeof k||0>k||H(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");ee=k}}),v.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(k){if("number"!=typeof k||0>k||H(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this},v.prototype.getMaxListeners=function(){return x(this)},v.prototype.emit=function(k){for(var F=[],$=1;$<arguments.length;$++)F.push(arguments[$]);var Q="error"===k,ie=this._events;if(void 0!==ie)Q=Q&&void 0===ie.error;else if(!Q)return!1;if(Q){var oe;if(0<F.length&&(oe=F[0]),oe instanceof Error)throw oe;var re=new Error("Unhandled error."+(oe?" ("+oe.message+")":""));throw re.context=oe,re}var de=ie[k];if(void 0===de)return!1;if("function"==typeof de)R(de,this,F);else{var ge=de.length,he=V(de,ge);for($=0;$<ge;++$)R(he[$],this,F)}return!0},v.prototype.on=v.prototype.addListener=function(k,F){return m(this,k,F,!1)},v.prototype.prependListener=function(k,F){return m(this,k,F,!0)},v.prototype.once=function(k,F){return M(F),this.on(k,N(this,k,F)),this},v.prototype.prependOnceListener=function(k,F){return M(F),this.prependListener(k,N(this,k,F)),this},v.prototype.off=v.prototype.removeListener=function(k,F){var $,Q,ie,oe,re;if(M(F),void 0===(Q=this._events))return this;if(void 0===($=Q[k]))return this;if($===F||$.listener===F)0==--this._eventsCount?this._events=Object.create(null):(delete Q[k],Q.removeListener&&this.emit("removeListener",k,$.listener||F));else if("function"!=typeof $){for(ie=-1,oe=$.length-1;0<=oe;oe--)if($[oe]===F||$[oe].listener===F){re=$[oe].listener,ie=oe;break}if(0>ie)return this;0===ie?$.shift():function U(k,F){for(;F+1<k.length;F++)k[F]=k[F+1];k.pop()}($,ie),1===$.length&&(Q[k]=$[0]),void 0!==Q.removeListener&&this.emit("removeListener",k,re||F)}return this},v.prototype.removeAllListeners=function(k){var F,$,Q;if(void 0===($=this._events))return this;if(void 0===$.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==$[k]&&(0==--this._eventsCount?this._events=Object.create(null):delete $[k]),this;if(0===arguments.length){var ie,oe=Object.keys($);for(Q=0;Q<oe.length;++Q)"removeListener"!==(ie=oe[Q])&&this.removeAllListeners(ie);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(F=$[k]))this.removeListener(k,F);else if(void 0!==F)for(Q=F.length-1;0<=Q;Q--)this.removeListener(k,F[Q]);return this},v.prototype.listeners=function(k){return C(this,k,!0)},v.prototype.rawListeners=function(k){return C(this,k,!1)},v.listenerCount=function(k,F){return"function"==typeof k.listenerCount?k.listenerCount(F):P.call(k,F)},v.prototype.listenerCount=P,v.prototype.eventNames=function(){return 0<this._eventsCount?A(this._events):[]}},{}],8:[function(E,S){S.exports=function(){if(typeof globalThis>"u")return null;var _={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return _.RTCPeerConnection?_:null}},{}],9:[function(E,S,_){_.read=function(v,M,x,m,I){var N,C,P=8*I-m-1,V=(1<<P)-1,U=V>>1,q=-7,D=x?I-1:0,b=x?-1:1,A=v[M+D];for(D+=b,N=A&(1<<-q)-1,A>>=-q,q+=P;0<q;N=256*N+v[M+D],D+=b,q-=8);for(C=N&(1<<-q)-1,N>>=-q,q+=m;0<q;C=256*C+v[M+D],D+=b,q-=8);if(0===N)N=1-U;else{if(N===V)return C?NaN:1/0*(A?-1:1);C+=B(2,m),N-=U}return(A?-1:1)*C*B(2,N-m)},_.write=function(v,M,x,m,I,N){var C,P,V,U=Math.LN2,q=Math.log,D=8*N-I-1,b=(1<<D)-1,A=b>>1,L=23===I?B(2,-24)-B(2,-77):0,R=m?0:N-1,H=m?1:-1,ee=0>M||0===M&&0>1/M?1:0;for(M=Z(M),isNaN(M)||M===1/0?(P=isNaN(M)?1:0,C=b):(C=z(q(M)/U),1>M*(V=B(2,-C))&&(C--,V*=2),2<=(M+=1<=C+A?L/V:L*B(2,1-A))*V&&(C++,V/=2),C+A>=b?(P=0,C=b):1<=C+A?(P=(M*V-1)*B(2,I),C+=A):(P=M*B(2,A-1)*B(2,I),C=0));8<=I;v[x+R]=255&P,R+=H,P/=256,I-=8);for(C=C<<I|P,D+=I;0<D;v[x+R]=255&C,R+=H,C/=256,D-=8);v[x+R-H]|=128*ee}},{}],10:[function(E,S){S.exports="function"==typeof Object.create?function(_,v){v&&(_.super_=v,_.prototype=Object.create(v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}))}:function(_,v){if(v){_.super_=v;var M=function(){};M.prototype=v.prototype,_.prototype=new M,_.prototype.constructor=_}}},{}],11:[function(E,S){var _=Math.round;function m(N,C,P,V){return _(N/P)+" "+V+(C>=1.5*P?"s":"")}S.exports=function(N,C){C=C||{};var P=typeof N;if("string"==P&&0<N.length)return function v(N){if(!(100<(N+="").length)){var C=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(C){var P=parseFloat(C[1]),V=(C[2]||"ms").toLowerCase();return"years"===V||"year"===V||"yrs"===V||"yr"===V||"y"===V?315576e5*P:"weeks"===V||"week"===V||"w"===V?6048e5*P:"days"===V||"day"===V||"d"===V?864e5*P:"hours"===V||"hour"===V||"hrs"===V||"hr"===V||"h"===V?36e5*P:"minutes"===V||"minute"===V||"mins"===V||"min"===V||"m"===V?6e4*P:"seconds"===V||"second"===V||"secs"===V||"sec"===V||"s"===V?1e3*P:"milliseconds"===V||"millisecond"===V||"msecs"===V||"msec"===V||"ms"===V?P:void 0}}}(N);if("number"===P&&isFinite(N))return C.long?function x(N){var C=Z(N);return 864e5<=C?m(N,C,864e5,"day"):36e5<=C?m(N,C,36e5,"hour"):6e4<=C?m(N,C,6e4,"minute"):1e3<=C?m(N,C,1e3,"second"):N+" ms"}(N):function M(N){var C=Z(N);return 864e5<=C?_(N/864e5)+"d":36e5<=C?_(N/36e5)+"h":6e4<=C?_(N/6e4)+"m":1e3<=C?_(N/1e3)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},{}],12:[function(E,S){function _(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function M(L){if(P===setTimeout)return setTimeout(L,0);if((P===_||!P)&&setTimeout)return P=setTimeout,setTimeout(L,0);try{return P(L,0)}catch{try{return P.call(null,L,0)}catch{return P.call(this,L,0)}}}function m(){b&&q&&(b=!1,q.length?D=q.concat(D):A=-1,D.length&&I())}function I(){if(!b){var L=M(m);b=!0;for(var R=D.length;R;){for(q=D,D=[];++A<R;)q&&q[A].run();A=-1,R=D.length}q=null,b=!1,function x(L){if(V===clearTimeout)return clearTimeout(L);if((V===v||!V)&&clearTimeout)return V=clearTimeout,clearTimeout(L);try{return V(L)}catch{try{return V.call(null,L)}catch{return V.call(this,L)}}}(L)}}function N(L,R){this.fun=L,this.array=R}function C(){}var P,V,U=S.exports={};!function(){try{P="function"==typeof setTimeout?setTimeout:_}catch{P=_}try{V="function"==typeof clearTimeout?clearTimeout:v}catch{V=v}}();var q,D=[],b=!1,A=-1;U.nextTick=function(L){var R=Array(arguments.length-1);if(1<arguments.length)for(var H=1;H<arguments.length;H++)R[H-1]=arguments[H];D.push(new N(L,R)),1!==D.length||b||M(I)},N.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={},U.on=C,U.addListener=C,U.once=C,U.off=C,U.removeListener=C,U.removeAllListeners=C,U.emit=C,U.prependListener=C,U.prependOnceListener=C,U.listeners=function(){return[]},U.binding=function(){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},{}],13:[function(E,S){(function(_){(function(){let v;S.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window>"u"?_:window):M=>(v||(v=Promise.resolve())).then(M).catch(x=>setTimeout(()=>{throw x},0))}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],14:[function(E,S){(function(_,v){(function(){"use strict";var M=E("safe-buffer").Buffer,x=v.crypto||v.msCrypto;S.exports=x&&x.getRandomValues?function(m,I){if(m>4294967295)throw new RangeError("requested too many random bytes");var N=M.allocUnsafe(m);if(0<m)if(65536<m)for(var C=0;C<m;C+=65536)x.getRandomValues(N.slice(C,C+65536));else x.getRandomValues(N);return"function"==typeof I?_.nextTick(function(){I(null,N)}):N}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,E("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:12,"safe-buffer":30}],15:[function(E,S){"use strict";function v(C,P,V){V||(V=Error);var q=function(D){function b(A,L,R){return D.call(this,function U(D,b,A){return"string"==typeof P?P:P(D,b,A)}(A,L,R))||this}return function _(C,P){C.prototype=Object.create(P.prototype),C.prototype.constructor=C,C.__proto__=P}(b,D),b}(V);q.prototype.name=V.name,q.prototype.code=C,N[C]=q}function M(C,P){if(Array.isArray(C)){var V=C.length;return C=C.map(function(U){return U+""}),2<V?"one of ".concat(P," ").concat(C.slice(0,V-1).join(", "),", or ")+C[V-1]:2===V?"one of ".concat(P," ").concat(C[0]," or ").concat(C[1]):"of ".concat(P," ").concat(C[0])}return"of ".concat(P," ").concat(C+"")}var N={};v("ERR_INVALID_OPT_VALUE",function(C,P){return'The value "'+P+'" is invalid for option "'+C+'"'},TypeError),v("ERR_INVALID_ARG_TYPE",function(C,P,V){var U,q;if("string"==typeof P&&function x(C,P,V){return C.substr(!V||0>V?0:+V,P.length)===P}(P,"not ")?(U="must not be",P=P.replace(/^not /,"")):U="must be",function m(C,P,V){return(void 0===V||V>C.length)&&(V=C.length),C.substring(V-P.length,V)===P}(C," argument"))q="The ".concat(C," ").concat(U," ").concat(M(P,"type"));else{var D=function I(C,P,V){return"number"!=typeof V&&(V=0),!(V+P.length>C.length)&&-1!==C.indexOf(P,V)}(C,".")?"property":"argument";q='The "'.concat(C,'" ').concat(D," ").concat(U," ").concat(M(P,"type"))}return q+". Received type ".concat(typeof V)},TypeError),v("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),v("ERR_METHOD_NOT_IMPLEMENTED",function(C){return"The "+C+" method is not implemented"}),v("ERR_STREAM_PREMATURE_CLOSE","Premature close"),v("ERR_STREAM_DESTROYED",function(C){return"Cannot call "+C+" after a stream was destroyed"}),v("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),v("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),v("ERR_STREAM_WRITE_AFTER_END","write after end"),v("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),v("ERR_UNKNOWN_ENCODING",function(C){return"Unknown encoding: "+C},TypeError),v("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),S.exports.codes=N},{}],16:[function(E,S){(function(_){(function(){"use strict";function v(U){return this instanceof v?(I.call(this,U),N.call(this,U),this.allowHalfOpen=!0,void(U&&(!1===U.readable&&(this.readable=!1),!1===U.writable&&(this.writable=!1),!1===U.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",M))))):new v(U)}function M(){this._writableState.ended||_.nextTick(x,this)}function x(U){U.end()}var m=Object.keys||function(U){var q=[];for(var D in U)q.push(D);return q};S.exports=v;var I=E("./_stream_readable"),N=E("./_stream_writable");E("inherits")(v,I);for(var C,P=m(N.prototype),V=0;V<P.length;V++)v.prototype[C=P[V]]||(v.prototype[C]=N.prototype[C]);Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(U){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=U,this._writableState.destroyed=U)}})}).call(this)}).call(this,E("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(E,S){"use strict";function _(M){return this instanceof _?void v.call(this,M):new _(M)}S.exports=_;var v=E("./_stream_transform");E("inherits")(_,v),_.prototype._transform=function(M,x,m){m(null,M)}},{"./_stream_transform":19,inherits:10}],18:[function(E,S){(function(_,v){(function(){"use strict";function I(u,h,g){ge=ge||E("./_stream_duplex"),"boolean"!=typeof g&&(g=h instanceof ge),this.objectMode=!!(u=u||{}).objectMode,g&&(this.objectMode=this.objectMode||!!u.readableObjectMode),this.highWaterMark=Et(this,u,"readableHighWaterMark",g),this.buffer=new Rt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==u.emitClose,this.autoDestroy=!!u.autoDestroy,this.destroyed=!1,this.defaultEncoding=u.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,u.encoding&&(!xt&&(xt=E("string_decoder/").StringDecoder),this.decoder=new xt(u.encoding),this.encoding=u.encoding)}function N(u){if(ge=ge||E("./_stream_duplex"),!(this instanceof N))return new N(u);this._readableState=new I(u,this,this instanceof ge),this.readable=!0,u&&("function"==typeof u.read&&(this._read=u.read),"function"==typeof u.destroy&&(this._destroy=u.destroy)),on.call(this)}function C(u,h,g,O,W){he("readableAddChunk",h);var le,Y=u._readableState;if(null===h)Y.reading=!1,function D(u,h){if(he("onEofChunk"),!h.ended){if(h.decoder){var g=h.decoder.end();g&&g.length&&(h.buffer.push(g),h.length+=h.objectMode?1:g.length)}h.ended=!0,h.sync?b(u):(h.needReadable=!1,!h.emittedReadable&&(h.emittedReadable=!0,A(u)))}}(u,Y);else if(W||(le=function V(u,h){var g;return function x(u){return qe.isBuffer(u)||u instanceof He}(h)||"string"==typeof h||void 0===h||u.objectMode||(g=new St("chunk",["string","Buffer","Uint8Array"],h)),g}(Y,h)),le)fe(u,le);else if(Y.objectMode||h&&0<h.length)if("string"==typeof h||Y.objectMode||Object.getPrototypeOf(h)===qe.prototype||(h=function M(u){return qe.from(u)}(h)),O)Y.endEmitted?fe(u,new ae):P(u,Y,h,!0);else if(Y.ended)fe(u,new G);else{if(Y.destroyed)return!1;Y.reading=!1,Y.decoder&&!g?(h=Y.decoder.write(h),Y.objectMode||0!==h.length?P(u,Y,h,!1):L(u,Y)):P(u,Y,h,!1)}else O||(Y.reading=!1,L(u,Y));return!Y.ended&&(Y.length<Y.highWaterMark||0===Y.length)}function P(u,h,g,O){h.flowing&&0===h.length&&!h.sync?(h.awaitDrain=0,u.emit("data",g)):(h.length+=h.objectMode?1:g.length,O?h.buffer.unshift(g):h.buffer.push(g),h.needReadable&&b(u)),L(u,h)}function q(u,h){return 0>=u||0===h.length&&h.ended?0:h.objectMode?1:u==u?(u>h.highWaterMark&&(h.highWaterMark=function U(u){return 1073741824<=u?u=1073741824:(u--,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,u|=u>>>16,u++),u}(u)),u<=h.length?u:h.ended?h.length:(h.needReadable=!0,0)):h.flowing&&h.length?h.buffer.head.data.length:h.length}function b(u){var h=u._readableState;he("emitReadable",h.needReadable,h.emittedReadable),h.needReadable=!1,h.emittedReadable||(he("emitReadable",h.flowing),h.emittedReadable=!0,_.nextTick(A,u))}function A(u){var h=u._readableState;he("emitReadable_",h.destroyed,h.length,h.ended),!h.destroyed&&(h.length||h.ended)&&(u.emit("readable"),h.emittedReadable=!1),h.needReadable=!h.flowing&&!h.ended&&h.length<=h.highWaterMark,Q(u)}function L(u,h){h.readingMore||(h.readingMore=!0,_.nextTick(R,u,h))}function R(u,h){for(;!h.reading&&!h.ended&&(h.length<h.highWaterMark||h.flowing&&0===h.length);){var g=h.length;if(he("maybeReadMore read 0"),u.read(0),g===h.length)break}h.readingMore=!1}function ee(u){var h=u._readableState;h.readableListening=0<u.listenerCount("readable"),h.resumeScheduled&&!h.paused?h.flowing=!0:0<u.listenerCount("data")&&u.resume()}function k(u){he("readable nexttick read 0"),u.read(0)}function $(u,h){he("resume",h.reading),h.reading||u.read(0),h.resumeScheduled=!1,u.emit("resume"),Q(u),h.flowing&&!h.reading&&u.read(0)}function Q(u){var h=u._readableState;for(he("flow",h.flowing);h.flowing&&null!==u.read(););}function ie(u,h){return 0===h.length?null:(h.objectMode?g=h.buffer.shift():!u||u>=h.length?(g=h.decoder?h.buffer.join(""):1===h.buffer.length?h.buffer.first():h.buffer.concat(h.length),h.buffer.clear()):g=h.buffer.consume(u,h.decoder),g);var g}function oe(u){var h=u._readableState;he("endReadable",h.endEmitted),h.endEmitted||(h.ended=!0,_.nextTick(re,h,u))}function re(u,h){if(he("endReadableNT",u.endEmitted,u.length),!u.endEmitted&&0===u.length&&(u.endEmitted=!0,h.readable=!1,h.emit("end"),u.autoDestroy)){var g=h._writableState;(!g||g.autoDestroy&&g.finished)&&h.destroy()}}function de(u,h){for(var g=0,O=u.length;g<O;g++)if(u[g]===h)return g;return-1}var ge;S.exports=N,N.ReadableState=I,E("events");var he,vn=function(u,h){return u.listeners(h).length},on=E("./internal/streams/stream"),qe=E("buffer").Buffer,He=v.Uint8Array||function(){},Nt=E("util");he=Nt&&Nt.debuglog?Nt.debuglog("stream"):function(){};var xt,sn,Ft,Rt=E("./internal/streams/buffer_list"),an=E("./internal/streams/destroy"),Et=E("./internal/streams/state").getHighWaterMark,dt=E("../errors").codes,St=dt.ERR_INVALID_ARG_TYPE,G=dt.ERR_STREAM_PUSH_AFTER_EOF,K=dt.ERR_METHOD_NOT_IMPLEMENTED,ae=dt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E("inherits")(N,on);var fe=an.errorOrDestroy,Re=["error","close","destroy","pause","resume"];Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(u){this._readableState&&(this._readableState.destroyed=u)}}),N.prototype.destroy=an.destroy,N.prototype._undestroy=an.undestroy,N.prototype._destroy=function(u,h){h(u)},N.prototype.push=function(u,h){var g,O=this._readableState;return O.objectMode?g=!0:"string"==typeof u&&((h=h||O.defaultEncoding)!==O.encoding&&(u=qe.from(u,h),h=""),g=!0),C(this,u,h,!1,g)},N.prototype.unshift=function(u){return C(this,u,null,!0,!1)},N.prototype.isPaused=function(){return!1===this._readableState.flowing},N.prototype.setEncoding=function(u){xt||(xt=E("string_decoder/").StringDecoder);var h=new xt(u);this._readableState.decoder=h,this._readableState.encoding=this._readableState.decoder.encoding;for(var g=this._readableState.buffer.head,O="";null!==g;)O+=h.write(g.data),g=g.next;return this._readableState.buffer.clear(),""!==O&&this._readableState.buffer.push(O),this._readableState.length=O.length,this},N.prototype.read=function(u){he("read",u),u=parseInt(u,10);var h=this._readableState,g=u;if(0!==u&&(h.emittedReadable=!1),0===u&&h.needReadable&&((0===h.highWaterMark?0<h.length:h.length>=h.highWaterMark)||h.ended))return he("read: emitReadable",h.length,h.ended),0===h.length&&h.ended?oe(this):b(this),null;if(0===(u=q(u,h))&&h.ended)return 0===h.length&&oe(this),null;var W,O=h.needReadable;return he("need readable",O),(0===h.length||h.length-u<h.highWaterMark)&&he("length less than watermark",O=!0),h.ended||h.reading?he("reading or ended",O=!1):O&&(he("do read"),h.reading=!0,h.sync=!0,0===h.length&&(h.needReadable=!0),this._read(h.highWaterMark),h.sync=!1,!h.reading&&(u=q(g,h))),null===(W=0<u?ie(u,h):null)?(h.needReadable=h.length<=h.highWaterMark,u=0):(h.length-=u,h.awaitDrain=0),0===h.length&&(!h.ended&&(h.needReadable=!0),g!==u&&h.ended&&oe(this)),null!==W&&this.emit("data",W),W},N.prototype._read=function(){fe(this,new K("_read()"))},N.prototype.pipe=function(u,h){function g(Jr,Xr){he("onunpipe"),Jr===Fe&&Xr&&!1===Xr.hasUnpiped&&(Xr.hasUnpiped=!0,function W(){he("cleanup"),u.removeListener("close",Ne),u.removeListener("finish",at),u.removeListener("drain",Kr),u.removeListener("error",le),u.removeListener("unpipe",g),Fe.removeListener("end",O),Fe.removeListener("end",je),Fe.removeListener("data",Y),gs=!0,Pe.awaitDrain&&(!u._writableState||u._writableState.needDrain)&&Kr()}())}function O(){he("onend"),u.end()}function Y(Jr){he("ondata");var Xr=u.write(Jr);he("dest.write",Xr),!1===Xr&&((1===Pe.pipesCount&&Pe.pipes===u||1<Pe.pipesCount&&-1!==de(Pe.pipes,u))&&!gs&&(he("false write response, pause",Pe.awaitDrain),Pe.awaitDrain++),Fe.pause())}function le(Jr){he("onerror",Jr),je(),u.removeListener("error",le),0===vn(u,"error")&&fe(u,Jr)}function Ne(){u.removeListener("finish",at),je()}function at(){he("onfinish"),u.removeListener("close",Ne),je()}function je(){he("unpipe"),Fe.unpipe(u)}var Fe=this,Pe=this._readableState;switch(Pe.pipesCount){case 0:Pe.pipes=u;break;case 1:Pe.pipes=[Pe.pipes,u];break;default:Pe.pipes.push(u)}Pe.pipesCount+=1,he("pipe count=%d opts=%j",Pe.pipesCount,h);var Qr=h&&!1===h.end||u===_.stdout||u===_.stderr?je:O;Pe.endEmitted?_.nextTick(Qr):Fe.once("end",Qr),u.on("unpipe",g);var Kr=function H(u){return function(){var h=u._readableState;he("pipeOnDrain",h.awaitDrain),h.awaitDrain&&h.awaitDrain--,0===h.awaitDrain&&vn(u,"data")&&(h.flowing=!0,Q(u))}}(Fe);u.on("drain",Kr);var gs=!1;return Fe.on("data",Y),function m(u,h,g){return"function"==typeof u.prependListener?u.prependListener(h,g):void(u._events&&u._events[h]?Array.isArray(u._events[h])?u._events[h].unshift(g):u._events[h]=[g,u._events[h]]:u.on(h,g))}(u,"error",le),u.once("close",Ne),u.once("finish",at),u.emit("pipe",Fe),Pe.flowing||(he("pipe resume"),Fe.resume()),u},N.prototype.unpipe=function(u){var h=this._readableState,g={hasUnpiped:!1};if(0===h.pipesCount)return this;if(1===h.pipesCount)return u&&u!==h.pipes||(u||(u=h.pipes),h.pipes=null,h.pipesCount=0,h.flowing=!1,u&&u.emit("unpipe",this,g)),this;if(!u){var O=h.pipes,W=h.pipesCount;h.pipes=null,h.pipesCount=0,h.flowing=!1;for(var Y=0;Y<W;Y++)O[Y].emit("unpipe",this,{hasUnpiped:!1});return this}var le=de(h.pipes,u);return-1===le||(h.pipes.splice(le,1),h.pipesCount-=1,1===h.pipesCount&&(h.pipes=h.pipes[0]),u.emit("unpipe",this,g)),this},N.prototype.addListener=N.prototype.on=function(u,h){var g=on.prototype.on.call(this,u,h),O=this._readableState;return"data"===u?(O.readableListening=0<this.listenerCount("readable"),!1!==O.flowing&&this.resume()):"readable"==u&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,he("on readable",O.length,O.reading),O.length?b(this):!O.reading&&_.nextTick(k,this)),g},N.prototype.removeListener=function(u,h){var g=on.prototype.removeListener.call(this,u,h);return"readable"===u&&_.nextTick(ee,this),g},N.prototype.removeAllListeners=function(u){var h=on.prototype.removeAllListeners.apply(this,arguments);return("readable"===u||void 0===u)&&_.nextTick(ee,this),h},N.prototype.resume=function(){var u=this._readableState;return u.flowing||(he("resume"),u.flowing=!u.readableListening,function F(u,h){h.resumeScheduled||(h.resumeScheduled=!0,_.nextTick($,u,h))}(this,u)),u.paused=!1,this},N.prototype.pause=function(){return he("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(he("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},N.prototype.wrap=function(u){var h=this,g=this._readableState,O=!1;for(var W in u.on("end",function(){if(he("wrapped end"),g.decoder&&!g.ended){var le=g.decoder.end();le&&le.length&&h.push(le)}h.push(null)}),u.on("data",function(le){he("wrapped data"),g.decoder&&(le=g.decoder.write(le)),g.objectMode&&null==le||!(g.objectMode||le&&le.length)||h.push(le)||(O=!0,u.pause())}),u)void 0===this[W]&&"function"==typeof u[W]&&(this[W]=function(le){return function(){return u[le].apply(u,arguments)}}(W));for(var Y=0;Y<Re.length;Y++)u.on(Re[Y],this.emit.bind(this,Re[Y]));return this._read=function(le){he("wrapped _read",le),O&&(O=!1,u.resume())},this},"function"==typeof Symbol&&(N.prototype[Symbol.asyncIterator]=function(){return void 0===sn&&(sn=E("./internal/streams/async_iterator")),sn(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(u){this._readableState&&(this._readableState.flowing=u)}}),N._fromList=ie,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(N.from=function(u,h){return void 0===Ft&&(Ft=E("./internal/streams/from")),Ft(N,u,h)})}).call(this)}).call(this,E("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(E,S){"use strict";function _(U,q){var D=this._transformState;D.transforming=!1;var b=D.writecb;if(null===b)return this.emit("error",new N);D.writechunk=null,D.writecb=null,null!=q&&this.push(q),b(U);var A=this._readableState;A.reading=!1,(A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}function v(U){return this instanceof v?(V.call(this,U),this._transformState={afterTransform:_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,U&&("function"==typeof U.transform&&(this._transform=U.transform),"function"==typeof U.flush&&(this._flush=U.flush)),void this.on("prefinish",M)):new v(U)}function M(){var U=this;"function"!=typeof this._flush||this._readableState.destroyed?x(this,null,null):this._flush(function(q,D){x(U,q,D)})}function x(U,q,D){if(q)return U.emit("error",q);if(null!=D&&U.push(D),U._writableState.length)throw new P;if(U._transformState.transforming)throw new C;return U.push(null)}S.exports=v;var m=E("../errors").codes,I=m.ERR_METHOD_NOT_IMPLEMENTED,N=m.ERR_MULTIPLE_CALLBACK,C=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,P=m.ERR_TRANSFORM_WITH_LENGTH_0,V=E("./_stream_duplex");E("inherits")(v,V),v.prototype.push=function(U,q){return this._transformState.needTransform=!1,V.prototype.push.call(this,U,q)},v.prototype._transform=function(U,q,D){D(new I("_transform()"))},v.prototype._write=function(U,q,D){var b=this._transformState;if(b.writecb=D,b.writechunk=U,b.writeencoding=q,!b.transforming){var A=this._readableState;(b.needTransform||A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}},v.prototype._read=function(){var U=this._transformState;null===U.writechunk||U.transforming?U.needTransform=!0:(U.transforming=!0,this._transform(U.writechunk,U.writeencoding,U.afterTransform))},v.prototype._destroy=function(U,q){V.prototype._destroy.call(this,U,function(D){q(D)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(E,S){(function(_,v){(function(){"use strict";function M(G){var K=this;this.next=null,this.entry=null,this.finish=function(){!function oe(G,K,ae){var fe=G.entry;for(G.entry=null;fe;){var Re=fe.callback;K.pendingcb--,Re(ae),fe=fe.next}K.corkedRequestsFree.next=G}(K,G)}}function I(){}function N(G,K,ae){re=re||E("./_stream_duplex"),"boolean"!=typeof ae&&(ae=K instanceof re),this.objectMode=!!(G=G||{}).objectMode,ae&&(this.objectMode=this.objectMode||!!G.writableObjectMode),this.highWaterMark=qe(this,G,"writableHighWaterMark",ae),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===G.decodeStrings),this.defaultEncoding=G.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Re){!function L(G,K){var ae=G._writableState,fe=ae.sync,Re=ae.writecb;if("function"!=typeof Re)throw new sn;if(function A(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(ae),K)!function b(G,K,ae,fe,Re){--K.pendingcb,ae?(_.nextTick(Re,fe),_.nextTick(Q,G,K),G._writableState.errorEmitted=!0,dt(G,fe)):(Re(fe),G._writableState.errorEmitted=!0,dt(G,fe),Q(G,K))}(G,ae,fe,K,Re);else{var u=k(ae)||G.destroyed;u||ae.corked||ae.bufferProcessing||!ae.bufferedRequest||ee(G,ae),fe?_.nextTick(R,G,ae,u,Re):R(G,ae,u,Re)}}(K,Re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==G.emitClose,this.autoDestroy=!!G.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new M(this)}function C(G){var K=this instanceof(re=re||E("./_stream_duplex"));return K||St.call(C,this)?(this._writableState=new N(G,this,K),this.writable=!0,G&&("function"==typeof G.write&&(this._write=G.write),"function"==typeof G.writev&&(this._writev=G.writev),"function"==typeof G.destroy&&(this._destroy=G.destroy),"function"==typeof G.final&&(this._final=G.final)),void ge.call(this)):new C(G)}function q(G,K,ae,fe,Re,u){if(!ae){var h=function U(G,K,ae){return G.objectMode||!1===G.decodeStrings||"string"!=typeof K||(K=he.from(K,ae)),K}(K,fe,Re);fe!==h&&(ae=!0,Re="buffer",fe=h)}var g=K.objectMode?1:fe.length;K.length+=g;var O=K.length<K.highWaterMark;if(O||(K.needDrain=!0),K.writing||K.corked){var W=K.lastBufferedRequest;K.lastBufferedRequest={chunk:fe,encoding:Re,isBuf:ae,callback:u,next:null},W?W.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else D(G,K,!1,g,fe,Re,u);return O}function D(G,K,ae,fe,Re,u,h){K.writelen=fe,K.writecb=h,K.writing=!0,K.sync=!0,K.destroyed?K.onwrite(new Rt("write")):ae?G._writev(Re,K.onwrite):G._write(Re,u,K.onwrite),K.sync=!1}function R(G,K,ae,fe){ae||function H(G,K){0===K.length&&K.needDrain&&(K.needDrain=!1,G.emit("drain"))}(G,K),K.pendingcb--,fe(),Q(G,K)}function ee(G,K){K.bufferProcessing=!0;var ae=K.bufferedRequest;if(G._writev&&ae&&ae.next){var Re=Array(K.bufferedRequestCount),u=K.corkedRequestsFree;u.entry=ae;for(var h=0,g=!0;ae;)Re[h]=ae,ae.isBuf||(g=!1),ae=ae.next,h+=1;Re.allBuffers=g,D(G,K,!0,K.length,Re,"",u.finish),K.pendingcb++,K.lastBufferedRequest=null,u.next?(K.corkedRequestsFree=u.next,u.next=null):K.corkedRequestsFree=new M(K),K.bufferedRequestCount=0}else{for(;ae;){var O=ae.chunk;if(D(G,K,!1,K.objectMode?1:O.length,O,ae.encoding,ae.callback),ae=ae.next,K.bufferedRequestCount--,K.writing)break}null===ae&&(K.lastBufferedRequest=null)}K.bufferedRequest=ae,K.bufferProcessing=!1}function k(G){return G.ending&&0===G.length&&null===G.bufferedRequest&&!G.finished&&!G.writing}function F(G,K){G._final(function(ae){K.pendingcb--,ae&&dt(G,ae),K.prefinished=!0,G.emit("prefinish"),Q(G,K)})}function Q(G,K){var ae=k(K);if(ae&&(function $(G,K){K.prefinished||K.finalCalled||("function"!=typeof G._final||K.destroyed?(K.prefinished=!0,G.emit("prefinish")):(K.pendingcb++,K.finalCalled=!0,_.nextTick(F,G,K)))}(G,K),0===K.pendingcb&&(K.finished=!0,G.emit("finish"),K.autoDestroy))){var fe=G._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&G.destroy()}return ae}var re;S.exports=C,C.WritableState=N;var St,de={deprecate:E("util-deprecate")},ge=E("./internal/streams/stream"),he=E("buffer").Buffer,et=v.Uint8Array||function(){},vn=E("./internal/streams/destroy"),qe=E("./internal/streams/state").getHighWaterMark,He=E("../errors").codes,Nt=He.ERR_INVALID_ARG_TYPE,xt=He.ERR_METHOD_NOT_IMPLEMENTED,sn=He.ERR_MULTIPLE_CALLBACK,Ft=He.ERR_STREAM_CANNOT_PIPE,Rt=He.ERR_STREAM_DESTROYED,an=He.ERR_STREAM_NULL_VALUES,bt=He.ERR_STREAM_WRITE_AFTER_END,Et=He.ERR_UNKNOWN_ENCODING,dt=vn.errorOrDestroy;E("inherits")(C,ge),N.prototype.getBuffer=function(){for(var G=this.bufferedRequest,K=[];G;)K.push(G),G=G.next;return K},function(){try{Object.defineProperty(N.prototype,"buffer",{get:de.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(St=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(G){return!!St.call(this,G)||this===C&&G&&G._writableState instanceof N}})):St=function(G){return G instanceof this},C.prototype.pipe=function(){dt(this,new Ft)},C.prototype.write=function(G,K,ae){var fe=this._writableState,Re=!1,u=!fe.objectMode&&function m(G){return he.isBuffer(G)||G instanceof et}(G);return u&&!he.isBuffer(G)&&(G=function x(G){return he.from(G)}(G)),"function"==typeof K&&(ae=K,K=null),u?K="buffer":!K&&(K=fe.defaultEncoding),"function"!=typeof ae&&(ae=I),fe.ending?function P(G,K){var ae=new bt;dt(G,ae),_.nextTick(K,ae)}(this,ae):(u||function V(G,K,ae,fe){var Re;return null===ae?Re=new an:"string"!=typeof ae&&!K.objectMode&&(Re=new Nt("chunk",["string","Buffer"],ae)),!Re||(dt(G,Re),_.nextTick(fe,Re),!1)}(this,fe,G,ae))&&(fe.pendingcb++,Re=q(this,fe,u,G,K,ae)),Re},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var G=this._writableState;G.corked&&(G.corked--,!G.writing&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&ee(this,G))},C.prototype.setDefaultEncoding=function(G){if("string"==typeof G&&(G=G.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((G+"").toLowerCase())))throw new Et(G);return this._writableState.defaultEncoding=G,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(G,K,ae){ae(new xt("_write()"))},C.prototype._writev=null,C.prototype.end=function(G,K,ae){var fe=this._writableState;return"function"==typeof G?(ae=G,G=null,K=null):"function"==typeof K&&(ae=K,K=null),null!=G&&this.write(G,K),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||function ie(G,K,ae){K.ending=!0,Q(G,K),ae&&(K.finished?_.nextTick(ae):G.once("finish",ae)),K.ended=!0,G.writable=!1}(this,fe,ae),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(G){this._writableState&&(this._writableState.destroyed=G)}}),C.prototype.destroy=vn.destroy,C.prototype._undestroy=vn.undestroy,C.prototype._destroy=function(G,K){K(G)}}).call(this)}).call(this,E("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(E,S){(function(_){(function(){"use strict";function v(H,ee,k){return ee in H?Object.defineProperty(H,ee,{value:k,enumerable:!0,configurable:!0,writable:!0}):H[ee]=k,H}function M(H,ee){return{value:H,done:ee}}function x(H){var ee=H[P];if(null!==ee){var k=H[A].read();null!==k&&(H[D]=null,H[P]=null,H[V]=null,ee(M(k,!1)))}}function m(H){_.nextTick(x,H)}var N,C=E("./end-of-stream"),P=Symbol("lastResolve"),V=Symbol("lastReject"),U=Symbol("error"),q=Symbol("ended"),D=Symbol("lastPromise"),b=Symbol("handlePromise"),A=Symbol("stream"),L=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((v(N={get stream(){return this[A]},next:function(){var H=this,ee=this[U];if(null!==ee)return Promise.reject(ee);if(this[q])return Promise.resolve(M(void 0,!0));if(this[A].destroyed)return new Promise(function(Q,ie){_.nextTick(function(){H[U]?ie(H[U]):Q(M(void 0,!0))})});var k,F=this[D];if(F)k=new Promise(function I(H,ee){return function(k,F){H.then(function(){return ee[q]?void k(M(void 0,!0)):void ee[b](k,F)},F)}}(F,this));else{var $=this[A].read();if(null!==$)return Promise.resolve(M($,!1));k=new Promise(this[b])}return this[D]=k,k}},Symbol.asyncIterator,function(){return this}),v(N,"return",function(){var H=this;return new Promise(function(ee,k){H[A].destroy(null,function(F){return F?void k(F):void ee(M(void 0,!0))})})}),N),L);S.exports=function(H){var ee,k=Object.create(R,(v(ee={},A,{value:H,writable:!0}),v(ee,P,{value:null,writable:!0}),v(ee,V,{value:null,writable:!0}),v(ee,U,{value:null,writable:!0}),v(ee,q,{value:H._readableState.endEmitted,writable:!0}),v(ee,b,{value:function(F,$){var Q=k[A].read();Q?(k[D]=null,k[P]=null,k[V]=null,F(M(Q,!1))):(k[P]=F,k[V]=$)},writable:!0}),ee));return k[D]=null,C(H,function(F){if(F&&"ERR_STREAM_PREMATURE_CLOSE"!==F.code){var $=k[V];return null!==$&&(k[D]=null,k[P]=null,k[V]=null,$(F)),void(k[U]=F)}var Q=k[P];null!==Q&&(k[D]=null,k[P]=null,k[V]=null,Q(M(void 0,!0))),k[q]=!0}),H.on("readable",m.bind(null,k)),k}}).call(this)}).call(this,E("_process"))},{"./end-of-stream":24,_process:12}],22:[function(E,S){"use strict";function _(D,b){var A=Object.keys(D);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(D);b&&(L=L.filter(function(R){return Object.getOwnPropertyDescriptor(D,R).enumerable})),A.push.apply(A,L)}return A}function M(D,b,A){return b in D?Object.defineProperty(D,b,{value:A,enumerable:!0,configurable:!0,writable:!0}):D[b]=A,D}function m(D,b){for(var A,L=0;L<b.length;L++)(A=b[L]).enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(D,A.key,A)}function N(D,b,A){P.prototype.copy.call(D,b,A)}var P=E("buffer").Buffer,U=E("util").inspect,q=U&&U.custom||"inspect";S.exports=function(){function D(){(function x(D,b){if(!(D instanceof b))throw new TypeError("Cannot call a class as a function")})(this,D),this.head=null,this.tail=null,this.length=0}return function I(D,b,A){return b&&m(D.prototype,b),A&&m(D,A),D}(D,[{key:"push",value:function(b){var A={data:b,next:null};0<this.length?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(b){var A={data:b,next:this.head};0===this.length&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(0!==this.length){var b=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(0===this.length)return"";for(var A=this.head,L=""+A.data;A=A.next;)L+=b+A.data;return L}},{key:"concat",value:function(b){if(0===this.length)return P.alloc(0);for(var A=P.allocUnsafe(b>>>0),L=this.head,R=0;L;)N(L.data,A,R),R+=L.data.length,L=L.next;return A}},{key:"consume",value:function(b,A){var L;return b<this.head.data.length?(L=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):L=b===this.head.data.length?this.shift():A?this._getString(b):this._getBuffer(b),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var A=this.head,L=1,R=A.data;for(b-=R.length;A=A.next;){var H=A.data,ee=b>H.length?H.length:b;if(R+=ee===H.length?H:H.slice(0,b),0==(b-=ee)){ee===H.length?(++L,this.head=A.next?A.next:this.tail=null):(this.head=A,A.data=H.slice(ee));break}++L}return this.length-=L,R}},{key:"_getBuffer",value:function(b){var A=P.allocUnsafe(b),L=this.head,R=1;for(L.data.copy(A),b-=L.data.length;L=L.next;){var H=L.data,ee=b>H.length?H.length:b;if(H.copy(A,A.length-b,0,ee),0==(b-=ee)){ee===H.length?(++R,this.head=L.next?L.next:this.tail=null):(this.head=L,L.data=H.slice(ee));break}++R}return this.length-=R,A}},{key:q,value:function(b,A){return U(this,function v(D){for(var b,A=1;A<arguments.length;A++)b=null==arguments[A]?{}:arguments[A],A%2?_(Object(b),!0).forEach(function(L){M(D,L,b[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(b)):_(Object(b)).forEach(function(L){Object.defineProperty(D,L,Object.getOwnPropertyDescriptor(b,L))});return D}({},A,{depth:0,customInspect:!1}))}}]),D}()},{buffer:3,util:2}],23:[function(E,S){(function(_){(function(){"use strict";function v(m,I){x(m,I),M(m)}function M(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function x(m,I){m.emit("error",I)}S.exports={destroy:function(m,I){var N=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(I?I(m):m&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,_.nextTick(x,this,m)):_.nextTick(x,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(V){!I&&V?N._writableState?N._writableState.errorEmitted?_.nextTick(M,N):(N._writableState.errorEmitted=!0,_.nextTick(v,N,V)):_.nextTick(v,N,V):I?(_.nextTick(M,N),I(V)):_.nextTick(M,N)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(m,I){var N=m._readableState,C=m._writableState;N&&N.autoDestroy||C&&C.autoDestroy?m.destroy(I):m.emit("error",I)}}}).call(this)}).call(this,E("_process"))},{_process:12}],24:[function(E,S){"use strict";function v(){}var m=E("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;S.exports=function x(I,N,C){if("function"==typeof N)return x(I,null,N);N||(N={}),C=function _(I){var N=!1;return function(){if(!N){N=!0;for(var C=arguments.length,P=Array(C),V=0;V<C;V++)P[V]=arguments[V];I.apply(this,P)}}}(C||v);var P=N.readable||!1!==N.readable&&I.readable,V=N.writable||!1!==N.writable&&I.writable,U=function(){I.writable||D()},q=I._writableState&&I._writableState.finished,D=function(){V=!1,q=!0,P||C.call(I)},b=I._readableState&&I._readableState.endEmitted,A=function(){P=!1,b=!0,V||C.call(I)},L=function(ee){C.call(I,ee)},R=function(){var ee;return P&&!b?(I._readableState&&I._readableState.ended||(ee=new m),C.call(I,ee)):V&&!q?(I._writableState&&I._writableState.ended||(ee=new m),C.call(I,ee)):void 0},H=function(){I.req.on("finish",D)};return function M(I){return I.setHeader&&"function"==typeof I.abort}(I)?(I.on("complete",D),I.on("abort",R),I.req?H():I.on("request",H)):V&&!I._writableState&&(I.on("end",U),I.on("close",U)),I.on("end",A),I.on("finish",D),!1!==N.error&&I.on("error",L),I.on("close",R),function(){I.removeListener("complete",D),I.removeListener("abort",R),I.removeListener("request",H),I.req&&I.req.removeListener("finish",D),I.removeListener("end",U),I.removeListener("close",U),I.removeListener("finish",D),I.removeListener("end",A),I.removeListener("error",L),I.removeListener("close",R)}}},{"../../../errors":15}],25:[function(E,S){S.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(E,S){"use strict";function v(q){if(q)throw q}function m(q){q()}function I(q,D){return q.pipe(D)}var C,P=E("../../../errors").codes,V=P.ERR_MISSING_ARGS,U=P.ERR_STREAM_DESTROYED;S.exports=function(){for(var q=arguments.length,D=Array(q),b=0;b<q;b++)D[b]=arguments[b];var A=function N(q){return q.length&&"function"==typeof q[q.length-1]?q.pop():v}(D);if(Array.isArray(D[0])&&(D=D[0]),2>D.length)throw new V("streams");var L,R=D.map(function(H,ee){var k=ee<D.length-1;return function x(q,D,b,A){A=function _(q){var D=!1;return function(){D||(D=!0,q.apply(void 0,arguments))}}(A);var L=!1;q.on("close",function(){L=!0}),void 0===C&&(C=E("./end-of-stream")),C(q,{readable:D,writable:b},function(H){return H?A(H):(L=!0,void A())});var R=!1;return function(H){if(!L)return R?void 0:(R=!0,function M(q){return q.setHeader&&"function"==typeof q.abort}(q)?q.abort():"function"==typeof q.destroy?q.destroy():void A(H||new U("pipe")))}}(H,k,0<ee,function(F){L||(L=F),F&&R.forEach(m),k||(R.forEach(m),A(L))})});return D.reduce(I)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(E,S){"use strict";var v=E("../../../errors").codes.ERR_INVALID_OPT_VALUE;S.exports={getHighWaterMark:function(M,x,m,I){var N=function _(M,x,m){return null==M.highWaterMark?x?M[m]:null:M.highWaterMark}(x,I,m);if(null!=N){if(!isFinite(N)||z(N)!==N||0>N)throw new v(I?m:"highWaterMark",N);return z(N)}return M.objectMode?16:16384}}},{"../../../errors":15}],28:[function(E,S){S.exports=E("events").EventEmitter},{events:7}],29:[function(E,S,_){(_=S.exports=E("./lib/_stream_readable.js")).Stream=_,_.Readable=_,_.Writable=E("./lib/_stream_writable.js"),_.Duplex=E("./lib/_stream_duplex.js"),_.Transform=E("./lib/_stream_transform.js"),_.PassThrough=E("./lib/_stream_passthrough.js"),_.finished=E("./lib/internal/streams/end-of-stream.js"),_.pipeline=E("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(E,S,_){function v(I,N){for(var C in I)N[C]=I[C]}function M(I,N,C){return m(I,N,C)}var x=E("buffer"),m=x.Buffer;m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?S.exports=x:(v(x,_),_.Buffer=M),M.prototype=Object.create(m.prototype),v(m,M),M.from=function(I,N,C){if("number"==typeof I)throw new TypeError("Argument must not be a number");return m(I,N,C)},M.alloc=function(I,N,C){if("number"!=typeof I)throw new TypeError("Argument must be a number");var P=m(I);return void 0===N?P.fill(0):"string"==typeof C?P.fill(N,C):P.fill(N),P},M.allocUnsafe=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return m(I)},M.allocUnsafeSlow=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return x.SlowBuffer(I)}},{buffer:3}],31:[function(E,S,_){"use strict";function x(R){var H;switch(this.encoding=function M(R){var H=function v(R){if(!R)return"utf8";for(var H;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(H)return;R=(""+R).toLowerCase(),H=!0}}(R);if("string"!=typeof H&&(A.isEncoding===L||!L(R)))throw new Error("Unknown encoding: "+R);return H||R}(R),this.encoding){case"utf16le":this.text=P,this.end=V,H=4;break;case"utf8":this.fillLast=C,H=4;break;case"base64":this.text=U,this.end=q,H=3;break;default:return this.write=D,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(H)}function m(R){return 127>=R?0:R>>5==6?2:R>>4==14?3:R>>3==30?4:R>>6==2?-1:-2}function C(R){var H=this.lastTotal-this.lastNeed,ee=function N(R,H){if(128!=(192&H[0]))return R.lastNeed=0,"\ufffd";if(1<R.lastNeed&&1<H.length){if(128!=(192&H[1]))return R.lastNeed=1,"\ufffd";if(2<R.lastNeed&&2<H.length&&128!=(192&H[2]))return R.lastNeed=2,"\ufffd"}}(this,R);return void 0===ee?this.lastNeed<=R.length?(R.copy(this.lastChar,H,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(R.copy(this.lastChar,H,0,R.length),void(this.lastNeed-=R.length)):ee}function P(R,H){if((R.length-H)%2==0){var ee=R.toString("utf16le",H);if(ee){var k=ee.charCodeAt(ee.length-1);if(55296<=k&&56319>=k)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],ee.slice(0,-1)}return ee}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",H,R.length-1)}function V(R){var H=R&&R.length?this.write(R):"";return this.lastNeed?H+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):H}function U(R,H){var ee=(R.length-H)%3;return 0==ee?R.toString("base64",H):(this.lastNeed=3-ee,this.lastTotal=3,1==ee?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",H,R.length-ee))}function q(R){var H=R&&R.length?this.write(R):"";return this.lastNeed?H+this.lastChar.toString("base64",0,3-this.lastNeed):H}function D(R){return R.toString(this.encoding)}function b(R){return R&&R.length?this.write(R):""}var A=E("safe-buffer").Buffer,L=A.isEncoding||function(R){switch((R=""+R)&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};_.StringDecoder=x,x.prototype.write=function(R){if(0===R.length)return"";var H,ee;if(this.lastNeed){if(void 0===(H=this.fillLast(R)))return"";ee=this.lastNeed,this.lastNeed=0}else ee=0;return ee<R.length?H?H+this.text(R,ee):this.text(R,ee):H||""},x.prototype.end=function(R){var H=R&&R.length?this.write(R):"";return this.lastNeed?H+"\ufffd":H},x.prototype.text=function(R,H){var ee=function I(R,H,ee){var k=H.length-1;if(k<ee)return 0;var F=m(H[k]);return 0<=F?(0<F&&(R.lastNeed=F-1),F):--k<ee||-2===F?0:0<=(F=m(H[k]))?(0<F&&(R.lastNeed=F-2),F):--k<ee||-2===F?0:0<=(F=m(H[k]))?(0<F&&(2===F?F=0:R.lastNeed=F-3),F):0}(this,R,H);if(!this.lastNeed)return R.toString("utf8",H);this.lastTotal=ee;var k=R.length-(ee-this.lastNeed);return R.copy(this.lastChar,0,k),R.toString("utf8",H,k)},x.prototype.fillLast=function(R){return this.lastNeed<=R.length?(R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),void(this.lastNeed-=R.length))}},{"safe-buffer":30}],32:[function(E,S){(function(_){(function(){function v(M){try{if(!_.localStorage)return!1}catch{return!1}var x=_.localStorage[M];return null!=x&&"true"===(x+"").toLowerCase()}S.exports=function(M,x){if(v("noDeprecation"))return M;var I=!1;return function m(){if(!I){if(v("throwDeprecation"))throw new Error(x);v("traceDeprecation")?console.trace(x):console.warn(x),I=!0}return M.apply(this,arguments)}}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],"/":[function(E,S){function _(q){return q.replace(/a=ice-options:trickle\s\n/g,"")}const M=E("debug")("simple-peer"),x=E("get-browser-rtc"),m=E("randombytes"),I=E("readable-stream"),N=E("queue-microtask"),C=E("err-code"),{Buffer:P}=E("buffer"),V=65536;class U extends I.Duplex{constructor(D){if(super(D=Object.assign({allowHalfOpen:!1},D)),this._id=m(4).toString("hex").slice(0,7),this._debug("new peer %o",D),this.channelName=D.initiator?D.channelName||m(20).toString("hex"):null,this.initiator=D.initiator||!1,this.channelConfig=D.channelConfig||U.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},U.config,D.config),this.offerOptions=D.offerOptions||{},this.answerOptions=D.answerOptions||{},this.sdpTransform=D.sdpTransform||(b=>b),this.streams=D.streams||(D.stream?[D.stream]:[]),this.trickle=void 0===D.trickle||D.trickle,this.allowHalfTrickle=void 0!==D.allowHalfTrickle&&D.allowHalfTrickle,this.iceCompleteTimeout=D.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=D.wrtc&&"object"==typeof D.wrtc?D.wrtc:x(),!this._wrtc)throw C(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(b){return void this.destroy(C(b,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=b=>{this._onIceCandidate(b)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(b=>{this.destroy(C(b,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=b=>{this._setupData(b)},this.streams&&this.streams.forEach(b=>{this.addStream(b)}),this._pc.ontrack=b=>{this._onTrack(b)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(D){if(!this.destroying){if(this.destroyed)throw C(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof D)try{D=JSON.parse(D)}catch{D={}}this._debug("signal()"),D.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),D.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(D.transceiverRequest.kind,D.transceiverRequest.init)),D.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(D.candidate):this._pendingCandidates.push(D.candidate)),D.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(D)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(b=>{this._addIceCandidate(b)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(b=>{this.destroy(C(b,"ERR_SET_REMOTE_DESCRIPTION"))}),D.sdp||D.candidate||D.renegotiate||D.transceiverRequest||this.destroy(C(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(D){const b=new this._wrtc.RTCIceCandidate(D);this._pc.addIceCandidate(b).catch(A=>{!b.address||b.address.endsWith(".local")?function v(q){console.warn(q)}("Ignoring unsupported ICE candidate."):this.destroy(C(A,"ERR_ADD_ICE_CANDIDATE"))})}send(D){if(!this.destroying){if(this.destroyed)throw C(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(D)}}addTransceiver(D,b){if(!this.destroying){if(this.destroyed)throw C(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(D,b),this._needsNegotiation()}catch(A){this.destroy(C(A,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:D,init:b}})}}addStream(D){if(!this.destroying){if(this.destroyed)throw C(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),D.getTracks().forEach(b=>{this.addTrack(b,D)})}}addTrack(D,b){if(this.destroying)return;if(this.destroyed)throw C(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const A=this._senderMap.get(D)||new Map;let L=A.get(b);if(L)throw L.removed?C(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):C(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");L=this._pc.addTrack(D,b),A.set(b,L),this._senderMap.set(D,A),this._needsNegotiation()}replaceTrack(D,b,A){if(this.destroying)return;if(this.destroyed)throw C(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const L=this._senderMap.get(D),R=L?L.get(A):null;if(!R)throw C(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");b&&this._senderMap.set(b,L),null==R.replaceTrack?this.destroy(C(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):R.replaceTrack(b)}removeTrack(D,b){if(this.destroying)return;if(this.destroyed)throw C(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const A=this._senderMap.get(D),L=A?A.get(b):null;if(!L)throw C(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{L.removed=!0,this._pc.removeTrack(L)}catch(R){"NS_ERROR_UNEXPECTED"===R.name?this._sendersAwaitingStable.push(L):this.destroy(C(R,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(D){if(!this.destroying){if(this.destroyed)throw C(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),D.getTracks().forEach(b=>{this.removeTrack(b,D)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,N(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw C(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(D){this._destroy(D,()=>{})}_destroy(D,b){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",D&&(D.message||D)),N(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",D&&(D.message||D)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,D&&this.emit("error",D),this.emit("close"),b()}))}_setupData(D){if(!D.channel)return this.destroy(C(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=D.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=V),this.channelName=this._channel.label,this._channel.onmessage=A=>{this._onChannelMessage(A)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=A=>{const L=A.error instanceof Error?A.error:new Error(`Datachannel error: ${A.message} ${A.filename}:${A.lineno}:${A.colno}`);this.destroy(C(L,"ERR_DATA_CHANNEL"))};let b=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(b&&this._onChannelClose(),b=!0):b=!1},5e3)}_read(){}_write(D,b,A){if(this.destroyed)return A(C(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(D)}catch(L){return this.destroy(C(L,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>V?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=A):A(null)}else this._debug("write before connect"),this._chunk=D,this._cb=A}_onFinish(){if(!this.destroyed){const D=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?D():this.once("connect",D)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(D=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(D.sdp=_(D.sdp)),D.sdp=this.sdpTransform(D.sdp);const b=()=>{if(!this.destroyed){const A=this._pc.localDescription||D;this._debug("signal"),this.emit("signal",{type:A.type,sdp:A.sdp})}};this._pc.setLocalDescription(D).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?b():this.once("_iceComplete",b))}).catch(A=>{this.destroy(C(A,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(D=>{this.destroy(C(D,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(D=>{D.mid||!D.sender.track||D.requested||(D.requested=!0,this.addTransceiver(D.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(D=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(D.sdp=_(D.sdp)),D.sdp=this.sdpTransform(D.sdp);const b=()=>{if(!this.destroyed){const A=this._pc.localDescription||D;this._debug("signal"),this.emit("signal",{type:A.type,sdp:A.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(D).then(()=>{this.destroyed||(this.trickle||this._iceComplete?b():this.once("_iceComplete",b))}).catch(A=>{this.destroy(C(A,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(D=>{this.destroy(C(D,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(C(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const D=this._pc.iceConnectionState,b=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",D,b),this.emit("iceStateChange",D,b),("connected"===D||"completed"===D)&&(this._pcReady=!0,this._maybeReady()),"failed"===D&&this.destroy(C(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===D&&this.destroy(C(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(D){const b=A=>("[object Array]"===Object.prototype.toString.call(A.values)&&A.values.forEach(L=>{Object.assign(A,L)}),A);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(A=>{const L=[];A.forEach(R=>{L.push(b(R))}),D(null,L)},A=>D(A)):0<this._pc.getStats.length?this._pc.getStats(A=>{if(this.destroyed)return;const L=[];A.result().forEach(R=>{const H={};R.names().forEach(ee=>{H[ee]=R.stat(ee)}),H.id=R.id,H.type=R.type,H.timestamp=R.timestamp,L.push(b(H))}),D(null,L)},A=>D(A)):D(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const D=()=>{this.destroyed||this.getStats((b,A)=>{if(this.destroyed)return;b&&(A=[]);const L={},R={},H={};let ee=!1;A.forEach(F=>{("remotecandidate"===F.type||"remote-candidate"===F.type)&&(L[F.id]=F),("localcandidate"===F.type||"local-candidate"===F.type)&&(R[F.id]=F),("candidatepair"===F.type||"candidate-pair"===F.type)&&(H[F.id]=F)});const k=F=>{ee=!0;let $=R[F.localCandidateId];$&&($.ip||$.address)?(this.localAddress=$.ip||$.address,this.localPort=+$.port):$&&$.ipAddress?(this.localAddress=$.ipAddress,this.localPort=+$.portNumber):"string"==typeof F.googLocalAddress&&($=F.googLocalAddress.split(":"),this.localAddress=$[0],this.localPort=+$[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let Q=L[F.remoteCandidateId];Q&&(Q.ip||Q.address)?(this.remoteAddress=Q.ip||Q.address,this.remotePort=+Q.port):Q&&Q.ipAddress?(this.remoteAddress=Q.ipAddress,this.remotePort=+Q.portNumber):"string"==typeof F.googRemoteAddress&&(Q=F.googRemoteAddress.split(":"),this.remoteAddress=Q[0],this.remotePort=+Q[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(A.forEach(F=>{"transport"===F.type&&F.selectedCandidatePairId&&k(H[F.selectedCandidatePairId]),("googCandidatePair"===F.type&&"true"===F.googActiveConnection||("candidatepair"===F.type||"candidate-pair"===F.type)&&F.selected)&&k(F)}),ee||Object.keys(H).length&&!Object.keys(R).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch($){return this.destroy(C($,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const F=this._cb;this._cb=null,F(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(D,100)})};D()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>V)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(D=>{this._pc.removeTrack(D),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(D){this.destroyed||(D.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:D.candidate.candidate,sdpMLineIndex:D.candidate.sdpMLineIndex,sdpMid:D.candidate.sdpMid}}):!D.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),D.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(D){if(this.destroyed)return;let b=D.data;b instanceof ArrayBuffer&&(b=P.from(b)),this.push(b)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const D=this._cb;this._cb=null,D(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(D){this.destroyed||D.streams.forEach(b=>{this._debug("on track"),this.emit("track",D.track,b),this._remoteTracks.push({track:D.track,stream:b}),this._remoteStreams.some(A=>A.id===b.id)||(this._remoteStreams.push(b),N(()=>{this._debug("on stream"),this.emit("stream",b)}))})}_debug(){const D=[].slice.call(arguments);D[0]="["+this._id+"] "+D[0],M.apply(null,D)}}U.WEBRTC_SUPPORT=!!x(),U.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},U.channelConfig={},S.exports=U},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/"))}},Te=>{Te(Te.s=511)}]);